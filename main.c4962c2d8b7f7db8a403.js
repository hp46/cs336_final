(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("os0x"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return f}),n.d(e,"a",function(){return d});let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new h(c),d=f},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.1.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return L}),n.d(e,"b",function(){return Fu}),n.d(e,"c",function(){return Ru}),n.d(e,"d",function(){return ju}),n.d(e,"e",function(){return Pu}),n.d(e,"f",function(){return Ic}),n.d(e,"g",function(){return vc}),n.d(e,"h",function(){return Ma}),n.d(e,"i",function(){return Qu}),n.d(e,"j",function(){return la}),n.d(e,"k",function(){return qu}),n.d(e,"l",function(){return pa}),n.d(e,"m",function(){return Ir}),n.d(e,"n",function(){return hu}),n.d(e,"o",function(){return ds}),n.d(e,"p",function(){return v}),n.d(e,"q",function(){return D}),n.d(e,"r",function(){return As}),n.d(e,"s",function(){return ja}),n.d(e,"t",function(){return Pa}),n.d(e,"u",function(){return Uu}),n.d(e,"v",function(){return Ka}),n.d(e,"w",function(){return _c}),n.d(e,"x",function(){return Ga}),n.d(e,"y",function(){return dc}),n.d(e,"z",function(){return Xu}),n.d(e,"A",function(){return b}),n.d(e,"B",function(){return Mu}),n.d(e,"C",function(){return Lu}),n.d(e,"D",function(){return du}),n.d(e,"E",function(){return ma}),n.d(e,"F",function(){return ga}),n.d(e,"G",function(){return Pr}),n.d(e,"H",function(){return va}),n.d(e,"I",function(){return kn}),n.d(e,"J",function(){return w}),n.d(e,"K",function(){return Oc}),n.d(e,"L",function(){return za}),n.d(e,"M",function(){return oc}),n.d(e,"N",function(){return G}),n.d(e,"O",function(){return _a}),n.d(e,"P",function(){return ba}),n.d(e,"Q",function(){return Ya}),n.d(e,"R",function(){return nt}),n.d(e,"S",function(){return pc}),n.d(e,"T",function(){return on}),n.d(e,"U",function(){return H}),n.d(e,"V",function(){return Ft}),n.d(e,"W",function(){return sn}),n.d(e,"X",function(){return Tc}),n.d(e,"Y",function(){return cc}),n.d(e,"Z",function(){return Vu}),n.d(e,"ab",function(){return gs}),n.d(e,"bb",function(){return Yo}),n.d(e,"cb",function(){return In}),n.d(e,"db",function(){return hn}),n.d(e,"eb",function(){return Qe}),n.d(e,"fb",function(){return Ze}),n.d(e,"gb",function(){return en}),n.d(e,"hb",function(){return Je}),n.d(e,"ib",function(){return Xe}),n.d(e,"jb",function(){return tn}),n.d(e,"kb",function(){return $o}),n.d(e,"lb",function(){return Sc}),n.d(e,"mb",function(){return Go}),n.d(e,"nb",function(){return Ko}),n.d(e,"ob",function(){return Ye}),n.d(e,"pb",function(){return B}),n.d(e,"qb",function(){return Fs}),n.d(e,"rb",function(){return Js}),n.d(e,"sb",function(){return Xs}),n.d(e,"tb",function(){return Wo}),n.d(e,"ub",function(){return qt}),n.d(e,"vb",function(){return E}),n.d(e,"wb",function(){return Ke}),n.d(e,"xb",function(){return js}),n.d(e,"yb",function(){return Mn}),n.d(e,"zb",function(){return aa}),n.d(e,"Ab",function(){return vi}),n.d(e,"Bb",function(){return qs}),n.d(e,"Cb",function(){return Oo}),n.d(e,"Db",function(){return Su}),n.d(e,"Eb",function(){return dt}),n.d(e,"Fb",function(){return _t}),n.d(e,"Gb",function(){return T}),n.d(e,"Hb",function(){return x}),n.d(e,"Ib",function(){return yt}),n.d(e,"Jb",function(){return wt}),n.d(e,"Kb",function(){return Hs}),n.d(e,"Lb",function(){return Ys}),n.d(e,"Mb",function(){return Qs}),n.d(e,"Nb",function(){return Ks}),n.d(e,"Ob",function(){return Zs}),n.d(e,"Pb",function(){return Cr}),n.d(e,"Qb",function(){return Uo}),n.d(e,"Rb",function(){return Mt}),n.d(e,"Sb",function(){return Ws}),n.d(e,"Tb",function(){return ku}),n.d(e,"Ub",function(){return to}),n.d(e,"Vb",function(){return Tu}),n.d(e,"Wb",function(){return so}),n.d(e,"Xb",function(){return uo}),n.d(e,"Yb",function(){return ao}),n.d(e,"Zb",function(){return $s}),n.d(e,"ac",function(){return co}),n.d(e,"bc",function(){return Ou}),n.d(e,"cc",function(){return de}),n.d(e,"dc",function(){return jn}),n.d(e,"ec",function(){return vt}),n.d(e,"fc",function(){return Cu}),n.d(e,"gc",function(){return Vo}),n.d(e,"hc",function(){return Eo}),n.d(e,"ic",function(){return eo}),n.d(e,"jc",function(){return qo}),n.d(e,"kc",function(){return zs}),n.d(e,"lc",function(){return Do}),n.d(e,"mc",function(){return Lo}),n.d(e,"nc",function(){return Mo}),n.d(e,"oc",function(){return Fo}),n.d(e,"pc",function(){return Pn});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends s.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){return{toString:t}.toString()}const m="__parameters__";function y(t,e,n){return g(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(m)?t[m]:Object.defineProperty(t,m,{value:[]})[m];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const v=y("Inject",t=>({token:t})),b=y("Optional"),_=y("Self"),w=y("SkipSelf");function E(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(E).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function O(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}function C(t){for(let e in t)if(t[e]===C)return e;throw Error("Could not find renamed property on target object.")}function S(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function T(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function x(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function I(t){return A(t,j)||A(t,R)}function A(t,e){return t.hasOwnProperty(e)?t[e]:null}function k(t){return t&&(t.hasOwnProperty(P)||t.hasOwnProperty(N))?t[P]:null}const j=C({"\u0275prov":C}),P=C({"\u0275inj":C}),R=C({ngInjectableDef:C}),N=C({ngInjectorDef:C});class D{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=T({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const L=new D("AnalyzeForEntryComponents");var M=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({});const F="undefined"!=typeof globalThis&&globalThis,V="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,B=F||q||V||U,z=C({__forward_ref__:C});function H(t){return t.__forward_ref__=H,t.toString=function(){return E(this())},t}function W(t){return $(t)?t():t}function $(t){return"function"==typeof t&&t.hasOwnProperty(z)&&t.__forward_ref__===H}const G=Function;function K(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),K(r,e)):e!==t&&e.push(r)}return e}function Q(t,e){t.forEach(t=>Array.isArray(t)?Q(t,e):e(t))}function Y(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Z(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function X(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function J(t,e,n){let r=et(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function tt(t,e){const n=et(t,e);if(n>=0)return t[1|n]}function et(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}var nt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const rt={},it=[],st=C({"\u0275cmp":C}),ot=C({"\u0275dir":C}),at=C({"\u0275pipe":C}),ut=C({"\u0275mod":C}),ct=C({"\u0275loc":C}),lt=C({"\u0275fac":C}),ht=C({__NG_ELEMENT_ID__:C});let ft=0;function dt(t){return g(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===M.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||it,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||nt.Emulated,id:"c",styles:t.styles||it,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=ft++,n.inputs=bt(t.inputs,e),n.outputs=bt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(pt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(gt):null,n})}function pt(t){return Et(t)||function(t){return t[ot]||null}(t)}function gt(t){return function(t){return t[at]||null}(t)}const mt={};function yt(t){const e={type:t.type,bootstrap:t.bootstrap||it,declarations:t.declarations||it,imports:t.imports||it,exports:t.exports||it,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&g(()=>{mt[t.id]=t.type}),e}function vt(t,e){return g(()=>{const n=Ot(t,!0);n.declarations=e.declarations||it,n.imports=e.imports||it,n.exports=e.exports||it})}function bt(t,e){if(null==t)return rt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const _t=dt;function wt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Et(t){return t[st]||null}function Ot(t,e){const n=t[ut]||null;if(!n&&!0===e)throw new Error(`Type ${E(t)} does not have '\u0275mod' property.`);return n}function Ct(t){return"string"==typeof t?t:null==t?"":""+t}function St(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ct(t)}var Tt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let xt;function It(t){const e=xt;return xt=t,e}function At(t,e,n){const r=I(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&Tt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${E(t)}]`)}const kt={},jt=/\n/gm,Pt="__source",Rt=C({provide:String,useValue:C});let Nt=void 0;function Dt(t){const e=Nt;return Nt=t,e}function Lt(t,e=Tt.Default){if(void 0===Nt)throw new Error("inject() must be called from an injection context");return null===Nt?At(t,void 0,e):Nt.get(t,e&Tt.Optional?null:void 0,e)}function Mt(t,e=Tt.Default){return(xt||Lt)(W(t),e)}const Ft=Mt;function Vt(t){const e=[];for(let n=0;n<t.length;n++){const r=W(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=Tt.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof b||"Optional"===i.ngMetadataName||i===b?n|=Tt.Optional:i instanceof w||"SkipSelf"===i.ngMetadataName||i===w?n|=Tt.SkipSelf:i instanceof _||"Self"===i.ngMetadataName||i===_?n|=Tt.Self:t=i instanceof v||i===v?i.token:i}e.push(Mt(t,n))}else e.push(Mt(r))}return e}let Ut=void 0;function qt(t){Ut=t}const Bt=20,zt=10;function Ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function Wt(t){return Array.isArray(t)&&!0===t[1]}function $t(t){return 0!=(8&t.flags)}function Gt(t){return 2==(2&t.flags)}function Kt(t){return 1==(1&t.flags)}function Qt(t){return null!==t.template}function Yt(t){return!!t.listen}const Zt={createRenderer:(t,e)=>void 0!==Ut?Ut:"undefined"!=typeof document?document:void 0};function Xt(t){for(;Array.isArray(t);)t=t[0];return t}function Jt(t,e){return Xt(e[t])}function te(t,e){return Xt(e[t.index])}function ee(t,e){return t.data[e]}function ne(t,e){const n=e[t];return Ht(n)?n:n[0]}function re(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ie(t){return 4==(4&t[2])}function se(t){return 128==(128&t[2])}function oe(t,e){return null==e?null:t[e]}function ae(t){t[18]=0}function ue(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ce={lFrame:Pe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function le(){return ce.bindingsEnabled}function he(){return ce.lFrame.lView}function fe(){return ce.lFrame.tView}function de(t){ce.lFrame.contextLView=t}function pe(){let t=ge();for(;null!==t&&64===t.type;)t=t.parent;return t}function ge(){return ce.lFrame.currentTNode}function me(t,e){const n=ce.lFrame;n.currentTNode=t,n.isParent=e}function ye(){return ce.lFrame.isParent}function ve(){ce.lFrame.isParent=!1}function be(){return ce.isInCheckNoChangesMode}function _e(t){ce.isInCheckNoChangesMode=t}function we(){return ce.lFrame.bindingIndex++}function Ee(t){const e=ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Oe(t,e){const n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ce(e)}function Ce(t){ce.lFrame.currentDirectiveIndex=t}function Se(t){const e=ce.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Te(){return ce.lFrame.currentQueryIndex}function xe(t){ce.lFrame.currentQueryIndex=t}function Ie(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Ae(t,e,n){if(n&Tt.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&Tt.Host||(r=Ie(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=ce.lFrame=je();return r.currentTNode=e,r.lView=t,!0}function ke(t){const e=je(),n=t[1];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function je(){const t=ce.lFrame,e=null===t?null:t.child;return null===e?Pe(t):e}function Pe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Re(){const t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ne=Re;function De(){const t=Re();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Le(){return ce.lFrame.selectedIndex}function Me(t){ce.lFrame.selectedIndex=t}function Fe(){const t=ce.lFrame;return ee(t.tView,t.selectedIndex)}let Ve;function Ue(){if(void 0===Ve&&(Ve=null,B.trustedTypes))try{Ve=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Ve}function qe(t){var e;return(null===(e=Ue())||void 0===e?void 0:e.createHTML(t))||t}class Be{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class ze extends Be{getTypeName(){return"HTML"}}class He extends Be{getTypeName(){return"Style"}}class We extends Be{getTypeName(){return"Script"}}class $e extends Be{getTypeName(){return"URL"}}class Ge extends Be{getTypeName(){return"ResourceURL"}}function Ke(t){return t instanceof Be?t.changingThisBreaksApplicationSecurity:t}function Qe(t,e){const n=Ye(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Ye(t){return t instanceof Be&&t.getTypeName()||null}function Ze(t){return new ze(t)}function Xe(t){return new He(t)}function Je(t){return new We(t)}function tn(t){return new $e(t)}function en(t){return new Ge(t)}let nn=!0,rn=!1;function sn(){return rn=!0,nn}function on(){if(rn)throw new Error("Cannot enable prod mode after platform setup.");nn=!1}class an{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(qe(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class un{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=qe(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=qe(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const cn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ln=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function hn(t){return(t=String(t)).match(cn)||t.match(ln)?t:(sn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function fn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function dn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const pn=fn("area,br,col,hr,img,wbr"),gn=fn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mn=fn("rp,rt"),yn=dn(mn,gn),vn=dn(pn,dn(gn,fn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),dn(mn,fn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yn),bn=fn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_n=fn("srcset"),wn=dn(bn,_n,fn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),En=fn("script,style,template");class On{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!vn.hasOwnProperty(e))return this.sanitizedSomething=!0,!En.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!wn.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;bn[s]&&(o=hn(o)),_n[s]&&(r=o,o=(r=String(r)).split(",").map(t=>hn(t.trim())).join(", ")),this.buf.push(" ",e,'="',Tn(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();vn.hasOwnProperty(e)&&!pn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Tn(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const Cn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sn=/([^\#-~ |!])/g;function Tn(t){return t.replace(/&/g,"&amp;").replace(Cn,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Sn,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xn;function In(t,e){let n=null;try{xn=xn||function(t){return function(){try{return!!(new window.DOMParser).parseFromString(qe(""),"text/html")}catch(t){return!1}}()?new an:new un(t)}(t);let r=e?String(e):"";n=xn.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=xn.getInertBodyElement(r)}while(r!==s);const o=new On,a=o.sanitizeChildren(An(n)||n);return sn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=An(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function An(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var kn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function jn(t){const e=function(){const t=he();return t&&t[12]}();return e?e.sanitize(kn.URL,t)||"":Qe(t,"URL")?Ke(t):hn(Ct(t))}function Pn(t){return function(t){var e;return(null===(e=Ue())||void 0===e?void 0:e.createScriptURL(t))||t}(t)}function Rn(t,e){return t.hasOwnProperty(lt)?t[lt]:null}class Nn extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function Dn(t,e){const n=e?" in "+e:"";throw new Nn("201",`No provider for ${St(t)} found${n}`)}class Ln{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Mn(){return Fn}function Fn(t){return t.type.prototype.ngOnChanges&&(t.setInput=Un),Vn}function Vn(){const t=qn(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===rt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Un(t,e,n,r){const i=qn(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:rt,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new Ln(u&&u.currentValue,e,o===rt),t[r]=e}function qn(t){return t.__ngSimpleChanges__||null}function Bn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function zn(t,e,n){$n(t,e,3,n)}function Hn(t,e,n,r){(3&t[2])===n&&$n(t,e,n,r)}function Wn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function $n(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(Gn(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Gn(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}Mn.ngInherit=!0;const Kn=-1;class Qn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Yn(t,e,n){const r=Yt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Xn(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Zn(t){return 3===t||4===t||6===t}function Xn(t){return 64===t.charCodeAt(0)}function Jn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||tr(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function tr(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function er(t){return t!==Kn}function nr(t){return 32767&t}function rr(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let ir=!0;function sr(t){const e=ir;return ir=t,e}let or=0;function ar(t,e){const n=cr(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,ur(r.data,t),ur(e,null),ur(r.blueprint,null));const i=lr(t,e),s=t.injectorIndex;if(er(i)){const t=nr(i),n=rr(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function ur(t,e){t.push(0,0,0,0,0,0,0,0,e)}function cr(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function lr(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Kn;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Kn}function hr(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ht)&&(r=n[ht]),null==r&&(r=n[ht]=or++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function fr(t,e,n){if(n&Tt.Optional)return t;Dn(e,"NodeInjector")}function dr(t,e,n,r){if(n&Tt.Optional&&void 0===r&&(r=null),0==(n&(Tt.Self|Tt.Host))){const i=t[9],s=It(void 0);try{return i?i.get(e,r,n&Tt.Optional):At(e,r,n&Tt.Optional)}finally{It(s)}}return fr(r,e,n)}function pr(t,e,n,r=Tt.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ht)?t[ht]:void 0;return"number"==typeof e?e>=0?255&e:mr:e}(n);if("function"==typeof s){if(!Ae(e,t,r))return r&Tt.Host?fr(i,n,r):dr(e,n,r,i);try{const t=s();if(null!=t||r&Tt.Optional)return t;Dn(n)}finally{Ne()}}else if("number"==typeof s){let i=null,o=cr(t,e),a=Kn,u=r&Tt.Host?e[16][6]:null;for((-1===o||r&Tt.SkipSelf)&&(a=-1===o?lr(t,e):e[o+8],a!==Kn&&wr(r,!1)?(i=e[1],o=nr(a),e=rr(a,e)):o=-1);-1!==o;){const t=e[1];if(_r(s,o,t.data)){const t=yr(o,e,n,i,r,u);if(t!==gr)return t}a=e[o+8],a!==Kn&&wr(r,e[1].data[o+8]===u)&&_r(s,o,e)?(i=t,o=nr(a),e=rr(a,e)):o=-1}}}return dr(e,n,r,i)}const gr={};function mr(){return new Er(pe(),he())}function yr(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=vr(a,o,n,null==r?Gt(a)&&ir:r!=o&&0!=(3&a.type),i&Tt.Host&&s===a);return null!==u?br(e,o,u,a):gr}function vr(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&Qt(t)&&t.type===n)return u}return null}function br(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Qn){const o=i;o.resolving&&function(t,e){throw new Nn("200","Circular dependency in DI detected for "+t)}(St(s[n]));const a=sr(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?It(o.injectImpl):null;Ae(t,r,Tt.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Fn(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&It(u),sr(a),o.resolving=!1,Ne()}}return i}function _r(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function wr(t,e){return!(t&Tt.Self||t&Tt.Host&&e)}class Er{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return pr(this._tNode,this._lView,t,void 0,e)}}function Or(t){const e=t;if($(t))return()=>{const t=Or(W(e));return t?t():null};let n=Rn(e);if(null===n){const t=k(e);n=t&&t.factory}return n||null}function Cr(t){return g(()=>{const e=t.prototype.constructor,n=e[lt]||Or(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[lt]||Or(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Sr(t){return t.ngDebugContext}function Tr(t){return t.ngOriginalError}function xr(t,...e){t.error(...e)}class Ir{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||xr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Sr(t)?Sr(t):this._findContext(Tr(t)):null}_findOriginalError(t){let e=Tr(t);for(;e&&Tr(e);)e=Tr(e);return e}}function Ar(t,e){t.__ngContext__=e}const kr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function jr(t){return t instanceof Function?t():t}var Pr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Rr(t,e){return(void 0)(t,e)}function Nr(t){const e=t[3];return Wt(e)?e[3]:e}function Dr(t){return Mr(t[13])}function Lr(t){return Mr(t[4])}function Mr(t){for(;null!==t&&!Wt(t);)t=t[4];return t}function Fr(t,e,n,r,i){if(null!=r){let s,o=!1;Wt(r)?s=r:Ht(r)&&(o=!0,r=r[0]);const a=Xt(r);0===t&&null!==n?null==i?$r(e,n,a):Wr(e,n,a,i||null,!0):1===t&&null!==n?Wr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Kr(t,e);r&&function(t,e,n,r){Yt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Xt(n)&&Fr(e,t,r,s,i);for(let o=zt;o<n.length;o++){const i=n[o];ei(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Vr(t,e,n){return Yt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Ur(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ue(i,-1)),n.splice(r,1)}function qr(t,e){if(t.length<=zt)return;const n=zt+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Ur(s,r),e>0&&(t[n-1][4]=r[4]);const o=Z(t,zt+e);ei(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Br(t,e){if(!(256&e[2])){const n=e[11];Yt(n)&&n.destroyNode&&ei(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return zr(t[1],t);for(;e;){let n=null;if(Ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Ht(e)&&zr(e[1],e),e=e[3];null===e&&(e=t),Ht(e)&&zr(e[1],e),n=e&&e[4]}e=n}}(e)}}function zr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Qn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):Xt(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&Yt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Wt(e[3])){n!==e[3]&&Ur(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Hr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===nt.None||e===nt.Emulated)return null}return te(r,n)}(t,e.parent,n)}function Wr(t,e,n,r,i){Yt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function $r(t,e,n){Yt(t)?t.appendChild(e,n):e.appendChild(n)}function Gr(t,e,n,r,i){null!==r?Wr(t,e,n,r,i):$r(t,e,n)}function Kr(t,e){return Yt(t)?t.parentNode(e):e.parentNode}function Qr(t,e,n){return Yr(t,e,n)}let Yr=function(t,e,n){return 40&t.type?te(t,n):null};function Zr(t,e,n,r){const i=Hr(t,r,e),s=e[11],o=Qr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Gr(s,i,n[a],o,!1);else Gr(s,i,n,o,!1)}function Xr(t,e){if(null!==e){const n=e.type;if(3&n)return te(e,t);if(4&n)return Jr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Xr(t,n);{const n=t[e.index];return Wt(n)?Jr(-1,n):Xt(n)}}if(32&n)return Rr(e,t)()||Xt(t[e.index]);{const n=t[16],r=n[6],i=Nr(n),s=r.projection[e.projection];return null!=s?Xr(i,s):Xr(t,e.next)}}return null}function Jr(t,e){const n=zt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Xr(t,r)}return e[7]}function ti(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Ar(Xt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)ti(t,e,n.child,r,i,s,!1),Fr(e,t,i,a,s);else if(32&u){const o=Rr(n,r);let u;for(;u=o();)Fr(e,t,i,u,s);Fr(e,t,i,a,s)}else 16&u?ni(t,e,r,n,i,s):Fr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ei(t,e,n,r,i,s){ti(n,r,t.firstChild,e,i,s,!1)}function ni(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Fr(e,t,i,a[u],s);else ti(t,e,a,o[3],i,s,!0)}function ri(t,e,n){Yt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ii(t,e,n){Yt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function si(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const oi="ng-template";function ai(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==si(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ui(t){return 4===t.type&&t.value!==oi}function ci(t,e,n){return e===(4!==t.type||n?t.value:oi)}function li(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Zn(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!ci(t,u,n)||""===u&&1===e.length){if(hi(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ai(t.attrs,c,n)){if(hi(r))return!1;o=!0}continue}const l=fi(8&r?"class":u,i,ui(t),n);if(-1===l){if(hi(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==si(e,c,0)||2&r&&c!==t){if(hi(r))return!1;o=!0}}}}else{if(!o&&!hi(r)&&!hi(u))return!1;if(o&&hi(u))continue;o=!1,r=u|1&r}}return hi(r)||o}function hi(t){return 0==(1&t)}function fi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function di(t,e,n=!1){for(let r=0;r<e.length;r++)if(li(t,e[r],n))return!0;return!1}function pi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function gi(t,e){return t?":not("+e.trim()+")":e}function mi(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||hi(o)||(e+=gi(s,i),i=""),r=o,s=s||!hi(r);n++}return""!==i&&(e+=gi(s,i)),e}const yi={};function vi(t){bi(fe(),he(),Le()+t,be())}function bi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&zn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Hn(e,r,0,n)}Me(n)}function _i(t,e){return t<<17|e<<2}function wi(t){return t>>17&32767}function Ei(t){return 2|t}function Oi(t){return(131068&t)>>2}function Ci(t,e){return-131069&t|e<<2}function Si(t){return 1|t}function Ti(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];xe(i),n.contentQueries(2,e[s],s)}}}function xi(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ae(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Ii(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=ge(),o=ye(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),ce.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return me(s,!0),s}function Ai(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ki(t,e,n){ke(e);try{const r=t.viewQuery;null!==r&&ss(1,r,n);const i=t.template;null!==i&&Ri(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ti(t,e),t.staticViewQueries&&ss(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)ts(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,De()}}function ji(t,e,n,r){const i=e[2];if(256==(256&i))return;ke(e);const s=be();try{ae(e),ce.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ri(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&zn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Hn(e,n,0,null),Wn(e,0)}if(function(t){for(let e=Dr(t);null!==e;e=Lr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&ue(r,1),n[2]|=1024}}}(e),function(t){for(let e=Dr(t);null!==e;e=Lr(e))for(let t=zt;t<e.length;t++){const n=e[t],r=n[1];se(n)&&ji(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ti(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&zn(e,n)}else{const n=t.contentHooks;null!==n&&Hn(e,n,1),Wn(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)Me(~r);else{const i=r,s=n[++t],o=n[++t];Oe(s,i),o(2,e[i])}}}finally{Me(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Xi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&ss(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&zn(e,n)}else{const n=t.viewHooks;null!==n&&Hn(e,n,2),Wn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ue(e[3],-1))}finally{De()}}function Pi(t,e,n,r){const i=e[10],s=!be(),o=ie(e);try{s&&!o&&i.begin&&i.begin(),o&&ki(t,e,r),ji(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ri(t,e,n,r,i){const s=Le();try{Me(-1),2&r&&e.length>Bt&&bi(t,e,Bt,be()),n(r,i)}finally{Me(s)}}function Ni(t,e,n){le()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||ar(n,e),Ar(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Qt(r);s&&Ki(e,n,r);const u=br(e,t,a,n);Ar(u,e),null!==o&&Qi(0,a-i,u,r,0,o),s&&(ne(n.index,e)[8]=u)}}(t,e,n,te(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=ce.lFrame.currentDirectiveIndex;try{Me(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Ce(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||zi(r,i)}}finally{Me(-1),Ce(o)}}(t,e,n))}function Di(t,e,n=te){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Li(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Mi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Mi(t,e,n,r,i,s,o,a,u,c){const l=Bt+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:yi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Fi(t,e,n,r){const i=as(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function Vi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ui(t,e,n,r,i,s,o,a){const u=te(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(ls(t,n,c,r,i),Gt(e)&&function(t,e){const n=ne(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Yt(s)?s.setProperty(u,r,i):Xn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function qi(t,e,n,r){let i=!1;if(le()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];di(n,o.selectors,!1)&&(i||(i=[]),hr(ar(n,e),t,o.type),Qt(o)?(Hi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,$i(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Ai(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Jn(n.mergedAttrs,c.hostAttrs),Gi(t,n,e,u,c),Wi(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ui(e)?null:Yi(n,i);s.push(c),o=Vi(n,u,o),a=Vi(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Nn("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Jn(n.mergedAttrs,n.attrs),i}function Bi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function zi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Hi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Wi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Qt(e)&&(n[""]=t)}}function $i(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Gi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Rn(i.type)),o=new Qn(s,Qt(i),null);t.blueprint[r]=o,n[r]=o,Bi(t,e,0,r,Ai(t,n,i.hostVars,yi),i)}function Ki(t,e,n){const r=te(e,t),i=Li(n),s=t[10],o=es(t,xi(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Qi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Yi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Zi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Xi(t,e){const n=ne(e,t);if(se(n)){const t=n[1];80&n[2]?ji(t,n,t.template,n[8]):n[5]>0&&Ji(n)}}function Ji(t){for(let n=Dr(t);null!==n;n=Lr(n))for(let t=zt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];ji(t,e,t.template,e[8])}else e[5]>0&&Ji(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=ne(e[n],t);se(r)&&r[5]>0&&Ji(r)}}function ts(t,e){const n=ne(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),ki(r,n,n[8])}function es(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ns(t){for(;t;){t[2]|=64;const e=Nr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function rs(t,e,n){const r=e[10];r.begin&&r.begin();try{ji(t,e,t.template,n)}catch(i){throw cs(e,i),i}finally{r.end&&r.end()}}function is(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=re(n),i=r[1];Pi(i,r,i.template,n)}}(t[8])}function ss(t,e,n){xe(0),e(t,n)}const os=(()=>Promise.resolve(null))();function as(t){return t[7]||(t[7]=[])}function us(t,e,n){return(null===t||Qt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function cs(t,e){const n=t[9],r=n?n.get(Ir,null):null;r&&r.handleError(e)}function ls(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function hs(t,e,n){const r=Jt(e,t);!function(t,e,n){Yt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function fs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=O(i,t):2==s&&(r=O(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ds=new D("INJECTOR",-1);class ps{get(t,e=kt){if(e===kt){const e=new Error(`NullInjectorError: No provider for ${E(t)}!`);throw e.name="NullInjectorError",e}return e}}const gs=new D("Set Injector scope."),ms={},ys={},vs=[];let bs=void 0;function _s(){return void 0===bs&&(bs=new ps),bs}function ws(t,e=null,n=null,r){return new Es(t,n,e||_s(),r)}class Es{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Q(e,n=>this.processProvider(n,t,e)),Q([t],t=>this.processInjectorType(t,[],i)),this.records.set(ds,Ss(void 0,this));const s=this.records.get(gs);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:E(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=kt,n=Tt.Default){this.assertNotDestroyed();const r=Dt(this);try{if(!(n&Tt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof D)&&I(t);e=n&&this.injectableDefInScope(n)?Ss(Os(t),ms):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&Tt.Self?_s():this.parent).get(t,e=n&Tt.Optional&&e===kt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(E(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Pt]&&i.unshift(e[Pt]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=E(e);if(Array.isArray(e))i=e.map(E).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):E(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(jt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Dt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(E(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=W(t)))return!1;let r=k(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=k(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{Q(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Q(r,t=>this.processProvider(t,n,r||vs))}}this.injectorDefTypes.add(s),this.records.set(s,Ss(r.factory,ms));const a=r.providers;if(null!=a&&!o){const e=t;Q(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=xs(t=W(t))?t:W(t&&t.provide);const i=function(t,e,n){return Ts(t)?Ss(void 0,t.useValue):Ss(Cs(t),ms)}(t);if(xs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Ss(void 0,ms,!0),e.factory=()=>Vt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ms&&(e.value=ys,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Os(t){const e=I(t),n=null!==e?e.factory:Rn(t);if(null!==n)return n;const r=k(t);if(null!==r)return r.factory;if(t instanceof D)throw new Error(`Token ${E(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=X(e,"?");throw new Error(`Can't resolve all parameters for ${E(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[j]||t[R]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Cs(t,e,n){let r=void 0;if(xs(t)){const e=W(t);return Rn(e)||Os(e)}if(Ts(t))r=()=>W(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Vt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Mt(W(t.useExisting));else{const e=W(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Rn(e)||Os(e);r=()=>new e(...Vt(t.deps))}var i;return r}function Ss(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ts(t){return null!==t&&"object"==typeof t&&Rt in t}function xs(t){return"function"==typeof t}const Is=function(t,e,n){return function(t,e=null,n=null,r){const i=ws(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let As=(()=>{class t{static create(t,e){return Array.isArray(t)?Is(t,e,""):Is(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=kt,t.NULL=new ps,t.\u0275prov=T({token:t,providedIn:"any",factory:()=>Mt(ds)}),t.__NG_ELEMENT_ID__=-1,t})();function ks(t,e){Bn(re(t)[1],pe())}function js(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Qt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ps(t.inputs),e.declaredInputs=Ps(t.declaredInputs),e.outputs=Ps(t.outputs);const n=i.hostBindings;n&&Ds(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Rs(t,s),o&&Ns(t,o),S(t.inputs,i.inputs),S(t.declaredInputs,i.declaredInputs),S(t.outputs,i.outputs),Qt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===js&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Jn(i.hostAttrs,n=Jn(n,i.hostAttrs))}}(r)}function Ps(t){return t===rt?{}:t===it?[]:t}function Rs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ns(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Ds(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Ls=null;function Ms(){if(!Ls){const t=B.Symbol;if(t&&t.iterator)Ls=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ls=n)}}}return Ls}function Fs(t){return!!Vs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ms()in t)}function Vs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Us(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function qs(t,e,n,r){const i=he();return Us(i,we(),e)&&(fe(),function(t,e,n,r,i,s){const o=te(t,e);!function(t,e,n,r,i,s,o){if(null==s)Yt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?Ct(s):o(s,r||"",i);Yt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(Fe(),i,t,e,n,r)),qs}function Bs(t,e,n,r){return Us(t,we(),n)?e+Ct(n)+r:yi}function zs(t,e,n,r,i,s,o,a){const u=he(),c=fe(),l=t+Bt,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Ii(e,t,4,o||null,oe(c,a));qi(e,n,l,oe(c,u)),Bn(e,l);const h=l.tViews=Mi(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];me(h,!1);const f=u[11].createComment("");Zr(c,u,f,h),Ar(f,u),es(u,u[l]=Zi(f,u,f,h)),Kt(h)&&Ni(c,u,h),null!=o&&Di(u,h,a)}function Hs(t,e=Tt.Default){const n=he();return null===n?Mt(t,e):pr(pe(),n,W(t),e)}function Ws(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Zn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(pe(),t)}function $s(t,e,n){const r=he();return Us(r,we(),e)&&Ui(fe(),Fe(),r,t,e,r[11],n,!1),$s}function Gs(t,e,n,r,i){const s=i?"class":"style";ls(t,n,e.inputs[s],s,r)}function Ks(t,e,n,r){const i=he(),s=fe(),o=Bt+t,a=i[11],u=i[o]=Vr(a,e,ce.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=Ii(e,t,2,i,oe(a,s));return qi(e,n,u,oe(a,o)),null!==u.attrs&&fs(u,u.attrs,!1),null!==u.mergedAttrs&&fs(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];me(c,!0);const l=c.mergedAttrs;null!==l&&Yn(a,u,l);const h=c.classes;null!==h&&ii(a,u,h);const f=c.styles;null!==f&&ri(a,u,f),64!=(64&c.flags)&&Zr(s,i,u,c),0===ce.lFrame.elementDepthCount&&Ar(u,i),ce.lFrame.elementDepthCount++,Kt(c)&&(Ni(s,i,c),function(t,e,n){if($t(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(s,c,i)),null!==r&&Di(i,c)}function Qs(){let t=pe();ye()?ve():(t=t.parent,me(t,!1));const e=t;ce.lFrame.elementDepthCount--;const n=fe();n.firstCreatePass&&(Bn(n,t),$t(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Gs(n,e,he(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Gs(n,e,he(),e.stylesWithoutHost,!1)}function Ys(t,e,n,r){Ks(t,e,n,r),Qs()}function Zs(){return he()}function Xs(t){return!!t&&"function"==typeof t.then}function Js(t){return!!t&&"function"==typeof t.subscribe}function to(t,e,n=!1,r){const i=he(),s=fe(),o=pe();return no(s,i,i[11],o,t,e,n,r),to}function eo(t,e,n=!1,r){const i=pe(),s=he(),o=fe();return no(o,s,us(Se(o.data),i,s),i,t,e,n,r),eo}function no(t,e,n,r,i,s,o=!1,a){const u=Kt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=as(e);let h=!0;if(3&r.type){const f=te(r,e),d=a?a(f):rt,p=d.target||f,g=l.length,m=a?t=>a(Xt(t[r.index])).target:r.index;if(Yt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=io(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,m,g,g+1)}}else s=io(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,g,o)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}function ro(t,e,n){try{return!1!==e(n)}catch(r){return cs(t,r),!1}}function io(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?ne(t.index,e):e;0==(32&e[2])&&ns(o);let a=ro(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=ro(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function so(t=1){return function(t){return(ce.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ce.lFrame.contextLView))[8]}(t)}function oo(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?di(t,s,!0):pi(r,s))return i}else n=i}return n}function ao(t){const e=he()[16][6];if(!e.projection){const n=e.projection=X(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?oo(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function uo(t,e=0,n){const r=he(),i=fe(),s=Ii(i,Bt+t,16,null,n||null);null===s.projection&&(s.projection=e),ve(),64!=(64&s.flags)&&function(t,e,n){ni(e[11],0,e,n,Hr(t,n,e),Qr(n.parent||e[6],n,e))}(i,r,s)}function co(t,e,n){return lo(t,"",e,"",n),co}function lo(t,e,n,r,i){const s=he(),o=Bs(s,e,n,r);return o!==yi&&Ui(fe(),Fe(),s,t,o,s[11],i,!1),lo}const ho=[];function fo(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?wi(s):Oi(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];po(t[a],e)&&(u=!0,t[a+1]=r?Si(n):Ei(n)),a=r?wi(n):Oi(n)}u&&(t[n+1]=r?Ei(s):Si(s))}function po(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&et(t,e)>=0}const go={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mo(t){return t.substring(go.key,go.keyEnd)}function yo(t){return t.substring(go.value,go.valueEnd)}function vo(t,e){const n=go.textEnd;let r=go.key=bo(t,e,n);return n===r?-1:(r=go.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=_o(t,r,n),r=go.value=bo(t,r,n),r=go.valueEnd=function(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){const u=t.charCodeAt(o++);if(59===u)return a;34===u||39===u?a=o=wo(t,u,o,n):e===o-4&&85===s&&82===i&&76===r&&40===u?a=o=wo(t,41,o,n):u>32&&(a=o),s=i,i=r,r=-33&u}return a}(t,r,n),_o(t,r,n))}function bo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function _o(t,e,n,r){return(e=bo(t,e,n))<n&&e++,e}function wo(t,e,n,r){let i=-1,s=n;for(;s<r;){const n=t.charCodeAt(s++);if(n==e&&92!==i)return s;i=92==n&&92===i?0:n}throw new Error}function Eo(t,e,n){return So(t,e,n,!1),Eo}function Oo(t,e){return So(t,e,null,!0),Oo}function Co(t,e){for(let n=function(t){return function(t){go.key=0,go.keyEnd=0,go.value=0,go.valueEnd=0,go.textEnd=t.length}(t),vo(t,bo(t,0,go.textEnd))}(e);n>=0;n=vo(e,n))ko(t,mo(e),yo(e))}function So(t,e,n,r){const i=he(),s=fe(),o=Ee(2);s.firstUpdatePass&&xo(s,t,o,r),e!==yi&&Us(i,o,e)&&jo(s,s.data[Le()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=E(Ke(t)))),t}(e,n),r,o)}function To(t,e){return e>=t.expandoStartIndex}function xo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Le()],o=To(t,n);No(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=Se(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ao(n=Io(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Io(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Oi(r))return t[wi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Io(null,t,e,n[1],r),n=Ao(n,e.attrs,r),function(t,e,n,r){t[wi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Ao(r,t[s].hostAttrs,n);return Ao(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=wi(o),u=Oi(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||et(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=wi(t[a+1]);t[r+1]=_i(e,a),0!==e&&(t[e+1]=Ci(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=_i(a,0),0!==a&&(t[a+1]=Ci(t[a+1],r)),a=r;else t[r+1]=_i(u,0),0===a?a=r:t[u+1]=Ci(t[u+1],r),u=r;l&&(t[r+1]=Ei(t[r+1])),fo(t,c,r,!0),fo(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&et(s,e)>=0&&(n[r+1]=Si(n[r+1]))}(e,c,t,r,s),o=_i(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Io(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ao(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ao(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),J(t,o,!!n||e[++s]))}return void 0===t?null:t}function ko(t,e,n){J(t,e,Ke(n))}function jo(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Ro(1==(1&c)?Po(u,e,n,i,Oi(c),o):void 0)||(Ro(s)||2==(2&c)&&(s=Po(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Yt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Pr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Pr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Jt(Le(),n),i,s))}function Po(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===yi&&(l=c?ho:void 0);let h=c?tt(l,r):u===r?l:void 0;if(s&&!Ro(h)&&(h=tt(e,r)),Ro(h)&&(a=h,o))return a;const f=t[i+1];i=o?wi(f):Oi(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=tt(t,r))}return a}function Ro(t){return void 0!==t}function No(t,e){return 0!=(t.flags&(e?16:32))}function Do(t,e=""){const n=he(),r=fe(),i=t+Bt,s=r.firstCreatePass?Ii(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Yt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Zr(r,n,o,s),me(s,!1)}function Lo(t){return Mo("",t,""),Lo}function Mo(t,e,n){const r=he(),i=Bs(r,t,e,n);return i!==yi&&hs(r,Le(),i),Mo}function Fo(t,e,n,r,i){const s=he(),o=function(t,e,n,r,i,s){const o=function(t,e,n,r){const i=Us(t,e,n);return Us(t,e+1,r)||i}(t,ce.lFrame.bindingIndex,n,i);return Ee(2),o?e+Ct(n)+r+Ct(i)+s:yi}(s,t,e,n,r,i);return o!==yi&&hs(s,Le(),o),Fo}function Vo(t,e,n){(function(t,e,n,r){const i=fe(),s=Ee(2);i.firstUpdatePass&&xo(i,null,s,r);const o=he();if(n!==yi&&Us(o,s,n)){const a=i.data[Le()];if(No(a,r)&&!To(i,s)){let t=a.stylesWithoutHost;null!==t&&(n=O(t,n||"")),Gs(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===yi&&(i=ho);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let d=null,p=void 0;l===h?(u+=2,c+=2,o!==f&&(d=h,p=f)):null===h||null!==l&&l<h?(u+=2,d=l):(c+=2,d=h,p=f),null!==d&&jo(t,e,n,r,d,p,!1,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return ho;const r=[],i=Ke(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}})(ko,Co,Bs(he(),t,e,n),!1)}function Uo(t,e,n){const r=he();return Us(r,we(),e)&&Ui(fe(),Fe(),r,t,e,r[11],n,!0),Uo}function qo(t,e,n){const r=he();if(Us(r,we(),e)){const i=fe(),s=Fe();Ui(i,s,r,t,e,us(Se(i.data),s,r),n,!0)}return qo}const Bo=void 0;var zo=["en",[["a","p"],["AM","PM"],Bo],[["AM","PM"],Bo,Bo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bo,"{1} 'at' {0}",Bo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ho={};function Wo(t,e,n){"string"!=typeof e&&(n=e,e=t[Yo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ho[e]=t,n&&(Ho[e][Yo.ExtraData]=n)}function $o(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Qo(e);if(n)return n;const r=e.split("-")[0];if(n=Qo(r),n)return n;if("en"===r)return zo;throw new Error(`Missing locale data for the locale "${t}".`)}function Go(t){return $o(t)[Yo.CurrencyCode]||null}function Ko(t){return $o(t)[Yo.PluralCase]}function Qo(t){return t in Ho||(Ho[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),Ho[t]}var Yo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Zo="en-US";let Xo=Zo;function Jo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Xo=t.toLowerCase().replace(/_/g,"-"))}function ta(t,e,n,r,i){if(t=W(t),Array.isArray(t))for(let s=0;s<t.length;s++)ta(t[s],e,n,r,i);else{const s=fe(),o=he();let a=xs(t)?t:W(t.provide),u=Cs(t);const c=pe(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(xs(t)||!t.multi){const r=new Qn(u,i,Hs),d=ra(a,e,i?l:l+f,h);-1===d?(hr(ar(c,o),s,a),ea(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=ra(a,e,l+f,h),p=ra(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){hr(ar(c,o),s,a);const l=function(t,e,n,r,i){const s=new Qn(t,n,Hs);return s.multi=[],s.index=e,s.componentProviders=0,na(s,i,r&&!n),s}(i?sa:ia,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),ea(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else ea(s,t,d>-1?d:p,na(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function ea(t,e,n,r){const i=xs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function na(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ra(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ia(t,e,n,r){return oa(this.multi,[])}function sa(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=br(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),oa(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],oa(i,s);return s}function oa(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function aa(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=fe();if(r.firstCreatePass){const i=Qt(t);ta(n,r.data,r.blueprint,i,!0),ta(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ua{}class ca{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${E(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let la=(()=>{class t{}return t.NULL=new ca,t})();function ha(...t){}function fa(t,e){return new pa(te(t,e))}const da=function(){return fa(pe(),he())};let pa=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=da,t})();class ga{}let ma=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ya(),t})();const ya=function(){const t=he(),e=ne(pe().index,t);return function(t){return t[11]}(Ht(e)?e:t)};let va=(()=>{class t{}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>null}),t})();class ba{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const _a=new ba("11.0.2");class wa{constructor(){}supports(t){return Fs(t)}create(t){return new Oa(t)}}const Ea=(t,e)=>e;class Oa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ea}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<xa(n,r,i)?e:n,o=xa(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Fs(t))throw new Error(`Error trying to diff '${E(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ms()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ca(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ta),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ta),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ca{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Sa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ta{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Sa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ia{constructor(){}supports(t){return t instanceof Map||Vs(t)}create(){return new Aa}}class Aa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Vs(t)))throw new Error(`Error trying to diff '${E(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ka(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ka{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ja=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new b]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>new t([new wa])}),t})(),Pa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new b]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>new t([new Ia])}),t})();function Ra(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Xt(s)),Wt(s))for(let t=zt;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Ra(e[1],e,n,r)}const o=n.type;if(8&o)Ra(t,e,n.child,r);else if(32&o){const t=Rr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Nr(t);Ra(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Na{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return Ra(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Br(this._lView[1],this._lView)}onDestroy(t){Fi(this._lView[1],this._lView,null,t)}markForCheck(){ns(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){rs(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){_e(!0);try{rs(t,e,n)}finally{_e(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,ei(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Da extends Na{constructor(t){super(t),this._view=t}detectChanges(){is(this._view)}checkNoChanges(){!function(t){_e(!0);try{is(t)}finally{_e(!1)}}(this._view)}get context(){return null}}const La=Fa;let Ma=(()=>{class t{}return t.__NG_ELEMENT_ID__=La,t.__ChangeDetectorRef__=!0,t})();function Fa(t=!1){return function(t,e,n){if(!n&&Gt(t)){const n=ne(t.index,e);return new Na(n,n)}return 47&t.type?new Na(e[16],e):null}(pe(),he(),t)}const Va=[new Ia],Ua=new ja([new wa]),qa=new Pa(Va),Ba=function(){return $a(pe(),he())};let za=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ba,t})();const Ha=za,Wa=class extends Ha{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=xi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),ki(e,n,t),new Na(n)}};function $a(t,e){return 4&t.type?new Wa(e,t,fa(t,e)):null}class Ga{}class Ka{}const Qa=function(){return eu(pe(),he())};let Ya=(()=>{class t{}return t.__NG_ELEMENT_ID__=Qa,t})();const Za=Ya,Xa=class extends Za{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return fa(this._hostTNode,this._hostLView)}get injector(){return new Er(this._hostTNode,this._hostLView)}get parentInjector(){const t=lr(this._hostTNode,this._hostLView);if(er(t)){const e=rr(t,this._hostLView),n=nr(t);return new Er(e[1].data[n+8],e)}return new Er(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ja(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-zt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Ga,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(Wt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Xa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=zt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-zt?(e[4]=n[i],Y(n,zt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Jr(i,s),a=n[11],u=Kr(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,ei(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(this),Y(tu(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ja(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=qr(this._lContainer,e);n&&(Z(tu(this._lContainer),e),Br(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=qr(this._lContainer,e);return n&&null!=Z(tu(this._lContainer),e)?new Na(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ja(t){return t[8]}function tu(t){return t[8]||(t[8]=[])}function eu(t,e){let n;const r=e[t.index];if(Wt(r))n=r;else{let i;if(8&t.type)i=Xt(r);else{const n=e[11];i=n.createComment("");const r=te(t,e);Wr(n,Kr(n,r),i,function(t,e){return Yt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Zi(r,e,i,t),es(e,n)}return new Xa(n,t,e)}const nu={};class ru extends la{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Et(t);return new ou(e,this.ngModule)}}function iu(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const su=new D("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>kr});class ou extends ua{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(mi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return iu(this.componentDef.inputs)}get outputs(){return iu(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,nu,i);return s!==nu||r===nu?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(ga,Zt),o=i.get(va,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Yt(t))return t.selectRootElement(e,n===nt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Vr(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:kr,clean:os,playerHandler:null,flags:0},f=Mi(0,null,null,1,0,null,null,null,null,null),d=xi(null,f,h,l,null,null,s,a,o,i);let p,g;ke(d);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Ii(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(fs(a,u,!0),null!==t&&(Yn(i,t,u),null!==a.classes&&ii(i,t,a.classes),null!==a.styles&&ri(i,t,a.styles)));const c=r.createRenderer(t,e),l=xi(n,Li(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(hr(ar(a,n),o,e.type),Hi(o,a),$i(a,n.length,1)),es(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)Yn(a,c,["ng-version",_a.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!hi(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Yn(a,c,t),e&&e.length>0&&ii(a,c,e.join(" "))}if(g=ee(f,Bt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=pe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Gi(t,r,e,Ai(t,e,1,null),n));const i=br(e,t,r.directiveStart,r);Ar(i,e);const s=te(r,e);return s&&Ar(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=pe();e.contentQueries(1,o,t.directiveStart)}const a=pe();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Me(a.index),Bi(n[1],a,0,a.directiveStart,a.directiveEnd,e),zi(e,o)),o}(t,this.componentDef,d,h,[ks]),ki(f,d,null)}finally{De()}return new au(this.componentType,p,fa(g,d),d,g)}}class au extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Da(r),this.componentType=t}get injector(){return new Er(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const uu=new Map;class cu extends Ga{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ru(this);const n=Ot(t),r=t[ct]||null;r&&Jo(r),this._bootstrapComponents=jr(n.bootstrap),this._r3Injector=ws(t,e,[{provide:Ga,useValue:this},{provide:la,useValue:this.componentFactoryResolver}],E(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=As.THROW_IF_NOT_FOUND,n=Tt.Default){return t===As||t===Ga||t===ds?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class lu extends Ka{constructor(t){super(),this.moduleType=t,null!==Ot(t)&&function(t){const e=new Set;!function t(n){const r=Ot(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${E(e)} vs ${E(e.name)}`)}(i,uu.get(i),n),uu.set(i,n));const s=jr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new cu(this.moduleType,t)}}const hu=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function fu(){return this._results[Ms()]()}class du{constructor(){this.dirty=!0,this._results=[],this.changes=new hu,this.length=0;const t=Ms(),e=du.prototype;e[t]||(e[t]=fu)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=K(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class pu{constructor(t){this.queryList=t,this.matches=null}clone(){return new pu(this.queryList)}setDirty(){this.queryList.setDirty()}}class gu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new gu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Au(t,e).matches&&this.queries[e].setDirty()}}class mu{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class yu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new yu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class vu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new vu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,bu(e,i)),this.matchTNodeWithReadOption(t,e,vr(e,t,i,!1,!1))}else n===za?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,vr(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===pa||r===Ya||r===za&&4&e.type)this.addMatch(e.index,-2);else{const n=vr(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function bu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function _u(t,e,n,r){return-1===n?function(t,e){return 11&t.type?fa(t,e):4&t.type?$a(t,e):null}(e,t):-2===n?function(t,e,n){return n===pa?fa(e,t):n===za?$a(e,t):n===Ya?eu(e,t):void 0}(t,e,r):br(t,t[1],n,e)}function wu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:_u(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Eu(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=wu(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=zt;t<o.length;t++){const e=o[t];e[17]===e[3]&&Eu(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Eu(n[1],n,i,r)}}}}}return r}function Ou(t){const e=he(),n=fe(),r=Te();xe(r+1);const i=Au(n,r);if(t.dirty&&ie(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Eu(n,e,r,[]):wu(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function Cu(t,e,n){!function(t,e,n,r,i,s){t.firstCreatePass&&(Iu(t,new mu(n,r,true,i),-1),t.staticViewQueries=!0),xu(t,e)}(fe(),he(),t,e,n)}function Su(t,e,n,r){!function(t,e,n,r,i,s,o,a){t.firstCreatePass&&(Iu(t,new mu(n,r,false,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),xu(t,e)}(fe(),he(),e,n,r,0,pe(),t)}function Tu(){return t=he(),e=Te(),t[19].queries[e].queryList;var t,e}function xu(t,e){const n=new du;Fi(t,e,n,n.destroy),null===e[19]&&(e[19]=new gu),e[19].queries.push(new pu(n))}function Iu(t,e,n){null===t.queries&&(t.queries=new yu),t.queries.track(new vu(e,n))}function Au(t,e){return t.queries.getByIndex(e)}function ku(t=Tt.Default){const e=Fa(!0);if(null!=e||t&Tt.Optional)return e;Dn("ChangeDetectorRef")}const ju=new D("Application Initializer");let Pu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=ha,this.reject=ha,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Xs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Mt(ju,8))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const Ru=new D("AppId"),Nu={provide:Ru,useFactory:function(){return`${Du()}${Du()}${Du()}`},deps:[]};function Du(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Lu=new D("Platform Initializer"),Mu=new D("Platform ID"),Fu=new D("appBootstrapListener");let Vu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const Uu=new D("LocaleId"),qu=new D("DefaultCurrencyCode");class Bu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const zu=function(t){return new lu(t)},Hu=zu,Wu=function(t){return Promise.resolve(zu(t))},$u=function(t){const e=zu(t),n=jr(Ot(t).declarations).reduce((t,e)=>{const n=Et(e);return n&&t.push(new ou(n)),t},[]);return new Bu(e,n)},Gu=$u,Ku=function(t){return Promise.resolve($u(t))};let Qu=(()=>{class t{constructor(){this.compileModuleSync=Hu,this.compileModuleAsync=Wu,this.compileModuleAndAllComponentsSync=Gu,this.compileModuleAndAllComponentsAsync=Ku}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const Yu=(()=>Promise.resolve(0))();function Zu(t){"undefined"==typeof Zone?Yu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Xu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hu(!1),this.onMicrotaskEmpty=new hu(!1),this.onStable=new hu(!1),this.onError=new hu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,nc(t),ec(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),nc(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return rc(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),ic(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return rc(t),e.invoke(r,i,s,o,a)}finally{ic(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,nc(t),ec(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Xu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,tc,Ju,Ju);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Ju(){}const tc={};function ec(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function rc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ic(t){t._nesting--,ec(t)}class sc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hu,this.onMicrotaskEmpty=new hu,this.onStable=new hu,this.onError=new hu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let oc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xu.assertNotInAngularZone(),Zu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Mt(Xu))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})(),ac=(()=>{class t{constructor(){this._applications=new Map,hc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return hc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();class uc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function cc(t){hc=t}let lc,hc=new uc;const fc=new D("AllowMultipleToken");class dc{constructor(t,e){this.name=t,this.token=e}}function pc(t,e,n=[]){const r="Platform: "+e,i=new D(r);return(e=[])=>{let s=gc();if(!s||s.injector.get(fc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:gs,useValue:"platform"});!function(t){if(lc&&!lc.destroyed&&!lc.injector.get(fc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");lc=t.get(mc);const e=t.get(Lu,null);e&&e.forEach(t=>t())}(As.create({providers:t,name:r}))}return function(t){const e=gc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function gc(){return lc&&!lc.destroyed?lc:null}let mc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new sc:("zone.js"===t?void 0:t)||new Xu({enableLongStackTrace:sn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Xu,useValue:n}];return n.run(()=>{const e=As.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Ir,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>bc(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return Xs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Pu);return t.runInitializers(),t.donePromise.then(()=>(Jo(i.injector.get(Uu,Zo)||Zo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=yc({},e);return function(t,e,n){const r=new lu(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(vc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${E(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Mt(As))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function yc(t,e){return Array.isArray(e)?e.reduce(yc,t):Object.assign(Object.assign({},t),e)}let vc=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=sn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Xu.assertNotInAngularZone(),Zu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Xu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ua?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ga),i=n.create(As.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(oc,null);return s&&i.injector.get(ac).registerApplication(i.location.nativeElement,s),this._loadComponent(i),sn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;bc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Fu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),bc(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Mt(Xu),Mt(Vu),Mt(As),Mt(Ir),Mt(la),Mt(Pu))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function bc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class _c{}class wc{}const Ec={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Oc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ec}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Cc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Cc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Mt(Qu),Mt(wc,8))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function Cc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Sc=function(t){return null},Tc=pc(null,"core",[{provide:Mu,useValue:"unknown"},{provide:mc,deps:[As]},{provide:ac,deps:[]},{provide:Vu,deps:[]}]),xc=[{provide:vc,useClass:vc,deps:[Xu,Vu,As,Ir,la,Pu]},{provide:su,deps:[Xu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Pu,useClass:Pu,deps:[[new b,ju]]},{provide:Qu,useClass:Qu,deps:[]},Nu,{provide:ja,useFactory:function(){return Ua},deps:[]},{provide:Pa,useFactory:function(){return qa},deps:[]},{provide:Uu,useFactory:function(t){return Jo(t=t||"undefined"!=typeof $localize&&$localize.locale||Zo),t},deps:[[new v(Uu),new b,new w]]},{provide:qu,useValue:"USD"}];let Ic=(()=>{class t{constructor(t){}}return t.\u0275mod=yt({type:t}),t.\u0275inj=x({factory:function(e){return new(e||t)(Mt(vc))},providers:xc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},os0x:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("os0x");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?v(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new m(i,a,r);return u},t}();function v(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function O(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),_=new u.P("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&O("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(t,...e)=>{Object(u.W)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:w,deps:[v,u.z,[new u.A,b]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(e){return new(e||t)(u.Rb(u.B))},providers:[S]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,s=n("os0x"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(s.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.q("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Rb)(l)}const c=new r.q("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(o))},t.\u0275prov=Object(r.Gb)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Rb)(o))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Rb)(o).location;return new b(Object(r.Rb)(a),e&&e.origin||"")}const v=new r.q("appBaseHref");let b=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a),r.Rb(v,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a),r.Rb(v,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(m),r.Rb(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Gb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new w(Object(r.Rb)(m),Object(r.Rb)(a))}function O(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const S=r.nb;class T{}let x=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(S(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function I(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let k=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.W)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new j(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new j(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.Q),r.Kb(r.L),r.Kb(r.s))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class j{constructor(t,e){this.record=t,this.view=e}}let P=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[{provide:T,useClass:x}]}),t})();function R(t){return"server"===t}let N=(()=>{class t{}return t.\u0275prov=Object(r.Gb)({token:t,providedIn:"root",factory:()=>new D(Object(r.Rb)(o),window,Object(r.Rb)(r.m))}),t})();class D{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=L(this.window.history)||L(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function L(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class M extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new M,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=V||(V=document.querySelector("base"),V)?V.getAttribute("href"):null;return null==e?null:(n=e,F||(F=document.createElement("a")),F.setAttribute("href",n),"/"===F.pathname.charAt(0)?F.pathname:"/"+F.pathname);var n}resetBaseElement(){V=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return I(document.cookie,t)}}let F,V=null;const U=new r.q("TRANSITION_ID"),q=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[U,o,r.r],multi:!0}];class B{static init(){Object(r.Y)(new B)}addToWindow(t){r.pb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.pb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.pb.getAllAngularRootElements=()=>t.getAllRootElements(),r.pb.frameworkStabilizers||(r.pb.frameworkStabilizers=[]),r.pb.frameworkStabilizers.push(t=>{const e=r.pb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const z=new r.q("EventManagerPlugins");let H=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(z),r.Rb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class W{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let $=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),G=(()=>{class t extends ${constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(o))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const K={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Q=/%COMP%/g;function Y(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Y(t,i,n):(i=i.replace(Q,t),n.push(i))}return n}function Z(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let X=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new J(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new tt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new et(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Y(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(H),r.Rb(G),r.Rb(r.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class J{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(K[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=K[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=K[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Z(n)):this.eventManager.addEventListener(t,e,Z(n))}}class tt extends J{constructor(t,e,n,r){super(t),this.component=n;const i=Y(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Q,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Q,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class et extends J{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Y(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let nt=(()=>{class t extends W{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(o))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const rt=["alt","control","meta","shift"],it={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},st={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ot={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let at=(()=>{class t extends W{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(rt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&st.hasOwnProperty(e)&&(e=st[e]))}return it[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),rt.forEach(r=>{r!=n&&(0,ot[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(o))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const ut=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){M.makeCurrent(),B.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],ct=Object(r.S)(r.X,"browser",ut),lt=[[],{provide:r.ab,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:z,useClass:nt,multi:!0,deps:[o,r.z,r.B]},{provide:z,useClass:at,multi:!0,deps:[o]},[],{provide:X,useClass:X,deps:[H,G,r.c]},{provide:r.F,useExisting:X},{provide:$,useExisting:G},{provide:G,useClass:G,deps:[o]},{provide:r.M,useClass:r.M,deps:[r.z]},{provide:H,useClass:H,deps:[z,r.z]},[]];let ht=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:U,useExisting:r.c},q]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Rb(t,12))},providers:lt,imports:[P,r.f]}),t})();"undefined"!=typeof window&&window;var ft=n("LRne"),dt=n("Cfvw"),pt=n("XNiG"),gt=n("9ppp");class mt extends pt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new gt.a;return this._value}next(t){super.next(this._value=t)}}var yt=n("z+Ro"),vt=n("DH7j"),bt=n("7o/Q");class _t extends bt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class wt extends bt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Et=n("SeVD"),Ot=n("HDdC");function Ct(t,e,n,r,i=new wt(t,n,r)){if(!i.closed)return e instanceof Ot.a?e.subscribe(i):Object(Et.a)(e)(i)}var St=n("yCtX");const Tt={};class xt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new It(t,this.resultSelector))}}class It extends _t{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Tt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Ct(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Tt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const At=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var kt=n("EY2u");function jt(t){return new Ot.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(dt.a)(n):Object(kt.b)()).subscribe(e)})}var Pt=n("lJxs"),Rt=n("bHdf");function Nt(){return Object(Rt.a)(1)}function Dt(t,e){return function(n){return n.lift(new Lt(t,e))}}class Lt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Mt(t,this.predicate,this.thisArg))}}class Mt extends bt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Ft=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Vt(t){return function(e){return 0===t?Object(kt.b)():e.lift(new Ut(t))}}class Ut{constructor(t){if(this.total=t,this.total<0)throw new Ft}call(t,e){return e.subscribe(new qt(t,this.total))}}class qt extends bt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Bt(t=Wt){return e=>e.lift(new zt(t))}class zt{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Ht(t,this.errorFactory))}}class Ht extends bt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Wt(){return new At}function $t(t=null){return e=>e.lift(new Gt(t))}class Gt{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Kt(t,this.defaultValue))}}class Kt extends bt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Qt=n("SpAZ"),Yt=n("zx2A");function Zt(t,e){return"function"==typeof e?n=>n.pipe(Zt((n,r)=>Object(dt.a)(t(n,r)).pipe(Object(Pt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Xt(t))}class Xt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Jt(t,this.project))}}class Jt extends Yt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Yt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Yt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function te(t){return e=>0===t?Object(kt.b)():e.lift(new ee(t))}class ee{constructor(t){if(this.total=t,this.total<0)throw new Ft}call(t,e){return e.subscribe(new ne(t,this.total))}}class ne extends bt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function re(...t){return Nt()(Object(ft.a)(...t))}function ie(...t){const e=t[t.length-1];return Object(yt.a)(e)?(t.pop(),n=>re(t,n,e)):e=>re(t,e)}function se(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new oe(t,e,n))}}class oe{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ae(t,this.accumulator,this.seed,this.hasSeed))}}class ae extends bt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ue(t){return function(e){const n=new ce(t),r=e.lift(n);return n.caught=r}}class ce{constructor(t){this.selector=t}call(t,e){return e.subscribe(new le(t,this.selector,this.caught))}}class le extends Yt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Yt.a(this);this.add(r);const i=Object(Yt.c)(n,r);i!==r&&this.add(i)}}}var he=n("5+tZ");function fe(t,e){return Object(he.a)(t,e,1)}function de(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Dt((e,n)=>t(e,n,r)):Qt.a,te(1),n?$t(e):Bt(()=>new At))}var pe=n("vkgz"),ge=n("quSY");class me{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ye(t,this.callback))}}class ye extends bt.a{constructor(t,e){super(t),this.add(new ge.a(e))}}class ve{constructor(t,e){this.id=t,this.url=e}}class be extends ve{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _e extends ve{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class we extends ve{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ee extends ve{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Oe extends ve{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ce extends ve{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Se extends ve{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Te extends ve{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xe extends ve{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ie{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ae{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ke{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class je{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pe{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Re{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ne{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const De="primary";class Le{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Me(t){return new Le(t)}function Fe(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ve(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ue(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!qe(t[i],e[i]))return!1;return!0}function qe(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Be(t){return Array.prototype.concat.apply([],t)}function ze(t){return t.length>0?t[t.length-1]:null}function He(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function We(t){return Object(r.rb)(t)?t:Object(r.sb)(t)?Object(dt.a)(Promise.resolve(t)):Object(ft.a)(t)}function $e(t,e,n){return n?function(t,e){return Ue(t,e)}(t.queryParams,e.queryParams)&&Ge(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>qe(t[n],e[n]))}(t.queryParams,e.queryParams)&&Ke(t.root,e.root)}function Ge(t,e){if(!Je(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ge(t.children[n],e.children[n]))return!1}return!0}function Ke(t,e){return Qe(t,e,e.segments)}function Qe(t,e,n){if(t.segments.length>n.length)return!!Je(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Je(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ke(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Je(t.segments,r)&&!!t.children.primary&&Qe(t.children.primary,e,i)}}class Ye{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Me(this.queryParams)),this._queryParamMap}toString(){return rn.serialize(this)}}class Ze{constructor(t,e){this.segments=t,this.children=e,this.parent=null,He(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sn(this)}}class Xe{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Me(this.parameters)),this._parameterMap}toString(){return fn(this)}}function Je(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function tn(t,e){let n=[];return He(t.children,(t,r)=>{r===De&&(n=n.concat(e(t,r)))}),He(t.children,(t,r)=>{r!==De&&(n=n.concat(e(t,r)))}),n}class en{}class nn{parse(t){const e=new yn(t);return new Ye(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+on(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${un(e)}=${un(t)}`).join("&"):`${un(e)}=${un(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const rn=new nn;function sn(t){return t.segments.map(t=>fn(t)).join("/")}function on(t,e){if(!t.hasChildren())return sn(t);if(e){const e=t.children.primary?on(t.children.primary,!1):"",n=[];return He(t.children,(t,e)=>{e!==De&&n.push(`${e}:${on(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=tn(t,(e,n)=>n===De?[on(t.children.primary,!1)]:[`${n}:${on(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${sn(t)}/${e[0]}`:`${sn(t)}/(${e.join("//")})`}}function an(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function un(t){return an(t).replace(/%3B/gi,";")}function cn(t){return an(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ln(t){return decodeURIComponent(t)}function hn(t){return ln(t.replace(/\+/g,"%20"))}function fn(t){return`${cn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${cn(t)}=${cn(e[t])}`).join("")}`;var e}const dn=/^[^\/()?;=#]+/;function pn(t){const e=t.match(dn);return e?e[0]:""}const gn=/^[^=?&#]+/,mn=/^[^?&#]+/;class yn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ze([],{}):new Ze([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Ze(t,e)),n}parseSegment(){const t=pn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Xe(ln(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=pn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=pn(this.remaining);t&&(n=t,this.capture(n))}t[ln(e)]=ln(n)}parseQueryParam(t){const e=function(t){const e=t.match(gn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(mn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=hn(e),i=hn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=pn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=De);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Ze([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class vn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=bn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=bn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=_n(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return _n(t,this._root).map(t=>t.value)}}function bn(t,e){if(t===e.value)return e;for(const n of e.children){const e=bn(t,n);if(e)return e}return null}function _n(t,e){if(t===e.value)return[e];for(const n of e.children){const r=_n(t,n);if(r.length)return r.unshift(e),r}return[]}class wn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function En(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class On extends vn{constructor(t,e){super(t),this.snapshot=e,An(this,t)}toString(){return this.snapshot.toString()}}function Cn(t,e){const n=function(t,e){const n=new xn([],{},{},"",{},De,e,null,t.root,-1,{});return new In("",new wn(n,[]))}(t,e),r=new mt([new Xe("",{})]),i=new mt({}),s=new mt({}),o=new mt({}),a=new mt(""),u=new Sn(r,i,o,a,s,De,e,n.root);return u.snapshot=n.root,new On(new wn(u,[]),n)}class Sn{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Pt.a)(t=>Me(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Pt.a)(t=>Me(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Tn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class xn{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Me(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Me(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class In extends vn{constructor(t,e){super(e),this.url=t,An(this,e)}toString(){return kn(this._root)}}function An(t,e){e.value._routerState=t,e.children.forEach(e=>An(t,e))}function kn(t){const e=t.children.length>0?` { ${t.children.map(kn).join(", ")} } `:"";return`${t.value}${e}`}function jn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ue(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ue(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ue(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ue(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Pn(t,e){return Ue(t.params,e.params)&&function(t,e){return Je(t,e)&&t.every((t,n)=>Ue(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Pn(t.parent,e.parent))}function Rn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Rn(t,e,r);return Rn(t,e)})}(t,e,n);return new wn(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Nn(e,t),t}{const n=new Sn(new mt((r=e.value).url),new mt(r.params),new mt(r.queryParams),new mt(r.fragment),new mt(r.data),r.outlet,r.component,r),i=e.children.map(e=>Rn(t,e));return new wn(n,i)}}var r}function Nn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Nn(t.children[n],e.children[n])}function Dn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ln(t){return"object"==typeof t&&null!=t&&t.outlets}function Mn(t,e,n,r,i){let s={};return r&&He(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Ye(n.root===t?e:Fn(n.root,t,e),s,i)}function Fn(t,e,n){const r={};return He(t.children,(t,i)=>{r[i]=t===e?n:Fn(t,e,n)}),new Ze(t.segments,r)}class Vn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Dn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Ln);if(r&&r!==ze(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Un{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function qn(t,e,n){if(t||(t=new Ze([],{})),0===t.segments.length&&t.hasChildren())return Bn(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Ln(o))break;const a=""+o,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!$n(a,u,e))return s;r+=2}else{if(!$n(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Ze(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Ze(t.segments.slice(r.pathIndex),t.children),Bn(e,0,i)}return r.match&&0===i.length?new Ze(t.segments,{}):r.match&&!t.hasChildren()?zn(t,e,n):r.match?Bn(t,0,i):zn(t,e,n)}function Bn(t,e,n){if(0===n.length)return new Ze(t.segments,{});{const r=function(t){return Ln(t[0])?t[0].outlets:{[De]:t}}(n),i={};return He(r,(n,r)=>{null!==n&&(i[r]=qn(t.children[r],e,n))}),He(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Ze(t.segments,i)}}function zn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Ln(s)){const t=Hn(s.outlets);return new Ze(r,t)}if(0===i&&Dn(n[0])){r.push(new Xe(t.segments[e].path,n[0])),i++;continue}const o=Ln(s)?s.outlets.primary:""+s,a=i<n.length-1?n[i+1]:null;o&&a&&Dn(a)?(r.push(new Xe(o,Wn(a))),i+=2):(r.push(new Xe(o,{})),i++)}return new Ze(r,{})}function Hn(t){const e={};return He(t,(t,n)=>{null!==t&&(e[n]=zn(new Ze([],{}),0,t))}),e}function Wn(t){const e={};return He(t,(t,n)=>e[n]=""+t),e}function $n(t,e,n){return t==n.path&&Ue(e,n.parameters)}class Gn{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),jn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=En(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),He(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=En(t),i=t.value.component?n.children:e;He(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=En(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Re(t.value.snapshot))}),t.children.length&&this.forwardEvent(new je(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(jn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Kn(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Kn(t){jn(t.value),t.children.forEach(Kn)}class Qn{constructor(t,e){this.routes=t,this.module=e}}function Yn(t){return"function"==typeof t}function Zn(t){return t instanceof Ye}const Xn=Symbol("INITIAL_VALUE");function Jn(){return Zt(t=>function(...t){let e=void 0,n=void 0;return Object(yt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(vt.a)(t[0])&&(t=t[0]),Object(St.a)(t,n).lift(new xt(e))}(...t.map(t=>t.pipe(te(1),ie(Xn)))).pipe(se((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Xn)return t;if(r===Xn&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Zn(r))return r}return t},t)},Xn),Dt(t=>t!==Xn),Object(Pt.a)(t=>Zn(t)?t:!0===t),te(1)))}let tr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:function(){return[Qr]},encapsulation:2}),t})();function er(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];nr(r,rr(e,r))}}function nr(t,e){t.children&&er(t.children,e)}function rr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ir(t){const e=t.children&&t.children.map(ir),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==De&&(n.component=tr),n}function sr(t){return t.outlet||De}class or{constructor(t){this.segmentGroup=t||null}}class ar{constructor(t){this.urlTree=t}}function ur(t){return new Ot.a(e=>e.error(new or(t)))}function cr(t){return new Ot.a(e=>e.error(new ar(t)))}function lr(t){return new Ot.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class hr{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,De).pipe(Object(Pt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(ue(t=>{if(t instanceof ar)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof or)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,De).pipe(Object(Pt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(ue(t=>{if(t instanceof or)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Ze([],{[De]:t}):t;return new Ye(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Pt.a)(t=>new Ze([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(ft.a)({});const n=[],r=[],i={};return He(t,(t,s)=>{const o=e(s,t).pipe(Object(Pt.a)(t=>i[s]=t));s===De?n.push(o):r.push(o)}),ft.a.apply(null,n.concat(r)).pipe(Nt(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Dt((e,n)=>t(e,n,r)):Qt.a,Vt(1),n?$t(e):Bt(()=>new At))}(),Object(Pt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){const o=function(t){return t.reduce((t,e)=>{const n=sr(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);o.has(i)||o.set(i,[]);const a=n=>Object(dt.a)(n).pipe(fe(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(ue(t=>{if(t instanceof or)return Object(ft.a)(null);throw t}))),de(t=>null!==t),ue(t=>{if(t instanceof At||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(ft.a)(new Ze([],{}));throw new or(e)}throw t})),u=Array.from(o.entries()).map(([t,e])=>{const n=a(e);return t===i?n:n.pipe(Object(Pt.a)(()=>null),ue(()=>Object(ft.a)(null)))});return Object(dt.a)(u).pipe(t=>t.lift(new xt(void 0)),de(),Object(Pt.a)(t=>t.find(t=>null!==t)))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return sr(r)!==s&&""!==r.path?ur(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):ur(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?cr(i):this.lineralizeSegments(n,i).pipe(Object(he.a)(n=>{const i=new Ze(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=fr(e,r,i);if(!o)return ur(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?cr(l):this.lineralizeSegments(r,l).pipe(Object(he.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Pt.a)(t=>(n._loadedConfig=t,new Ze(r,{})))):Object(ft.a)(new Ze(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=fr(e,n,r);if(!i)return ur(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(he.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>pr(t,e,n)&&sr(n)!==De)}(t,n,r)?{segmentGroup:dr(new Ze(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&sr(r)!==De&&(n[sr(r)]=new Ze([],{}));return n}(r,new Ze(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>pr(t,e,n))}(t,n,r)?{segmentGroup:dr(new Ze(t.segments,function(t,e,n,r){const i={};for(const s of n)pr(t,e,s)&&!r[sr(s)]&&(i[sr(s)]=new Ze([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Pt.a)(t=>new Ze(s,t))):0===r.length&&0===o.length?Object(ft.a)(new Ze(s,{})):this.expandSegment(n,i,r,o,De,!0).pipe(Object(Pt.a)(t=>new Ze(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(ft.a)(new Qn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(ft.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(he.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Pt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Ot.a(e=>e.error(Fe(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(ft.a)(new Qn([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(ft.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&Yn(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Yn(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return We(s)});return Object(ft.a)(i).pipe(Jn(),Object(pe.a)(t=>{if(!Zn(t))return;const e=Fe(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Pt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(ft.a)(n);if(r.numberOfChildren>1||!r.children.primary)return lr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Ye(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return He(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return He(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Ze(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function fr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Ve)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function dr(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Ze(t.segments.concat(e.segments),e.children)}return t}function pr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class gr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class mr{constructor(t,e){this.component=t,this.route=e}}function yr(t,e,n){const r=t._root;return br(r,e?e._root:null,n,[r.value])}function vr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function br(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=En(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Je(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Je(t.url,e.url)||!Ue(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pn(t,e)||!Ue(t.queryParams,e.queryParams);case"paramsChange":default:return!Pn(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new gr(r)):(s.data=o.data,s._resolvedData=o._resolvedData),br(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new mr(a.outlet.component,o))}else o&&_r(e,a,i),i.canActivateChecks.push(new gr(r)),br(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),He(s,(t,e)=>_r(t,n.getContext(e),i)),i}function _r(t,e,n){const r=En(t),i=t.value;He(r,(t,r)=>{_r(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new mr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function wr(t,e){return null!==t&&e&&e(new Pe(t)),Object(ft.a)(!0)}function Er(t,e){return null!==t&&e&&e(new ke(t)),Object(ft.a)(!0)}function Or(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(ft.a)(!0);const i=r.map(r=>jt(()=>{const i=vr(r,e,n);let s;if(function(t){return t&&Yn(t.canActivate)}(i))s=We(i.canActivate(e,t));else{if(!Yn(i))throw new Error("Invalid CanActivate guard");s=We(i(e,t))}return s.pipe(de())}));return Object(ft.a)(i).pipe(Jn())}function Cr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>jt(()=>{const i=e.guards.map(i=>{const s=vr(i,e.node,n);let o;if(function(t){return t&&Yn(t.canActivateChild)}(s))o=We(s.canActivateChild(r,t));else{if(!Yn(s))throw new Error("Invalid CanActivateChild guard");o=We(s(r,t))}return o.pipe(de())});return Object(ft.a)(i).pipe(Jn())}));return Object(ft.a)(i).pipe(Jn())}class Sr{}class Tr{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=Ar(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,De),n=new xn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},De,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new wn(n,e),i=new In(this.url,r);return this.inheritParamsAndData(i._root),Object(ft.a)(i)}catch(t){return new Ot.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Tn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=tn(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===De?-1:e.value.outlet===De?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof Sr))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Sr}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Sr;if((t.outlet||De)!==r)throw new Sr;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?ze(n).parameters:{};i=new xn(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Pr(t),r,t.component,t,xr(e),Ir(e)+n.length,Rr(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Sr;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Ve)(n,t,e);if(!r)throw new Sr;const i={};He(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new xn(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Pr(t),r,t.component,t,xr(e),Ir(e)+s.length,Rr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Ar(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new wn(i,t)]}if(0===a.length&&0===c.length)return[new wn(i,[])];const l=this.processSegment(a,u,c,De);return[new wn(i,l)]}}function xr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ir(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ar(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>kr(t,e,n)&&jr(n)!==De)}(t,n,r)){const i=new Ze(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&jr(s)!==De){const n=new Ze([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[jr(s)]=n}return i}(t,e,r,new Ze(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>kr(t,e,n))}(t,n,r)){const s=new Ze(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(kr(t,n,a)&&!i[jr(a)]){const n=new Ze([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[jr(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Ze(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function kr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function jr(t){return t.outlet||De}function Pr(t){return t.data||{}}function Rr(t){return t.resolve||{}}function Nr(t){return function(e){return e.pipe(Zt(e=>{const n=t(e);return n?Object(dt.a)(n).pipe(Object(Pt.a)(()=>e)):Object(dt.a)([e])}))}}class Dr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Lr=new r.q("ROUTES");class Mr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Pt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Qn(Be(r.injector.get(Lr)).map(ir),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(dt.a)(this.loader.load(t)):We(t()).pipe(Object(he.a)(t=>t instanceof r.v?Object(ft.a)(t):Object(dt.a)(this.compiler.compileModuleAsync(t))))}}class Fr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Vr,this.attachRef=null}}class Vr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Fr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Ur{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function qr(t){throw t}function Br(t,e,n){return e.parse("/")}function zr(t,e){return Object(ft.a)(null)}let Hr=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new pt.a,this.errorHandler=qr,this.malformedUriErrorHandler=Br,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zr,afterPreactivation:zr},this.urlHandlingStrategy=new Ur,this.routeReuseStrategy=new Dr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.x),this.console=s.get(r.Z);const c=s.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new Ye(new Ze([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Mr(o,a,t=>this.triggerEvent(new Ie(t)),t=>this.triggerEvent(new Ae(t))),this.routerState=Cn(this.currentUrlTree,this.rootComponentType),this.transitions=new mt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Dt(t=>0!==t.id),Object(Pt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Zt(t=>{let n=!1,r=!1;return Object(ft.a)(t).pipe(Object(pe.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Zt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(ft.a)(t).pipe(Zt(t=>{const n=this.transitions.getValue();return e.next(new be(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?kt.a:[t]}),Zt(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(Zt(t=>function(t,e,n,r,i){return new hr(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(Pt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(pe.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(he.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new Tr(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(Pt.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(pe.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(pe.a)(t=>{const n=new Oe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new be(n,this.serializeUrl(r),i,s);e.next(a);const u=Cn(r,this.rootComponentType).snapshot;return Object(ft.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),kt.a}),Nr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(pe.a)(t=>{const e=new Ce(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Pt.a)(t=>Object.assign(Object.assign({},t),{guards:yr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(he.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(ft.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(dt.a)(t).pipe(Object(he.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(ft.a)(!0);const o=s.map(s=>{const o=vr(s,e,i);let a;if(function(t){return t&&Yn(t.canDeactivate)}(o))a=We(o.canDeactivate(t,e,n,r));else{if(!Yn(o))throw new Error("Invalid CanDeactivate guard");a=We(o(t,e,n,r))}return a.pipe(de())});return Object(ft.a)(o).pipe(Jn())}(t.component,t.route,n,e,r)),de(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(he.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(dt.a)(e).pipe(fe(e=>Object(dt.a)([Er(e.route.parent,r),wr(e.route,r),Cr(t,e.path,n),Or(t,e.route,n)]).pipe(Nt(),de(t=>!0!==t,!0))),de(t=>!0!==t,!0))}(r,s,t,e):Object(ft.a)(n)),Object(Pt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(pe.a)(t=>{if(Zn(t.guardsResult)){const e=Fe(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(pe.a)(t=>{const e=new Se(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Dt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new we(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Nr(t=>{if(t.guards.canActivateChecks.length)return Object(ft.a)(t).pipe(Object(pe.a)(t=>{const e=new Te(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Zt(t=>{let n=!1;return Object(ft.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(he.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(ft.a)(t);let s=0;return Object(dt.a)(n).pipe(fe(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(ft.a)({});const s={};return Object(dt.a)(i).pipe(Object(he.a)(i=>function(t,e,n,r){const i=vr(t,e,r);return We(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(pe.a)(t=>{s[i]=t}))),Vt(1),Object(he.a)(()=>Object.keys(s).length===i.length?Object(ft.a)(s):kt.a))}(t._resolve,t,e,r).pipe(Object(Pt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Tn(t,n).resolve),null)))}(t.route,e,r,i)),Object(pe.a)(()=>s++),Vt(1),Object(he.a)(e=>s===n.length?Object(ft.a)(t):kt.a))}))}),Object(pe.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new we(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(pe.a)(t=>{const e=new xe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Nr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Pt.a)(t=>{const e=function(t,e,n){const r=Rn(t,e._root,n?n._root:void 0);return new On(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(pe.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Pt.a)(t=>(new Gn(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(pe.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new we(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new me(i))),ue(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Zn(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new we(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ee(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(sg){t.reject(sg)}}var i;return kt.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){er(t),this.config=t.map(ir),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Mn(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Vn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return He(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Vn(n,e,r)}(n);if(s.toRoot())return Mn(e.root,new Ze([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Un(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Un(t,t===e.root,0)}const r=Dn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Un(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Bn(o.segmentGroup,o.index,s.commands):qn(o.segmentGroup,o.index,s.commands);return Mn(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Zn(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Zn(t))return $e(this.currentUrlTree,t,e);const n=this.parseUrl(t);return $e(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new _e(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.N),r.Rb(en),r.Rb(Vr),r.Rb(w),r.Rb(r.r),r.Rb(r.w),r.Rb(r.i),r.Rb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Wr=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new pt.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Gr(this.skipLocationChange),replaceUrl:Gr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Gr(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Hr),r.Kb(Sn),r.Sb("tabindex"),r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Ub("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.yb]}),t})(),$r=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new pt.a,this.subscription=t.events.subscribe(t=>{t instanceof _e&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:Gr(this.skipLocationChange),replaceUrl:Gr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Gr(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Hr),r.Kb(Sn),r.Kb(m))},t.\u0275dir=r.Fb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Ub("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Qb("href",e.href,r.dc),r.Bb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.yb]}),t})();function Gr(t){return""===t||!!t}let Kr=(()=>{class t{constructor(t,e,n,r,i,s){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof _e&&this.update()})}ngAfterContentInit(){Object(dt.a)([this.links.changes,this.linksWithHrefs.changes,Object(ft.a)(null)]).pipe(Object(Rt.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(dt.a)(e).pipe(Object(Rt.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Hr),r.Kb(r.l),r.Kb(r.E),r.Kb(r.h),r.Kb(Wr,8),r.Kb($r,8))},t.\u0275dir=r.Fb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Db(n,Wr,!0),r.Db(n,$r,!0)),2&t){let t;r.bc(t=r.Vb())&&(e.links=t),r.bc(t=r.Vb())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.yb]}),t})(),Qr=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||De,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Yr(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Vr),r.Kb(r.Q),r.Kb(r.j),r.Sb("name"),r.Kb(r.h))},t.\u0275dir=r.Fb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Yr{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Sn?this.route:t===Vr?this.childContexts:this.parent.get(t,e)}}class Zr{}class Xr{preload(t,e){return Object(ft.a)(null)}}let Jr=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Mr(e,n,e=>t.triggerEvent(new Ie(e)),e=>t.triggerEvent(new Ae(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Dt(t=>t instanceof _e),fe(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(dt.a)(n).pipe(Object(Rt.a)(),Object(Pt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(he.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Hr),r.Rb(r.w),r.Rb(r.i),r.Rb(r.r),r.Rb(Zr))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),ti=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof be?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof _e&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ne&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Ne(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Hr),r.Rb(N),r.Rb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const ei=new r.q("ROUTER_CONFIGURATION"),ni=new r.q("ROUTER_FORROOT_GUARD"),ri=[w,{provide:en,useClass:nn},{provide:Hr,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new Hr(null,t,e,n,r,i,o,Be(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[en,Vr,w,r.r,r.w,r.i,Lr,ei,[class{},new r.A],[class{},new r.A]]},Vr,{provide:Sn,useFactory:function(t){return t.routerState.root},deps:[Hr]},{provide:r.w,useClass:r.K},Jr,Xr,class{preload(t,e){return e().pipe(ue(()=>Object(ft.a)(null)))}},{provide:ei,useValue:{enableTracing:!1}}];function ii(){return new r.y("Router",Hr)}let si=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ri,ci(e),{provide:ni,useFactory:ui,deps:[[Hr,new r.A,new r.J]]},{provide:ei,useValue:n||{}},{provide:m,useFactory:ai,deps:[a,[new r.p(v),new r.A],ei]},{provide:ti,useFactory:oi,deps:[Hr,N,ei]},{provide:Zr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Xr},{provide:r.y,multi:!0,useFactory:ii},[li,{provide:r.d,multi:!0,useFactory:hi,deps:[li]},{provide:di,useFactory:fi,deps:[li]},{provide:r.b,multi:!0,useExisting:di}]]}}static forChild(e){return{ngModule:t,providers:[ci(e)]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Rb(ni,8),r.Rb(Hr,8))}}),t})();function oi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ti(t,e,n)}function ai(t,e,n={}){return n.useHash?new _(t,e):new b(t,e)}function ui(t){return"guarded"}function ci(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Lr,multi:!0,useValue:t}]}let li=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new pt.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Hr),r=this.injector.get(ei);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(ft.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(ei),n=this.injector.get(Jr),i=this.injector.get(ti),s=this.injector.get(Hr),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.r))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function hi(t){return t.appInitializer.bind(t)}function fi(t){return t.bootstrapListener.bind(t)}const di=new r.q("Router Initializer");let pi=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-home"]],decls:10,vars:0,consts:[["rel","stylesheet","type","text/css","href",r.pc("//fonts.googleapis.com/css?family=Open+Sans")],[1,"twoimages"],[1,"images_computer"],["routerLink","/design-component"],["src","../assets/images/homepage-01.png","width","1000","height","1000",1,"computer"],[1,"images_graphic"],["routerLink","/computer-component"],["src","../assets/images/homepage-02.png","width","1000","height","1000",1,"design"]],template:function(t,e){1&t&&(r.Lb(0,"link",0),r.Nb(1,"div",1),r.Nb(2,"div",2),r.Nb(3,"p"),r.Nb(4,"a",3),r.Lb(5,"img",4),r.Mb(),r.Mb(),r.Mb(),r.Nb(6,"div",5),r.Nb(7,"p"),r.Nb(8,"a",6),r.Lb(9,"img",7),r.Mb(),r.Mb(),r.Mb(),r.Mb())},directives:[$r],styles:["*[_ngcontent-%COMP%]{border:0 solid #000;font-family:Open Sans}.images_graphic[_ngcontent-%COMP%]{margin-right:auto}.images_computer[_ngcontent-%COMP%], .images_graphic[_ngcontent-%COMP%]{text-align:center;display:inline-flex}.images_computer[_ngcontent-%COMP%]{margin-left:auto}.twoimages[_ngcontent-%COMP%]{text-align:center;justify-content:center}.twoimages[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#000;text-decoration:none}.twoimages[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:rgba(33,33,33,.8);opacity:.8;transform:scale(1.5);transition:all .3s ease 0s}.computer[_ngcontent-%COMP%]{margin-right:auto}.computer[_ngcontent-%COMP%], .design[_ngcontent-%COMP%]{max-width:100%;text-align:center;display:inline-block}.design[_ngcontent-%COMP%]{margin-left:auto}"]}),t})();function gi(t){return Array.isArray(t)?t:[t]}function mi(t){return null==t?"":"string"==typeof t?t:t+"px"}function yi(t){return t instanceof r.l?t.nativeElement:t}var vi=n("n6bG");function bi(t,e,n,r){return Object(vi.a)(n)&&(r=n,n=void 0),r?bi(t,e,n).pipe(Object(Pt.a)(t=>Object(vt.a)(t)?r(...t):r(t))):new Ot.a(r=>{_i(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function _i(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)_i(t[s],e,n,r,i)}r.add(s)}n("3N8a"),n("IjjT"),n("7Hc7");class wi{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Ei(t,this.compare,this.keySelector))}}class Ei extends bt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Oi=n("D0XW");class Ci{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Si(t,this.durationSelector))}}class Si extends Yt.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(Yt.c)(n,new Yt.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Ti=n("Y7HM");function xi(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Ii(t,e=Oi.a){return n=()=>function(t=0,e,n){let r=-1;return Object(Ti.a)(e)?r=Number(e)<1?1:Number(e):Object(yt.a)(e)&&(n=e),Object(yt.a)(n)||(n=Oi.a),new Ot.a(e=>{const i=Object(Ti.a)(t)?t:+t-n.now();return n.schedule(xi,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new Ci(n))};var n}class Ai{constructor(t){this.notifier=t}call(t,e){const n=new ki(t),r=Object(Yt.c)(this.notifier,new Yt.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class ki extends Yt.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function ji(){return t=>t.lift(new Pi)}class Pi{call(t,e){return e.subscribe(new Ri(t))}}class Ri extends bt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Ni=n("qgXg"),Di=n("pxpQ"),Li=n("Ylt2");class Mi extends pt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Fi(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new gt.a;if(this.isStopped||this.hasError?s=ge.a.EMPTY:(this.observers.push(t),s=new Li.a(this,t)),r&&t.add(t=new Di.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Ni.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class Fi{constructor(t,e){this.time=t,this.value=e}}function Vi(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new Mi(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}let Ui;try{Ui="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(eT){Ui=!1}let qi,Bi,zi=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ui)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.B))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(r.B))},token:t,providedIn:"root"}),t})(),Hi=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();function Wi(t){return function(){if(null==qi&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>qi=!0}))}finally{qi=qi||!1}return qi}()?t:!!t.capture}const $i=new r.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.V)(o)}});let Gi=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb($i,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)($i,8))},token:t,providedIn:"root"}),t})(),Ki=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),Qi=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new pt.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ot.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Ii(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(ft.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Dt(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>bi(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.z),r.Rb(zi),r.Rb(o,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(r.z),Object(r.Rb)(zi),Object(r.Rb)(o,8))},token:t,providedIn:"root"}),t})(),Yi=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new pt.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Ii(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(zi),r.Rb(r.z),r.Rb(o,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(zi),Object(r.Rb)(r.z),Object(r.Rb)(o,8))},token:t,providedIn:"root"}),t})(),Zi=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),Xi=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[Ki,Hi,Zi],Ki,Zi]}),t})();class Ji{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ts extends Ji{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class es extends Ji{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class ns extends Ji{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class rs{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof ts?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof es?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof ns?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class is extends rs{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let ss=(()=>{class t extends rs{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.n,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.j),r.Kb(r.Q),r.Kb(o))},t.\u0275dir=r.Fb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.xb]}),t})(),os=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();var as=n("VRyK");class us{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=mi(-this._previousScrollPosition.left),t.style.top=mi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class cs{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ls{enable(){}disable(){}attach(){}}function hs(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function fs(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class ds{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();hs(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ps=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new ls,this.close=t=>new cs(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new us(this._viewportRuler,this._document),this.reposition=t=>new ds(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Qi),r.Rb(Yi),r.Rb(r.z),r.Rb(o))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(Qi),Object(r.Rb)(Yi),Object(r.Rb)(r.z),Object(r.Rb)(o))},token:t,providedIn:"root"}),t})();class gs{constructor(t){if(this.scrollStrategy=new ls,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class ms{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class ys{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let vs=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(o))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(o))},token:t,providedIn:"root"}),t})(),bs=(()=>{class t extends vs{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(o))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(o))},token:t,providedIn:"root"}),t})(),_s=(()=>{class t extends vs{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(o),r.Rb(zi))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(o),Object(r.Rb)(zi))},token:t,providedIn:"root"}),t})();const ws=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let Es=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||ws){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),ws?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(o),r.Rb(zi))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(o),Object(r.Rb)(zi))},token:t,providedIn:"root"}),t})();class Os{constructor(t,e,n,r,i,s,o,a,u){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=u,this._backdropElement=null,this._backdropClick=new pt.a,this._attachments=new pt.a,this._detachments=new pt.a,this._locationChanges=ge.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new pt.a,this._outsidePointerEvents=new pt.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(te(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=mi(this._config.width),t.height=mi(this._config.height),t.minWidth=mi(this._config.minWidth),t.minHeight=mi(this._config.minHeight),t.maxWidth=mi(this._config.maxWidth),t.maxHeight=mi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;gi(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe((e=Object(as.a)(this._attachments,this._detachments),t=>t.lift(new Ai(e)))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())});var e})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const Cs="cdk-overlay-connected-position-bounding-box",Ss=/([A-Za-z%]+)$/;class Ts{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new pt.a,this._resizeSubscription=ge.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Cs),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),u=this._getOverlayFit(a,e,n,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(u,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<u.visibleArea)&&(i={overlayFit:u,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&xs(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Cs),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){let{x:i,y:s}=t,o=this._getOffset(r,"x"),a=this._getOffset(r,"y");o&&(i+=o),a&&(s+=a);let u=0-s,c=s+e.height-n.height,l=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,u,c),f=l*h;return{visibleArea:f,isCompletelyWithinViewport:e.width*e.height===f,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:l==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=Is(this._overlayRef.getConfig().minHeight),o=Is(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.width,0),s=Math.max(t.y+e.height-r.height,0),o=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let u=0,c=0;return u=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,c=e.height<=r.height?o||-s:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:u,y:c},{x:t.x+u,y:t.y+c}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new ys(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,u,c;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,u=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-r/2)}return{top:s,left:u,bottom:o,right:c,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=mi(n.height),r.top=mi(n.top),r.bottom=mi(n.bottom),r.width=mi(n.width),r.left=mi(n.left),r.right=mi(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=mi(t)),i&&(r.maxWidth=mi(i))}this._lastBoundingBoxSize=n,xs(this._boundingBox.style,r)}_resetBoundingBoxStyles(){xs(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){xs(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();xs(n,this._getExactOverlayY(e,t,r)),xs(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),u=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),u&&(o+=`translateY(${u}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=mi(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=mi(s.maxWidth):i&&(n.maxWidth="")),xs(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=mi(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=mi(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:fs(t,n),isOriginOutsideView:hs(t,n),isOverlayClipped:fs(e,n),isOverlayOutsideView:hs(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&gi(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function xs(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Is(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(Ss);return n&&"px"!==n?null:parseFloat(e)}return t||null}class As{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new Ts(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new ms(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const ks="cdk-global-overlay-wrapper";class js{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(ks),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),u=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(ks),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Ps=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new js}connectedTo(t,e,n){return new As(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Ts(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Yi),r.Rb(o),r.Rb(zi),r.Rb(Es))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(Yi),Object(r.Rb)(o),Object(r.Rb)(zi),Object(r.Rb)(Es))},token:t,providedIn:"root"}),t})(),Rs=0,Ns=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u,c,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=u,this._location=c,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new gs(t);return i.direction=i.direction||this._directionality.value,new Os(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+Rs++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new is(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(ps),r.Rb(Es),r.Rb(r.j),r.Rb(Ps),r.Rb(bs),r.Rb(r.r),r.Rb(r.z),r.Rb(o),r.Rb(Gi),r.Rb(w),r.Rb(_s))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Ds={provide:new r.q("cdk-connected-overlay-scroll-strategy"),deps:[Ns],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let Ls=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Ns,Ds],imports:[[Ki,os,Xi],Xi]}),t})(),Ms=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(eT){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===Vs(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=Vs(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Fs(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(zi))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(zi))},token:t,providedIn:"root"}),t})();function Fs(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Vs(t){if(!Fs(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Us{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(te(1)).subscribe(t)}}let qs=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new Us(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ms),r.Rb(r.z),r.Rb(o))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(Ms),Object(r.Rb)(r.z),Object(r.Rb)(o))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const Bs=new r.q("cdk-focus-monitor-default-options"),zs=Wi({passive:!0,capture:!0});let Hs=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=function(t){return 0===t.buttons}(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Ws(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=Ws(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=yi(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(ft.a)(null);const r=function(t){if(function(){if(null==Bi){const t="undefined"!=typeof document?document.head:null;Bi=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Bi}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new pt.a,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=yi(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=yi(t);r===this._getDocument().activeElement&&this._elementInfo.has(r)?this._originChanged(r,e,this._elementInfo.get(r)):(this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=Ws(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===Ws(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,zs),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,zs)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,zs),t.addEventListener("mousedown",this._documentMousedownListener,zs),t.addEventListener("touchstart",this._documentTouchstartListener,zs),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,zs),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,zs),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,zs),t.removeEventListener("mousedown",this._documentMousedownListener,zs),t.removeEventListener("touchstart",this._documentTouchstartListener,zs),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.z),r.Rb(zi),r.Rb(o,8),r.Rb(Bs,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(r.z),Object(r.Rb)(zi),Object(r.Rb)(o,8),Object(r.Rb)(Bs,8))},token:t,providedIn:"root"}),t})();function Ws(t){return t.composedPath?t.composedPath()[0]:t.target}const $s="cdk-high-contrast-black-on-white",Gs="cdk-high-contrast-white-on-black",Ks="cdk-high-contrast-active";let Qs=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Ks),t.remove($s),t.remove(Gs);const e=this.getHighContrastMode();1===e?(t.add(Ks),t.add($s)):2===e&&(t.add(Ks),t.add(Gs))}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(zi),r.Rb(o))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(zi),Object(r.Rb)(o))},token:t,providedIn:"root"}),t})();const Ys=new r.P("11.0.1");class Zs{}const Xs="*";function Js(t,e){return{type:7,name:t,definitions:e,options:{}}}function to(t,e=null){return{type:4,styles:e,timings:t}}function eo(t,e=null){return{type:2,steps:t,options:e}}function no(t){return{type:6,styles:t,offset:null}}function ro(t,e,n){return{type:0,name:t,styles:e,options:n}}function io(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function so(t){Promise.resolve(null).then(t)}class oo{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){so(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ao{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?so(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function uo(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function co(t){switch(t.length){case 0:return new oo;case 1:return t[0];default:return new ao(t)}}function lo(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case Xs:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function ho(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&fo(n,"start",t)));break;case"done":t.onDone(()=>r(n&&fo(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&fo(n,"destroy",t)))}}function fo(t,e,n){const r=n.totalTime,i=po(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function po(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function go(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function mo(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let yo=(t,e)=>!1,vo=(t,e)=>!1,bo=(t,e,n)=>[];const _o=uo();(_o||"undefined"!=typeof Element)&&(yo=(t,e)=>t.contains(e),vo=(()=>{if(_o||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):vo}})(),bo=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let wo=null,Eo=!1;function Oo(t){wo||(wo=("undefined"!=typeof document?document.body:null)||{},Eo=!!wo.style&&"WebkitAppearance"in wo.style);let e=!0;return wo.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in wo.style,!e&&Eo)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in wo.style),e}const Co=vo,So=yo,To=bo;function xo(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Io=(()=>{class t{validateStyleProperty(t){return Oo(t)}matchesElement(t,e){return Co(t,e)}containsElement(t,e){return So(t,e)}query(t,e,n){return To(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new oo(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Ao=(()=>{class t{}return t.NOOP=new Io,t})();const ko="ng-enter",jo="ng-leave",Po="ng-trigger",Ro=".ng-trigger",No="ng-animating",Do=".ng-animating";function Lo(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Mo(parseFloat(e[1]),e[2])}function Mo(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Fo(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Mo(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=Mo(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function Vo(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Uo(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Vo(t,n);return n}function qo(t,e,n){return n?e+":"+n+";":""}function Bo(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=qo(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=qo(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function zo(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Zo(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),uo()&&Bo(t))}function Ho(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Zo(e);t.style[n]=""}),uo()&&Bo(t))}function Wo(t){return Array.isArray(t)?1==t.length?t[0]:eo(t):t}const $o=new RegExp("{{\\s*(.+?)\\s*}}","g");function Go(t){let e=[];if("string"==typeof t){let n;for(;n=$o.exec(t);)e.push(n[1]);$o.lastIndex=0}return e}function Ko(t,e,n){const r=t.toString(),i=r.replace($o,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function Qo(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Yo=/-+([a-z0-9])/g;function Zo(t){return t.replace(Yo,(...t)=>t[1].toUpperCase())}function Xo(t,e){return 0===t||0===e}function Jo(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=ea(t,e)})}}return e}function ta(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function ea(t,e){return window.getComputedStyle(t)[e]}const na="*";function ra(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(oa(i,o)),"<"!=s[0]||i==na&&o==na||e.push(oa(o,i))}(t,n,e)):n.push(t),n}const ia=new Set(["true","1"]),sa=new Set(["false","0"]);function oa(t,e){const n=ia.has(t)||sa.has(t),r=ia.has(e)||sa.has(e);return(i,s)=>{let o=t==na||t==i,a=e==na||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?ia.has(t):sa.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?ia.has(e):sa.has(e)),o&&a}}const aa=new RegExp("s*:selfs*,?","g");function ua(t,e,n){return new ca(t).build(e,n)}class ca{constructor(t){this._driver=t}build(t,e){const n=new la(e);return this._resetContextStyleTimingState(n),ta(this,Wo(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(ha(t)){const e=t;Object.keys(e).forEach(t=>{Go(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Qo(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=ta(this,Wo(t.animation),e);return{type:1,matchers:ra(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:fa(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>ta(this,t,e)),options:fa(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=ta(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:fa(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return da(Fo(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=da(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Fo(r,e),da(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:no({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=no(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Xs?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(ha(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Go(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(ha(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(ha(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:ta(this,Wo(t.animation),e),options:fa(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:fa(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:fa(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(aa,"")),[t=t.replace(/@\*/g,Ro).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Do),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,go(e.collectedStyles,e.currentQuerySelector,{});const o=ta(this,Wo(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:fa(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Fo(t.timings,e.errors,!0);return{type:12,animation:ta(this,Wo(t.animation),e),timings:n,options:null}}}class la{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ha(t){return!Array.isArray(t)&&"object"==typeof t}function fa(t){var e;return t?(t=Vo(t)).params&&(t.params=(e=t.params)?Vo(e):null):t={},t}function da(t,e,n){return{duration:t,delay:e,easing:n}}function pa(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class ga{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ma=new RegExp(":enter","g"),ya=new RegExp(":leave","g");function va(t,e,n,r,i,s={},o={},a,u,c=[]){return(new ba).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class ba{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new ga;const l=new wa(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),ta(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[pa(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Lo(n.duration):null,s=null!=n.delay?Lo(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),ta(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=_a);const t=Lo(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>ta(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Lo(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),ta(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Fo(e.params?Ko(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Lo(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=_a);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),ta(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;ta(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const _a={};class wa{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_a,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Ea(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Lo(n.duration)),null!=n.delay&&(r.delay=Lo(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Ko(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new wa(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=_a,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Oa(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(ma,"."+this._enterClassName)).replace(ya,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Ea{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ea(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Xs,this._currentKeyframe[t]=Xs}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Xs})):Uo(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Ko(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Xs),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=Uo(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==Xs&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Qo(t.values()):[],s=e.size?Qo(e.values()):[];if(n){const t=r[0],e=Vo(t);t.offset=0,e.offset=1,r=[t,e]}return pa(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Oa extends Ea{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=Uo(t[0],!1);a.offset=0,i.push(a);const u=Uo(t[0],!1);u.offset=Ca(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=Uo(t[r],!1);o.offset=Ca((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return pa(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Ca(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Sa{}class Ta extends Sa{normalizePropertyName(t,e){return Zo(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(xa[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const xa=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ia(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const Aa={};class ka{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||Aa,f=this.buildStyles(n,o&&o.params||Aa,l),d=a&&a.params||Aa,p=this.buildStyles(r,d,l),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},_=c?[]:va(t,e,this.ast.animation,i,s,f,p,b,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return Ia(e,this._triggerName,n,r,v,f,p,[],[],m,y,w,l);_.forEach(t=>{const n=t.element,r=go(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=go(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const E=Qo(g.values());return Ia(e,this._triggerName,n,r,v,f,p,_,E,m,y,w)}}class ja{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Vo(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=Ko(s,r,e)),n[t]=s})}}),n}}class Pa{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new ja(t.style,t.options&&t.options.params||{})}),Ra(this.states,"true","1"),Ra(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new ka(t,e,this.states))}),this.fallbackTransition=new ka(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Ra(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Na=new ga;class Da{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=ua(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=lo(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=va(this._driver,e,i,ko,jo,{},{},n,Na,r),s.forEach(t=>{const e=go(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Xs)})});const a=co(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=po(e,"","","");return ho(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const La="ng-animate-queued",Ma="ng-animate-disabled",Fa=".ng-animate-disabled",Va=[],Ua={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},qa={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Ba{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Vo(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const za="void",Ha=new Ba(za);class Wa{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Xa(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=go(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=go(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Xa(t,Po),Xa(t,"ng-trigger-"+e),a[e]=Ha),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Ga(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Xa(t,Po),Xa(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new Ba(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=Ha),u.value!==za&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Ho(t,n),zo(t,r)})}return}const c=go(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(Xa(t,La),s.onStart(()=>{Ja(t,La)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Ro,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,za,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&co(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||Ha,o=new Ba(za),a=new Ga(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Ua||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Xa(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=po(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,ho(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class $a{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Wa(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Ka(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Ka(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Xa(t,Ma)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ja(t,Ma))}removeNode(t,e,n,r){if(Ka(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Ka(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Ro,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Do,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return co(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Ua,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Fa)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Fa,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Xa(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?co(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new ga,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=Za(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=ko+p++;d.set(e,n),t.forEach(t=>Xa(t,n))});const g=[],m=new Set,y=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const t=this.collectedLeaveElements[k],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=Za(h,Array.from(m));b.forEach((t,e)=>{const n=jo+p++;v.set(e,n),t.forEach(t=>Xa(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>Ja(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>Ja(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>Ho(i,p.fromStyles)),e.onDestroy(()=>zo(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>Ho(i,p.fromStyles)),e.onDestroy(()=>zo(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>go(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,O=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(O.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{go(E,e,[]).push(t),t.destroy()})});const C=g.filter(t=>nu(t,a,u)),S=new Map;Ya(S,this.driver,y,u,Xs).forEach(t=>{nu(t,a,u)&&C.push(t)});const T=new Map;f.forEach((t,e)=>{Ya(T,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=S.get(t),n=T.get(t);S.set(t,Object.assign(Object.assign({},e),n))});const x=[],I=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>zo(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(O.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=O.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>O.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,T,S);if(s.setRealPlayer(n),t===A)x.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=co(e)),r.push(s)}}else Ho(e,o.fromStyles),s.onDestroy(()=>zo(e,o.toStyles)),I.push(s),c.has(e)&&r.push(s)}),I.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=co(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let k=0;k<g.length;k++){const t=g[k],e=t.__ng_removed;if(Ja(t,jo),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Do,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?tu(this,t,r):this.processLeaveNode(t)}return g.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==za;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=go(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}Ho(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new oo(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return eu(t,e),e}((n.get(h)||Va).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=lo(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new Ga(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{go(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Xa(t,No));const f=co(h);return f.onDestroy(()=>{c.forEach(t=>Ja(t,No)),zo(a,e.toStyles)}),l.forEach(t=>{go(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new oo(t.duration,t.delay)}}class Ga{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new oo,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>ho(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){go(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Ka(t){return t&&1===t.nodeType}function Qa(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Ya(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Qa(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=qa,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Qa(t,s[a++])),o}function Za(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function Xa(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Ja(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function tu(t,e,n){co(n).onDone(()=>t.processLeaveNode(e))}function eu(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof ao?eu(r.players,e):e.push(r)}}function nu(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class ru{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new $a(t,e,n),this._timelineEngine=new Da(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=ua(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Pa(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=mo(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=mo(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function iu(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=ou(e[0]),e.length>1&&(r=ou(e[e.length-1]))):e&&(n=ou(e)),n||r?new su(t,n,r):null}let su=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&zo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zo(this._element,this._initialStyles),this._endStyles&&(zo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Ho(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ho(this._element,this._endStyles),this._endStyles=null),zo(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function ou(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];au(i)&&(e=e||{},e[i]=t[i])}return e}function au(t){return"display"===t||"position"===t}const uu="animation",cu="animationend";class lu{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=mu(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),gu(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),pu(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){hu(this._element,this._name,"paused")}resume(){hu(this._element,this._name,"running")}setPosition(t){const e=fu(this._element,this._name);this._position=t*this._duration,gu(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),pu(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=mu(t,"").split(","),r=du(n,e);r>=0&&(n.splice(r,1),gu(t,"",n.join(",")))}(this._element,this._name))}}function hu(t,e,n){gu(t,"PlayState",n,fu(t,e))}function fu(t,e){const n=mu(t,"");return n.indexOf(",")>0?du(n.split(","),e):du([n],e)}function du(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function pu(t,e,n){n?t.removeEventListener(cu,e):t.addEventListener(cu,e)}function gu(t,e,n,r){const i=uu+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function mu(t,e){return t.style[uu+e]}class yu{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new lu(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:ea(this.element,n))})}this.currentSnapshot=t}}class vu extends oo{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=xo(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class bu{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Oo(t)}matchesElement(t,e){return Co(t,e)}containsElement(t,e){return So(t,e)}query(t,e,n){return To(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>xo(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof yu),u={};Xo(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Jo(t,e,u));if(0==n)return new vu(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=iu(t,e),d=new yu(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class _u{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:ea(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class wu{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Eu().toString()),this._cssKeyframesDriver=new bu}validateStyleProperty(t){return Oo(t)}matchesElement(t,e){return Co(t,e)}containsElement(t,e){return So(t,e)}query(t,e,n){return To(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof _u);Xo(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=iu(t,e=Jo(t,e=e.map(t=>Uo(t,!1)),u));return new _u(t,e,a,l)}}function Eu(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Ou=(()=>{class t extends Zs{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.R.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?eo(t):t;return Tu(this._renderer,null,e,"register",[n]),new Cu(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.F),r.Rb(o))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class Cu extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Su(this._id,t,e||{},this._renderer)}}class Su{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Tu(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Tu(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const xu="@",Iu="@.disabled";let Au=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new ku("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new ju(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.F),r.Rb(ru),r.Rb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class ku{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==xu&&e==Iu?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ju extends ku{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==xu?"."==e.charAt(1)&&e==Iu?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==xu){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=xu&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Pu=(()=>{class t extends ru{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(o),r.Rb(Ao),r.Rb(Sa))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Ru=[{provide:Ao,useFactory:function(){return"function"==typeof Eu()?new wu:new bu}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Zs,useClass:Ou},{provide:Sa,useFactory:function(){return new Ta}},{provide:ru,useClass:Pu},{provide:r.F,useFactory:function(t,e,n){return new Au(t,e,n)},deps:[X,ru,r.z]}];let Nu=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:Ru,imports:[ht]}),t})();const Du=new r.P("11.0.1"),Lu=new r.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Mu=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.W)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Du.full!==Ys.full&&console.warn("The Angular Material version ("+Du.full+") does not match the Angular CDK version ("+Ys.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Rb(Qs),r.Rb(Lu,8),r.Rb(o))},imports:[[Ki],Ki]}),t})();const Fu=new r.q("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Object(r.V)(r.u)}});class Vu{constructor(){this._localeChanges=new pt.a,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareDate(t,e):n==r}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}const Uu=new r.q("mat-date-formats");let qu;try{qu="undefined"!=typeof Intl}catch(eT){qu=!1}const Bu={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},zu=$u(31,t=>String(t+1)),Hu={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},Wu=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function $u(t,e){const n=Array(t);for(let r=0;r<t;r++)n[r]=e(r);return n}let Gu=(()=>{class t extends Vu{constructor(t,e){super(),this.useUtcForDisplay=!0,super.setLocale(t),this.useUtcForDisplay=!e.TRIDENT,this._clampDate=e.TRIDENT||e.EDGE}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){if(qu){const e=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return $u(12,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,t,1))))}return Bu[t]}getDateNames(){if(qu){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return $u(31,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return zu}getDayOfWeekNames(t){if(qu){const e=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return $u(7,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return Hu[t]}getYearName(t){if(qu){const e=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(e,t))}return String(this.getYear(t))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,e,n){let r=this._createDateWithOverflow(t,e,n);return r.getMonth(),r}today(){return new Date}parse(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,e){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");if(qu){this._clampDate&&(t.getFullYear()<1||t.getFullYear()>9999)&&(t=this.clone(t)).setFullYear(Math.max(1,Math.min(9999,t.getFullYear()))),e=Object.assign(Object.assign({},e),{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,e);return this._stripDirectionalityCharacters(this._format(n,t))}return this._stripDirectionalityCharacters(t.toDateString())}addCalendarYears(t,e){return this.addCalendarMonths(t,12*e)}addCalendarMonths(t,e){let n=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+e,this.getDate(t));return this.getMonth(n)!=((this.getMonth(t)+e)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(t,e){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+e)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(Wu.test(t)){let e=new Date(t);if(this.isValid(e))return e}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,e,n){const r=new Date;return r.setFullYear(t,e,n),r.setHours(0,0,0,0),r}_2digit(t){return("00"+t).slice(-2)}_stripDirectionalityCharacters(t){return t.replace(/[\u200e\u200f]/g,"")}_format(t,e){const n=new Date;return n.setUTCFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setUTCHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t.format(n)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Fu,8),r.Rb(zi))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Ku=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[{provide:Vu,useClass:Gu}],imports:[[Hi]]}),t})();const Qu={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Yu=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[{provide:Uu,useValue:Qu}],imports:[[Ku]]}),t})(),Zu=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[Mu],Mu]}),t})();function Xu(t,e){}class Ju{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const tc={dialogContainer:Js("dialogContainer",[ro("void, exit",no({opacity:0,transform:"scale(0.7)"})),ro("enter",no({transform:"none"})),io("* => enter",to("150ms cubic-bezier(0, 0, 0.2, 1)",no({transform:"none",opacity:1}))),io("* => void, * => exit",to("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",no({opacity:0})))])};let ec=(()=>{class t extends rs{constructor(t,e,n,i,s,o){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=s,this._focusMonitor=o,this._animationStateChanged=new r.n,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement)}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(qs),r.Kb(r.h),r.Kb(o,8),r.Kb(Ju),r.Kb(Hs))},t.\u0275dir=r.Fb({type:t,viewQuery:function(t,e){if(1&t&&r.fc(ss,!0),2&t){let t;r.bc(t=r.Vb())&&(e._portalOutlet=t.first)}},features:[r.xb]}),t})(),nc=(()=>{class t extends ec{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return rc(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.ic("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(r.Qb("id",e._id),r.Bb("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.jc("@dialogContainer",e._state))},features:[r.xb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.kc(0,Xu,0,0,"ng-template",0)},directives:[ss],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[tc.dialogContainer]}}),t})();const rc=r.Pb(nc);let ic=0;class sc{constructor(t,e,n="mat-dialog-"+ic++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new pt.a,this._afterClosed=new pt.a,this._beforeClosed=new pt.a,this._state=0,e._id=n,e._animationStateChanged.pipe(Dt(t=>"opened"===t.state),te(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Dt(t=>"closed"===t.state),te(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Dt(t=>27===t.keyCode&&!this.disableClose&&!function(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t))).subscribe(t=>{t.preventDefault(),oc(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():oc(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Dt(t=>"closing"===t.state),te(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function oc(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const ac=new r.q("MatDialogData"),uc=new r.q("mat-dialog-default-options"),cc=new r.q("mat-dialog-scroll-strategy"),lc={provide:cc,deps:[Ns],useFactory:function(t){return()=>t.scrollStrategies.block()}};let hc=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new pt.a,this._afterOpenedAtThisLevel=new pt.a,this._ariaHiddenElements=new Map,this.afterAllClosed=jt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ie(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new Ju)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new gs({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=r.r.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Ju,useValue:e}]}),i=new ts(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const s=new this._dialogRefConstructor(n,e,i.id);if(t instanceof r.L)e.attachTemplatePortal(new es(t,null,{$implicit:i.data,dialogRef:s}));else{const n=this._createInjector(i,s,e),r=e.attachComponentPortal(new ts(t,i.viewContainerRef,n));s.componentInstance=r.instance}return s.updateSize(i.width,i.height).updatePosition(i.position),s}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(Gi,null)||s.push({provide:Gi,useValue:{value:t.direction,change:Object(ft.a)()}}),r.r.create({parent:i||this._injector,providers:s})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Ns),r.Kb(r.r),r.Kb(void 0),r.Kb(void 0),r.Kb(Es),r.Kb(void 0),r.Kb(r.N),r.Kb(r.N),r.Kb(r.q))},t.\u0275dir=r.Fb({type:t}),t})(),fc=(()=>{class t extends hc{constructor(t,e,n,r,i,s,o){super(t,e,r,s,o,i,sc,nc,ac)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ns),r.Rb(r.r),r.Rb(w,8),r.Rb(uc,8),r.Rb(cc),r.Rb(t,12),r.Rb(Es))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),dc=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[fc,lc],imports:[[Ls,os,Mu],Mu]}),t})(),pc=(()=>{class t{constructor(t){this.dialog=t,this.path="",this.title="",this.textcolor="",this.link=""}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(fc))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-design-card"]],inputs:{path:"path",title:"title",textcolor:"textcolor",link:"link"},decls:5,vars:6,consts:[[1,"container",3,"routerLink"],["width","600","height","400",1,"images",3,"src"],[1,"overlay"],[1,"text"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Lb(1,"img",1),r.Nb(2,"div",2),r.Nb(3,"div",3),r.lc(4),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.ac("routerLink",e.link),r.Ab(1),r.ac("src",e.path,r.dc),r.Ab(2),r.gc("color: ",e.textcolor,""),r.Ab(1),r.mc(e.title))},directives:[Wr],styles:["*[_ngcontent-%COMP%]{border:0 solid #000;margin:0;padding:0}.images[_ngcontent-%COMP%]{object-fit:cover;cursor:pointer}.container[_ngcontent-%COMP%]{position:relative;height:400px}.image[_ngcontent-%COMP%]{display:block;width:100%;height:auto}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;height:100%;width:100%;opacity:0;transition:.5s ease;background-color:#fff}.container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:.8}.text[_ngcontent-%COMP%]{color:#fff;letter-spacing:5px;font-size:40px;position:absolute;text-transform:uppercase;font-weight:1000;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.popup[_ngcontent-%COMP%]{visibility:hidden}"]}),t})(),gc=(()=>{class t{constructor(t){this.dialog=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(fc))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-design"]],decls:7,vars:0,consts:[[1,"container"],["path","../../assets/images/hacks-img.png","title","CalvinHacks","textcolor","Maroon","link","/calvinhacks"],["path","../../assets/images/banner.png","title","Mkainos","textcolor","#000000","link","/mkainos"],["path","../../assets/images/sushi.png","title","Maki Zushi","textcolor","#FFA500","link","/sushi"],["path","../../assets/images/card2.png","title","Card Packaging","textcolor","olive","link","/card"],["path","../../assets/images/Deutschland.jpg","title","Travel Poster","textcolor","black","link","/travel"],["path","../../assets/images/link_logo.png","title","LINK","textcolor","Red","link","/link"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Lb(1,"app-design-card",1),r.Lb(2,"app-design-card",2),r.Lb(3,"app-design-card",3),r.Lb(4,"app-design-card",4),r.Lb(5,"app-design-card",5),r.Lb(6,"app-design-card",6),r.Mb())},directives:[pc],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{padding-left:3vw}app-design-card[_ngcontent-%COMP%]{display:inline-flex;width:600px}"]}),t})(),mc=(()=>{class t{constructor(t){this.dialog=t}ngOnInit(){}openDialog(){this.dialog.open(yc)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(fc))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-computer"]],decls:1,vars:0,consts:[["path","../../assets/images/hacks-img.png","title","CalvinHacks","textcolor","Maroon","link","/calvin-hacks"]],template:function(t,e){1&t&&r.Lb(0,"app-design-card",0)},directives:[pc],styles:["app-design-card[_ngcontent-%COMP%]{display:inline-flex;width:600px}"]}),t})(),yc=(()=>{class t{constructor(t){this.dialogRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(sc))},t.\u0275cmp=r.Eb({type:t,selectors:[["dialog-content-example-dialog"]],decls:7,vars:0,consts:[["mat-dialog-title",""],[1,"body"],["src","../assets/images/detail_main.png","width","400","height","400",1,"computer"],["mat-dialog-content","",1,"text"]],template:function(t,e){1&t&&(r.Nb(0,"h1",0),r.lc(1,"CalvinHacks"),r.Mb(),r.Nb(2,"div",1),r.Lb(3,"img",2),r.Nb(4,"div",3),r.Nb(5,"p"),r.lc(6,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce vitae vestibulum libero. Pellentesque a erat non mi posuere condimentum in vitae diam. Ut dolor magna, interdum vitae velit quis, volutpat bibendum nisl. Sed et dictum nulla. Vivamus sed faucibus turpis. Aliquam eu augue luctus, ullamcorper velit sit amet, semper lorem. Donec vel ultricies nisl, et tincidunt ipsum. Suspendisse eu urna tortor. Vestibulum scelerisque ex at ex commodo, non interdum nisl mattis. Donec in nulla vel enim accumsan ultrices. Donec nec finibus ipsum. Nam accumsan, sapien non accumsan ultrices, dolor nisl iaculis erat, sit amet feugiat erat ipsum at metus. Integer varius arcu sit amet est hendrerit varius. "),r.Mb(),r.Mb(),r.Mb())},styles:[".body[_ngcontent-%COMP%]{display:flex}.computer[_ngcontent-%COMP%]{object-fit:scale-down}.text[_ngcontent-%COMP%]{margin-left:50px}"]}),t})();var vc=n("spgP"),bc=n("Jgta"),_c=n("os0x"),wc=n("zIRd"),Ec=n("q/0M"),Oc=n("qOnz"),Cc=function(t,e){return(Cc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Sc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Tc,xc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ic=Ic||{},Ac=xc||self;function kc(){}function jc(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Pc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Rc="closure_uid_"+(1e9*Math.random()>>>0),Nc=0;function Dc(t,e,n){return t.call.apply(t.bind,arguments)}function Lc(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Mc(t,e,n){return(Mc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Dc:Lc).apply(null,arguments)}function Fc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Vc(){return Date.now()}function Uc(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function qc(){this.j=this.j,this.i=this.i}qc.prototype.j=!1,qc.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Rc)&&t[Rc]||(t[Rc]=++Nc)}(this)},qc.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Bc=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},zc=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Hc(t){return Array.prototype.concat.apply([],arguments)}function Wc(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function $c(t){return/^[\s\xa0]*$/.test(t)}var Gc,Kc=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Qc(t,e){return-1!=t.indexOf(e)}function Yc(t,e){return t<e?-1:t>e?1:0}t:{var Zc=Ac.navigator;if(Zc){var Xc=Zc.userAgent;if(Xc){Gc=Xc;break t}}Gc=""}function Jc(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function tl(t){var e={};for(var n in t)e[n]=t[n];return e}var el="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nl(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<el.length;s++)n=el[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function rl(t){return rl[" "](t),t}rl[" "]=kc;var il,sl,ol=Qc(Gc,"Opera"),al=Qc(Gc,"Trident")||Qc(Gc,"MSIE"),ul=Qc(Gc,"Edge"),cl=ul||al,ll=Qc(Gc,"Gecko")&&!(Qc(Gc.toLowerCase(),"webkit")&&!Qc(Gc,"Edge"))&&!(Qc(Gc,"Trident")||Qc(Gc,"MSIE"))&&!Qc(Gc,"Edge"),hl=Qc(Gc.toLowerCase(),"webkit")&&!Qc(Gc,"Edge");function fl(){var t=Ac.document;return t?t.documentMode:void 0}t:{var dl="",pl=(sl=Gc,ll?/rv:([^\);]+)(\)|;)/.exec(sl):ul?/Edge\/([\d\.]+)/.exec(sl):al?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(sl):hl?/WebKit\/(\S+)/.exec(sl):ol?/(?:Version)[ \/]?(\S+)/.exec(sl):void 0);if(pl&&(dl=pl?pl[1]:""),al){var gl=fl();if(null!=gl&&gl>parseFloat(dl)){il=String(gl);break t}}il=dl}var ml={};function yl(t){return function(t,e){var n=ml;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Kc(String(il)).split("."),r=Kc(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Yc(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Yc(0==o[2].length,0==a[2].length)||Yc(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var vl=Ac.document&&al&&(fl()||parseInt(il,10))||void 0,bl=!al||9<=Number(vl),_l=al&&!yl("9"),wl=function(){if(!Ac.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ac.addEventListener("test",kc,e),Ac.removeEventListener("test",kc,e)}catch(n){}return t}();function El(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Ol(t,e){if(El.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ll){t:{try{rl(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Cl[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}El.prototype.b=function(){this.defaultPrevented=!0},Uc(Ol,El);var Cl={2:"touch",3:"pen",4:"mouse"};Ol.prototype.b=function(){Ol.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,_l)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Sl="closure_listenable_"+(1e6*Math.random()|0),Tl=0;function xl(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Tl,this.Y=this.Z=!1}function Il(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Al(t){this.src=t,this.a={},this.b=0}function kl(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Bc(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Il(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function jl(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}Al.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=jl(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new xl(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Pl="closure_lm_"+(1e6*Math.random()|0),Rl={};function Nl(t,e,n,r,i){if(r&&r.once)return Ll(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Nl(t,e[s],n,r,i);return null}return n=Hl(n),t&&t[Sl]?t.va(e,n,Pc(r)?!!r.capture:!!r,i):Dl(t,e,n,!1,r,i)}function Dl(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Pc(i)?!!i.capture:!!i;if(o&&!bl)return null;var a=Bl(t);if(a||(t[Pl]=a=new Al(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=ql,e=bl?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)wl||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Vl(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ll(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ll(t,e[s],n,r,i);return null}return n=Hl(n),t&&t[Sl]?t.wa(e,n,Pc(r)?!!r.capture:!!r,i):Dl(t,e,n,!0,r,i)}function Ml(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Ml(t,e[s],n,r,i);else r=Pc(r)?!!r.capture:!!r,n=Hl(n),t&&t[Sl]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=jl(s=t.a[e],n,r,i))&&(Il(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Bl(t))&&(e=t.a[e.toString()],t=-1,e&&(t=jl(e,n,r,i)),(n=-1<t?e[t]:null)&&Fl(n))}function Fl(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Sl])kl(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Vl(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Bl(e))?(kl(n,t),0==n.b&&(n.src=null,e[Pl]=null)):Il(t)}}}function Vl(t){return t in Rl?Rl[t]:Rl[t]="on"+t}function Ul(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Fl(t),n.call(r,e)}function ql(t,e){if(t.Y)return!0;if(!bl){if(!e)t:{e=["window","event"];for(var n=Ac,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ul(t,e=new Ol(e,this))}return Ul(t,new Ol(e,this))}function Bl(t){return(t=t[Pl])instanceof Al?t:null}var zl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hl(t){return"function"==typeof t?t:(t[zl]||(t[zl]=function(e){return t.handleEvent(e)}),t[zl])}function Wl(){qc.call(this),this.c=new Al(this),this.J=this,this.C=null}function $l(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new El(e,t);else if(e instanceof El)e.target=e.target||t;else{var i=e;nl(e=new El(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=Gl(o,r,!0,e)&&i}if(i=Gl(o=e.a=t,r,!0,e)&&i,i=Gl(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Gl(o=e.a=n[s],r,!1,e)&&i}function Gl(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&kl(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Uc(Wl,qc),Wl.prototype[Sl]=!0,(Tc=Wl.prototype).addEventListener=function(t,e,n,r){Nl(this,t,e,n,r)},Tc.removeEventListener=function(t,e,n,r){Ml(this,t,e,n,r)},Tc.G=function(){if(Wl.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Il(n[r]);delete e.a[t],e.b--}}this.C=null},Tc.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Tc.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Kl=Ac.JSON.stringify;function Ql(){this.b=this.a=null}var Yl,Zl=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Jl},function(t){t.reset()});function Xl(){var t=rh,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Jl(){this.next=this.b=this.a=null}function th(t){Ac.setTimeout(function(){throw t},0)}function eh(t,e){Yl||function(){var t=Ac.Promise.resolve(void 0);Yl=function(){t.then(ih)}}(),nh||(Yl(),nh=!0),rh.add(t,e)}Ql.prototype.add=function(t,e){var n=Zl.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Jl.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Jl.prototype.reset=function(){this.next=this.b=this.a=null};var nh=!1,rh=new Ql;function ih(){for(var t;t=Xl();){try{t.a.call(t.b)}catch(n){th(n)}var e=Zl;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}nh=!1}function sh(t,e){Wl.call(this),this.b=t||1,this.a=e||Ac,this.f=Mc(this.Za,this),this.g=Vc()}function oh(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ah(t,e,n){if("function"==typeof t)n&&(t=Mc(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Mc(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ac.setTimeout(t,e||0)}function uh(t){t.a=ah(function(){t.a=null,t.c&&(t.c=!1,uh(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Uc(sh,Wl),(Tc=sh.prototype).aa=!1,Tc.M=null,Tc.Za=function(){if(this.aa){var t=Vc()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),$l(this,"tick"),this.aa&&(oh(this),this.start()))}},Tc.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Vc())},Tc.G=function(){sh.X.G.call(this),oh(this),delete this.a};var ch=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Cc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:uh(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ac.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(qc);function lh(t){qc.call(this),this.b=t,this.a={}}Uc(lh,qc);var hh=[];function fh(t,e,n,r){Array.isArray(n)||(n&&(hh[0]=n.toString()),n=hh);for(var i=0;i<n.length;i++){var s=Nl(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function dh(t){Jc(t.a,function(t,e){this.a.hasOwnProperty(e)&&Fl(t)},t),t.a={}}function ph(){this.a=!0}function gh(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Kl(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}lh.prototype.G=function(){lh.X.G.call(this),dh(this)},lh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ph.prototype.info=function(){};var mh={},yh=null;function vh(){return yh=yh||new Wl}function bh(t){El.call(this,mh.Fa,t)}function _h(t){var e=vh();$l(e,new bh(e,t))}function wh(t,e){El.call(this,mh.STAT_EVENT,t),this.stat=e}function Eh(t){var e=vh();$l(e,new wh(e,t))}function Oh(t){El.call(this,mh.Ga,t)}function Ch(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ac.setTimeout(function(){t()},e)}mh.Fa="serverreachability",Uc(bh,El),mh.STAT_EVENT="statevent",Uc(wh,El),mh.Ga="timingevent",Uc(Oh,El);var Sh={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Th={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function xh(){}function Ih(){}xh.prototype.a=null;var Ah,kh={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function jh(){El.call(this,"d")}function Ph(){El.call(this,"c")}function Rh(){}function Nh(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new lh(this),this.P=Dh,this.R=new sh(t=cl?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Uc(jh,El),Uc(Ph,El),Uc(Rh,xh),Ah=new Rh;var Dh=45e3,Lh={},Mh={};function Fh(t,e,n){t.H=1,t.i=af(tf(e)),t.j=n,t.I=!0,Vh(t,null)}function Vh(t,e){t.u=Vc(),Bh(t),t.l=tf(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),_f(n.b,"t",r),t.D=0,t.a=pd(t.g,t.g.C?e:null),0<t.O&&(t.F=new ch(Mc(t.Ca,t,t.a),t.O)),fh(t.J,t.a,"readystatechange",t.Xa),e=t.B?tl(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),_h(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Uh(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=qh(t,n);if(i==Mh){4==e&&(t.h=4,Eh(14),r=!1),gh(t.c,t.f,null,"[Incomplete Response]");break}if(i==Lh){t.h=4,Eh(15),gh(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}gh(t.c,t.f,i,null),Gh(t,i)}4==e&&0==n.length&&(t.h=1,Eh(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),od(e),e.F=!0,Eh(11))):(gh(t.c,t.f,n,"[Invalid Chunked Response]"),$h(t),Wh(t))}function qh(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Mh:(n=Number(e.substring(n,r)),isNaN(n)?Lh:(r+=1)+n>e.length?Mh:(e=e.substr(r,n),t.D=r+n,e))}function Bh(t){t.T=Vc()+t.P,zh(t,t.P)}function zh(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ch(Mc(t.Va,t),e)}function Hh(t){t.o&&(Ac.clearTimeout(t.o),t.o=null)}function Wh(t){0==t.g.v||t.A||cd(t.g,t)}function $h(t){Hh(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,oh(t.R),dh(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Gh(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||xf(n.b,t)))if(n.I=t.N,!t.C&&xf(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(nO){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;ud(n),Zf(n)}sd(n),Eh(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ch(Mc(n.Sa,n),6e3));if(1>=Tf(n.b)&&n.ea){try{n.ea()}catch(nO){}n.ea=void 0}}else hd(n,11)}else if((t.C||n.a==t)&&ud(n),!$c(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Qc(l,"spdy")||Qc(l,"quic")||Qc(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(If(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,of(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Vc()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=dd(u,u.C?u.ga:null,u.fa),d.C){Af(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Hh(p),Bh(p)),u.a=d}else id(u);0<n.g.length&&td(n)}else"stop"!=i[0]&&"close"!=i[0]||hd(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?hd(n,7):Yf(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);_h(4)}catch(nO){}}function Kh(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(jc(t)||"string"==typeof t)zc(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(jc(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(jc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Qh(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Qh)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Yh(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Zh(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Zh(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Zh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Tc=Nh.prototype).setTimeout=function(t){this.P=t},Tc.Xa=function(t){t=t.target;var e=this.F;e&&3==$f(t)?e.f():this.Ca(t)},Tc.Ca=function(t){try{if(t==this.a)t:{var e=$f(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!cl&&!this.a.$())){this.A||4!=e||7==n||_h(8==n||0>=r?3:2),Hh(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$c(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,Eh(12),$h(this),Wh(this);break t}gh(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Gh(this,u)}this.I?(Uh(this,e,s),cl&&this.b&&3==e&&(fh(this.J,this.R,"tick",this.Wa),this.R.start())):(gh(this.c,this.f,s,null),Gh(this,s)),4==e&&$h(this),this.b&&!this.A&&(4==e?cd(this.g,this):(this.b=!1,Bh(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Eh(12)):(this.h=0,Eh(13)),$h(this),Wh(this)}}}catch(c){}},Tc.Wa=function(){if(this.a){var t=$f(this.a),e=this.a.$();this.D<e.length&&(Hh(this),Uh(this,t,e),this.b&&4!=t&&Bh(this))}},Tc.cancel=function(){this.A=!0,$h(this)},Tc.Va=function(){this.o=null;var t=Vc();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(_h(3),Eh(17)),$h(this),this.h=2,Wh(this)):zh(this,this.T-t)},(Tc=Qh.prototype).K=function(){Yh(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Tc.L=function(){return Yh(this),this.a.concat()},Tc.get=function(t,e){return Zh(this.b,t)?this.b[t]:e},Tc.set=function(t,e){Zh(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Tc.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Xh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Jh(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Jh){this.a=void 0!==e?e:t.a,ef(this,t.f),this.j=t.j,nf(this,t.c),rf(this,t.h),this.g=t.g,e=t.b;var n=new mf;n.c=e.c,e.a&&(n.a=new Qh(e.a),n.b=e.b),sf(this,n),this.i=t.i}else t&&(n=String(t).match(Xh))?(this.a=!!e,ef(this,n[1]||"",!0),this.j=uf(n[2]||""),nf(this,n[3]||"",!0),rf(this,n[4]),this.g=uf(n[5]||"",!0),sf(this,n[6]||"",!0),this.i=uf(n[7]||"")):(this.a=!!e,this.b=new mf(null,this.a))}function tf(t){return new Jh(t)}function ef(t,e,n){t.f=n?uf(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function nf(t,e,n){t.c=n?uf(e,!0):e}function rf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function sf(t,e,n){e instanceof mf?(t.b=e,function(t,e){e&&!t.f&&(yf(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(vf(this,e),_f(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=cf(e,pf)),t.b=new mf(e,t.a))}function of(t,e,n){t.b.set(e,n)}function af(t){return of(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Vc()).toString(36)),t}function uf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function cf(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,lf),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function lf(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Jh.prototype.toString=function(){var t=[],e=this.f;e&&t.push(cf(e,hf,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(cf(e,hf,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(cf(n,"/"==n.charAt(0)?df:ff,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",cf(n,gf)),t.join("")};var hf=/[#\/\?@]/g,ff=/[#\?:]/g,df=/[#\?]/g,pf=/[#\?@]/g,gf=/#/g;function mf(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function yf(t){t.a||(t.a=new Qh,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function vf(t,e){yf(t),e=wf(t,e),Zh(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Zh((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Yh(t)))}function bf(t,e){return yf(t),e=wf(t,e),Zh(t.a.b,e)}function _f(t,e,n){vf(t,e),0<n.length&&(t.c=null,t.a.set(wf(t,e),Wc(n)),t.b+=n.length)}function wf(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Tc=mf.prototype).add=function(t,e){yf(this),this.c=null,t=wf(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Tc.forEach=function(t,e){yf(this),this.a.forEach(function(n,r){zc(n,function(n){t.call(e,n,r,this)},this)},this)},Tc.L=function(){yf(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Tc.K=function(t){yf(this);var e=[];if("string"==typeof t)bf(this,t)&&(e=Hc(e,this.a.get(wf(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Hc(e,t[n])}return e},Tc.set=function(t,e){return yf(this),this.c=null,bf(this,t=wf(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Tc.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Tc.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Ef=function(){return function(t,e){this.b=t,this.a=e}}();function Of(t){this.g=t||Cf,t=Ac.PerformanceNavigationTiming?0<(t=Ac.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ac.ia&&Ac.ia.ya&&Ac.ia.ya()&&Ac.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Cf=10;function Sf(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Tf(t){return t.b?1:t.a?t.a.size:0}function xf(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function If(t,e){t.a?t.a.add(e):t.b=e}function Af(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function kf(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Sc(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Wc(t.c)}function jf(){}function Pf(){this.a=new jf}function Rf(t,e,n){var r=n||"";try{Kh(t,function(t,n){var i=t;Pc(t)&&(i=Kl(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Nf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Of.prototype.cancel=function(){var t,e;if(this.c=kf(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Sc(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},jf.prototype.stringify=function(t){return Ac.JSON.stringify(t,void 0)},jf.prototype.parse=function(t){return Ac.JSON.parse(t,void 0)};var Df=Ac.JSON.parse;function Lf(t){Wl.call(this),this.headers=new Qh,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Mf,this.D=this.F=!1}Uc(Lf,Wl);var Mf="",Ff=/^https?$/i,Vf=["POST","PUT"];function Uf(t){return"content-type"==t.toLowerCase()}function qf(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Bf(t),Hf(t)}function Bf(t){t.u||(t.u=!0,$l(t,"complete"),$l(t,"error"))}function zf(t){if(t.b&&void 0!==Ic&&(!t.s[1]||4!=$f(t)||2!=t.W()))if(t.l&&4==$f(t))ah(t.za,0,t);else if($l(t,"readystatechange"),4==$f(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Xh)[1]||null;if(!s&&Ac.self&&Ac.self.location){var o=Ac.self.location.protocol;s=o.substr(0,o.length-1)}i=!Ff.test(s?s.toLowerCase():"")}e=i}if(e)$l(t,"complete"),$l(t,"success");else{t.h=6;try{var a=2<$f(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Bf(t)}}finally{Hf(t)}}}function Hf(t,e){if(t.a){Wf(t);var n=t.a,r=t.s[0]?kc:null;t.a=null,t.s=null,e||$l(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function Wf(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ac.clearTimeout(t.m),t.m=null)}function $f(t){return t.a?t.a.readyState:0}function Gf(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Jc(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):of(t,e,n))}function Kf(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Qf(t){this.pa=0,this.g=[],this.c=new ph,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Kf("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Kf("baseRetryDelayMs",5e3,t),this.Ra=Kf("retryDelaySeedMs",1e4,t),this.Ma=Kf("forwardChannelMaxRetries",2,t),this.ma=Kf("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Of(t&&t.concurrentRequestLimit),this.ka=new Pf,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Yf(t){if(Xf(t),3==t.v){var e=t.R++,n=tf(t.B);of(n,"SID",t.J),of(n,"RID",e),of(n,"TYPE","terminate"),nd(t,n),(e=new Nh(t,t.c,e,void 0)).H=2,e.i=af(tf(n)),n=!1,Ac.navigator&&Ac.navigator.sendBeacon&&(n=Ac.navigator.sendBeacon(e.i.toString(),"")),!n&&Ac.Image&&((new Image).src=e.i,n=!0),n||(e.a=pd(e.g,null),e.a.ba(e.i)),e.u=Vc(),Bh(e)}fd(t)}function Zf(t){t.a&&(od(t),t.a.cancel(),t.a=null)}function Xf(t){Zf(t),t.j&&(Ac.clearTimeout(t.j),t.j=null),ud(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Ac.clearTimeout(t.h),t.h=null)}function Jf(t,e){t.g.push(new Ef(t.Oa++,e)),3==t.v&&td(t)}function td(t){Sf(t.b)||t.h||(t.h=!0,eh(t.Ba,t),t.u=0)}function ed(t,e){var n;n=e?e.f:t.R++;var r=tf(t.B);of(r,"SID",t.J),of(r,"RID",n),of(r,"AID",t.P),nd(t,r),t.i&&t.l&&Gf(r,t.i,t.l),n=new Nh(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=rd(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),If(t.b,n),Fh(n,r,e)}function nd(t,e){t.f&&Kh({},function(t,n){of(e,n,t)})}function rd(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Mc(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{Rf(l,o,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function id(t){t.a||t.j||(t.T=1,eh(t.Aa,t),t.o=0)}function sd(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ch(Mc(t.Aa,t),ld(t,t.o)),t.o++,0))}function od(t){null!=t.s&&(Ac.clearTimeout(t.s),t.s=null)}function ad(t){t.a=new Nh(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=tf(t.la);of(e,"RID","rpc"),of(e,"SID",t.J),of(e,"CI",t.H?"0":"1"),of(e,"AID",t.P),nd(t,e),of(e,"TYPE","xmlhttp"),t.i&&t.l&&Gf(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=af(tf(e)),n.j=null,n.I=!0,Vh(n,t)}function ud(t){null!=t.m&&(Ac.clearTimeout(t.m),t.m=null)}function cd(t,e){var n=null;if(t.a==e){ud(t),od(t),t.a=null;var r=2}else{if(!xf(t.b,e))return;n=e.s,Af(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Vc()-e.u;var i=t.u;$l(r=vh(),new Oh(r,n,e,i)),td(t)}else id(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Tf(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Ch(Mc(t.Ba,t,e),ld(t,t.u)),t.u++,0)))}(t,e)||2==r&&sd(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:hd(t,5);break;case 4:hd(t,10);break;case 3:hd(t,6);break;default:hd(t,2)}}function ld(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function hd(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Mc(t.Ya,t);n||(n=new Jh("//www.google.com/images/cleardot.gif"),Ac.location&&"http"==Ac.location.protocol||ef(n,"https"),af(n)),function(t,e){var n=new ph;if(Ac.Image){var r=new Image;r.onload=Fc(Nf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Fc(Nf,n,r,"TestLoadImage: error",!1,e),r.onabort=Fc(Nf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Fc(Nf,n,r,"TestLoadImage: timeout",!1,e),Ac.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Eh(2);t.v=0,t.f&&t.f.ra(e),fd(t),Xf(t)}function fd(t){t.v=0,t.I=-1,t.f&&(0==kf(t.b).length&&0==t.g.length||(t.b.c.length=0,Wc(t.g),t.g.length=0),t.f.qa())}function dd(t,e,n){var r=function(t){return t instanceof Jh?tf(t):new Jh(t,void 0)}(n);if(""!=r.c)e&&nf(r,e+"."+r.c),rf(r,r.h);else{var i=Ac.location;r=function(t,e,n,r){var i=new Jh(null,void 0);return t&&ef(i,t),e&&nf(i,e),n&&rf(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Jc(t.V,function(t,e){of(r,e,t)}),n=t.na,(e=t.A)&&n&&of(r,e,n),of(r,"VER",t.ha),nd(t,r),r}function pd(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Lf(t.Na)).F=t.C,e}function gd(){}function md(){if(al&&!(10<=Number(vl)))throw Error("Environmental error: no available transport.")}function yd(t,e){Wl.call(this),this.a=new Qf(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!$c(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$c(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new _d(this)}function vd(t){jh.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function bd(){Ph.call(this),this.status=1}function _d(t){this.a=t}(Tc=Lf.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ah),this.a.onreadystatechange=Mc(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void qf(this,s)}t=n||"";var i=new Qh(this.headers);r&&Kh(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Uf,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Ac.FormData&&t instanceof Ac.FormData,!(0<=Bc(Vf,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Wf(this),0<this.o&&((this.D=function(t){return al&&yl(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Mc(this.xa,this)):this.m=ah(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){qf(this,s)}},Tc.xa=function(){void 0!==Ic&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,$l(this,"timeout"),this.abort(8))},Tc.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,$l(this,"complete"),$l(this,"abort"),Hf(this))},Tc.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Hf(this,!0)),Lf.X.G.call(this)},Tc.za=function(){this.j||(this.A||this.l||this.g?zf(this):this.Ua())},Tc.Ua=function(){zf(this)},Tc.W=function(){try{return 2<$f(this)?this.a.status:-1}catch(sl){return-1}},Tc.$=function(){try{return this.a?this.a.responseText:""}catch(sl){return""}},Tc.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Df(e)}},Tc.ua=function(){return this.h},Tc.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Tc=Qf.prototype).ha=8,Tc.v=1,Tc.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Nh(this,this.c,t,void 0),r=this.l;if(this.O&&(r?nl(r=tl(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=rd(this,n,e),of(i=tf(this.B),"RID",t),of(i,"CVER",22),this.A&&of(i,"X-HTTP-Session-Id",this.A),nd(this,i),this.i&&r&&Gf(i,this.i,r),If(this.b,n),this.Ia&&of(i,"TYPE","init"),this.da?(of(i,"$req",e),of(i,"SID","null"),n.U=!0,Fh(n,i,null)):Fh(n,i,e),this.v=2}}else 3==this.v&&(t?ed(this,t):0==this.g.length||Sf(this.b)||ed(this))},Tc.Aa=function(){if(this.j=null,ad(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ch(Mc(this.Ta,this),t)}},Tc.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Eh(10),Zf(this),ad(this))},Tc.Sa=function(){null!=this.m&&(this.m=null,Zf(this),sd(this),Eh(19))},Tc.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Eh(2)):(this.c.info("Failed to ping google.com"),Eh(1))},(Tc=gd.prototype).ta=function(){},Tc.sa=function(){},Tc.ra=function(){},Tc.qa=function(){},Tc.Ja=function(){},md.prototype.a=function(t,e){return new yd(t,e)},Uc(yd,Wl),yd.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Eh(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=dd(t,null,t.fa),td(t)},yd.prototype.close=function(){Yf(this.a)},yd.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Jf(this.a,e)}else this.l?((e={}).__data__=Kl(t),Jf(this.a,e)):Jf(this.a,t)},yd.prototype.G=function(){this.a.f=null,delete this.f,Yf(this.a),delete this.a,yd.X.G.call(this)},Uc(vd,jh),Uc(bd,Ph),Uc(_d,gd),_d.prototype.ta=function(){$l(this.a,"a")},_d.prototype.sa=function(t){$l(this.a,new vd(t))},_d.prototype.ra=function(t){$l(this.a,new bd(t))},_d.prototype.qa=function(){$l(this.a,"b")},md.prototype.createWebChannel=md.prototype.a,yd.prototype.send=yd.prototype.h,yd.prototype.open=yd.prototype.g,yd.prototype.close=yd.prototype.close,Sh.NO_ERROR=0,Sh.TIMEOUT=8,Sh.HTTP_ERROR=6,Th.COMPLETE="complete",Ih.EventType=kh,kh.OPEN="a",kh.CLOSE="b",kh.ERROR="c",kh.MESSAGE="d",Wl.prototype.listen=Wl.prototype.va,Lf.prototype.listenOnce=Lf.prototype.wa,Lf.prototype.getLastError=Lf.prototype.Qa,Lf.prototype.getLastErrorCode=Lf.prototype.ua,Lf.prototype.getStatus=Lf.prototype.W,Lf.prototype.getResponseJson=Lf.prototype.Pa,Lf.prototype.getResponseText=Lf.prototype.$,Lf.prototype.send=Lf.prototype.ba;var wd=Sh,Ed=Th,Od=mh,Cd=Ih,Sd=Lf,Td=n("/6Yf"),xd=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},Id=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ad=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Ad.UNAUTHENTICATED=new Ad(null),Ad.l=new Ad("google-credentials-uid"),Ad._=new Ad("first-party-uid");var kd=new Ec.b("@firebase/firestore");function jd(){return kd.logLevel}function Pd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(kd.logLevel<=Ec.a.DEBUG){var r=e.map(Dd);kd.debug.apply(kd,Object(_c.g)(["Firestore (8.1.2): "+t],r))}}function Rd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(kd.logLevel<=Ec.a.ERROR){var r=e.map(Dd);kd.error.apply(kd,Object(_c.g)(["Firestore (8.1.2): "+t],r))}}function Nd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(kd.logLevel<=Ec.a.WARN){var r=e.map(Dd);kd.warn.apply(kd,Object(_c.g)(["Firestore (8.1.2): "+t],r))}}function Dd(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function Ld(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.2) INTERNAL ASSERTION FAILED: "+t;throw Rd(e),new Error(e)}function Md(t,e){t||Ld()}function Fd(t,e){return t}var Vd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ud=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(_c.c)(e,t),e}(Error),qd=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},Bd=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(Ad.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),zd=function(){function t(t){var e=this;this.P=null,this.currentUser=Ad.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then(function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.V!==e?(Pd("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Md("string"==typeof n.accessToken),new qd(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return Md(null===t||"string"==typeof t),new Ad(t)},t}(),Hd=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=Ad._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Wd=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new Hd(this.v,this.S))},t.prototype.A=function(t){t(Ad._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function $d(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Gd=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=$d(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Kd(t,e){return t<e?-1:t>e?1:0}function Qd(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Yd(t){return t+"\0"}var Zd=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ud(Vd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ud(Vd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ud(Vd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ud(Vd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?Kd(this.nanoseconds,t.nanoseconds):Kd(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Xd=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new Zd(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),Jd=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ld(),void 0===n?n=t.length-e:n>t.length-e&&Ld(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return this.L(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),tp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_c.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Ud(Vd.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.X=function(){return new e([])},e}(Jd),ep=/^[_a-zA-Z][_a-zA-Z0-9]*$/,np=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_c.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return ep.test(t)},e.prototype.J=function(){return this.H().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.Z(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Ud(Vd.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Ud(Vd.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ud(Vd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ud(Vd.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(Jd),rp=function(){function t(t){this.path=t}return t.st=function(e){return new t(tp.Y(e))},t.it=function(e){return new t(tp.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===tp.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return tp.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new tp(e.slice()))},t}();function ip(t){return null==t}function sp(t){return 0===t&&1/t==-1/0}function op(t){return"number"==typeof t&&Number.isInteger(t)&&!sp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ap=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ut=null};function up(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new ap(t,e,n,r,i,s,o)}function cp(t){var e=Fd(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.J()+t.op.toString()+ig(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.J()+t.dir}(t)}).join(","),ip(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=oy(e.startAt)),e.endAt&&(n+="|ub:",n+=oy(e.endAt)),e.ut=n}return e.ut}function lp(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!hy(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!tg(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uy(t.startAt,e.startAt)&&uy(t.endAt,e.endAt)}function hp(t){return rp.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var fp=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.at)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return Kd(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();fp.lt=new fp("");var dp,pp,gp=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Xd.min()),void 0===s&&(s=Xd.min()),void 0===o&&(o=fp.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),mp=function(t){this.count=t};function yp(t){switch(t){case Vd.OK:return Ld();case Vd.CANCELLED:case Vd.UNKNOWN:case Vd.DEADLINE_EXCEEDED:case Vd.RESOURCE_EXHAUSTED:case Vd.INTERNAL:case Vd.UNAVAILABLE:case Vd.UNAUTHENTICATED:return!1;case Vd.INVALID_ARGUMENT:case Vd.NOT_FOUND:case Vd.ALREADY_EXISTS:case Vd.PERMISSION_DENIED:case Vd.FAILED_PRECONDITION:case Vd.ABORTED:case Vd.OUT_OF_RANGE:case Vd.UNIMPLEMENTED:case Vd.DATA_LOSS:return!0;default:return Ld()}}function vp(t){if(void 0===t)return Rd("GRPC error has no .code"),Vd.UNKNOWN;switch(t){case dp.OK:return Vd.OK;case dp.CANCELLED:return Vd.CANCELLED;case dp.UNKNOWN:return Vd.UNKNOWN;case dp.DEADLINE_EXCEEDED:return Vd.DEADLINE_EXCEEDED;case dp.RESOURCE_EXHAUSTED:return Vd.RESOURCE_EXHAUSTED;case dp.INTERNAL:return Vd.INTERNAL;case dp.UNAVAILABLE:return Vd.UNAVAILABLE;case dp.UNAUTHENTICATED:return Vd.UNAUTHENTICATED;case dp.INVALID_ARGUMENT:return Vd.INVALID_ARGUMENT;case dp.NOT_FOUND:return Vd.NOT_FOUND;case dp.ALREADY_EXISTS:return Vd.ALREADY_EXISTS;case dp.PERMISSION_DENIED:return Vd.PERMISSION_DENIED;case dp.FAILED_PRECONDITION:return Vd.FAILED_PRECONDITION;case dp.ABORTED:return Vd.ABORTED;case dp.OUT_OF_RANGE:return Vd.OUT_OF_RANGE;case dp.UNIMPLEMENTED:return Vd.UNIMPLEMENTED;case dp.DATA_LOSS:return Vd.DATA_LOSS;default:return Ld()}}(pp=dp||(dp={}))[pp.OK=0]="OK",pp[pp.CANCELLED=1]="CANCELLED",pp[pp.UNKNOWN=2]="UNKNOWN",pp[pp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pp[pp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pp[pp.NOT_FOUND=5]="NOT_FOUND",pp[pp.ALREADY_EXISTS=6]="ALREADY_EXISTS",pp[pp.PERMISSION_DENIED=7]="PERMISSION_DENIED",pp[pp.UNAUTHENTICATED=16]="UNAUTHENTICATED",pp[pp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pp[pp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pp[pp.ABORTED=10]="ABORTED",pp[pp.OUT_OF_RANGE=11]="OUT_OF_RANGE",pp[pp.UNIMPLEMENTED=12]="UNIMPLEMENTED",pp[pp.INTERNAL=13]="INTERNAL",pp[pp.UNAVAILABLE=14]="UNAVAILABLE",pp[pp.DATA_LOSS=15]="DATA_LOSS";var bp=function(){function t(t,e){this.$=t,this.root=e||wp.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,wp.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,wp.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Pt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new _p(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new _p(this.root,t,this.$,!1)},t.prototype.vt=function(){return new _p(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new _p(this.root,t,this.$,!0)},t}(),_p=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),wp=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw Ld();if(this.right.Mt())throw Ld();var t=this.left.Qt();if(t!==this.right.Qt())throw Ld();return t+(this.Mt()?0:1)},t}();wp.EMPTY=null,wp.RED=!0,wp.It=!1,wp.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ld()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ld()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ld()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ld()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ld()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new wp(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var Ep=function(){function t(t){this.$=t,this.data=new bp(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt(function(e,n){return t(e),!1})},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new Op(this.data.yt())},t.prototype.Vt=function(t){return new Op(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(0!==this.$(i,s))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),Op=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),Cp=new bp(rp.$);function Sp(){return Cp}function Tp(){return Sp()}var xp=new bp(rp.$);function Ip(){return xp}var Ap=new bp(rp.$),kp=new Ep(rp.$);function jp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=kp,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Pp=new Ep(Kd);function Rp(){return Pp}var Np=function(){function t(t){this.$=t?function(e,n){return t(e,n)||rp.$(e.key,n.key)}:function(t,e){return rp.$(t.key,e.key)},this.Ht=Ip(),this.Jt=new bp(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),Dp=function(){function t(){this.Xt=new bp(rp.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):Ld():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt(function(e,n){t.push(n)}),t},t}(),Lp=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=s,this.ne=o,this.se=a}return t.ie=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Np.Yt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&Wm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Mp=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,Fp.he(e,n)),new t(Xd.min(),r,Rp(),Sp(),jp())},t}(),Fp=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(fp.lt,n,jp(),jp(),jp())},t}(),Vp=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},Up=function(t,e){this.targetId=t,this.Te=e},qp=function(t,e,n,r){void 0===n&&(n=fp.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Bp=function(){function t(){this.Ie=0,this.me=Wp(),this.Ae=fp.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=jp(),e=jp(),n=jp();return this.me.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ld()}}),new Fp(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=Wp()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),zp=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=Sp(),this.Me=Hp(),this.ke=new Ep(Kd)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof jm?this.Le(r,t.Ee):t.Ee instanceof Pm&&this.Be(r,t.key,t.Ee)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Be(s[i],t.key,t.Ee)},t.prototype.qe=function(t){var e=this;this.Ue(t,function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:Ld()}})},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach(function(t,r){n.Ke(r)&&e(r)})},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if(hp(i))if(0===n){var s=new rp(i.path);this.Be(e,s,new Pm(s,Xd.min()))}else Md(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach(function(r,i){var s=e.Ge(i);if(s){if(r.le&&hp(s.target)){var o=new rp(s.target.path);null!==e.Oe.get(o)||e.Je(i,o)||e.Be(i,o,new Pm(o,t))}r.ye&&(n.set(i,r.pe()),r.ve())}});var r=jp();this.Me.forEach(function(t,n){var i=!0;n.Wt(function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Mp(t,n,this.ke,this.Oe,r);return this.Oe=Sp(),this.Me=Hp(),this.ke=new Ep(Kd),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new Bp,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new Ep(Kd),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||Pd("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new Bp),this.xe.Xe(t).forEach(function(n){e.Be(t,n,null)})},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function Hp(){return new bp(rp.$)}function Wp(){return new bp(rp.$)}function $p(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gp(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Kp(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qp(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yp(t){var e=t.mapValue.fields.__previous_value__;return Qp(e)?Yp(e):e}function Zp(t){var e=og(t.mapValue.fields.__local_write_time__.timestampValue);return new Zd(e.seconds,e.nanos)}var Xp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jp(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qp(t)?4:10:Ld()}function tg(t,e){var n=Jp(t);if(n!==Jp(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zp(t).isEqual(Zp(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=og(t.timestampValue),r=og(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ug(t.bytesValue).isEqual(ug(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ag(t.geoPointValue.latitude)===ag(e.geoPointValue.latitude)&&ag(t.geoPointValue.longitude)===ag(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ag(t.integerValue)===ag(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ag(t.doubleValue),r=ag(e.doubleValue);return n===r?sp(n)===sp(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Qd(t.arrayValue.values||[],e.arrayValue.values||[],tg);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if($p(n)!==$p(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!tg(n[i],r[i])))return!1;return!0}(t,e);default:return Ld()}}function eg(t,e){return void 0!==(t.values||[]).find(function(t){return tg(t,e)})}function ng(t,e){var n=Jp(t),r=Jp(e);if(n!==r)return Kd(n,r);switch(n){case 0:return 0;case 1:return Kd(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ag(t.integerValue||t.doubleValue),r=ag(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return rg(t.timestampValue,e.timestampValue);case 4:return rg(Zp(t),Zp(e));case 5:return Kd(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ug(t),r=ug(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Kd(n[i],r[i]);if(0!==s)return s}return Kd(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Kd(ag(t.latitude),ag(e.latitude));return 0!==n?n:Kd(ag(t.longitude),ag(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=ng(n[i],r[i]);if(s)return s}return Kd(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Kd(r[o],s[o]);if(0!==a)return a;var u=ng(n[r[o]],i[s[o]]);if(0!==u)return u}return Kd(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Ld()}}function rg(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Kd(t,e);var n=og(t),r=og(e),i=Kd(n.seconds,r.seconds);return 0!==i?i:Kd(n.nanos,r.nanos)}function ig(t){return sg(t)}function sg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=og(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ug(t.bytesValue).toBase64():"referenceValue"in t?rp.it(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=sg(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+sg(t.fields[s])}return e+"}"}(t.mapValue):Ld();var e}function og(t){if(Md(!!t),"string"==typeof t){var e=0,n=Xp.exec(t);if(Md(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ag(t.seconds),nanos:ag(t.nanos)}}function ag(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ug(t){return"string"==typeof t?fp.fromBase64String(t):fp.fromUint8Array(t)}function cg(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function lg(t){return!!t&&"integerValue"in t}function hg(t){return!!t&&"arrayValue"in t}function fg(t){return!!t&&"nullValue"in t}function dg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pg(t){return!!t&&"mapValue"in t}var gg={asc:"ASCENDING",desc:"DESCENDING"},mg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yg=function(t,e){this.t=t,this.tn=e};function vg(t){return{integerValue:""+t}}function bg(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sp(e)?"-0":e}}function _g(t,e){return op(e)?vg(e):bg(t,e)}function wg(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Eg(t,e){return t.tn?e.toBase64():e.toUint8Array()}function Og(t,e){return wg(t,e.M())}function Cg(t){return Md(!!t),Xd.N(function(t){var e=og(t);return new Zd(e.seconds,e.nanos)}(t))}function Sg(t,e){return function(t){return new tp(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function Tg(t){var e=tp.Y(t);return Md(Qg(e)),e}function xg(t,e){return Sg(t.t,e.path)}function Ig(t,e){var n=Tg(e);if(n.get(1)!==t.t.projectId)throw new Ud(Vd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Ud(Vd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new rp(Pg(n))}function Ag(t,e){return Sg(t.t,e)}function kg(t){var e=Tg(t);return 4===e.length?tp.X():Pg(e)}function jg(t){return new tp(["projects",t.t.projectId,"databases",t.t.database]).J()}function Pg(t){return Md(t.length>4&&"documents"===t.get(4)),t.B(5)}function Rg(t,e,n){return{name:xg(t,e),fields:n.proto.mapValue.fields}}function Ng(t,e){var n;if(e instanceof bm)n={update:Rg(t,e.key,e.value)};else if(e instanceof Sm)n={delete:xg(t,e.key)};else if(e instanceof _m)n={update:Rg(t,e.key,e.data),updateMask:Kg(e.en)};else if(e instanceof Em)n={transform:{document:xg(t,e.key),fieldTransforms:e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof tm)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof em)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof rm)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof sm)return{fieldPath:e.field.J(),increment:n.nn};throw Ld()}(0,t)})}};else{if(!(e instanceof Tm))return Ld();n={verify:xg(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Og(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ld()}(t,e.rn)),n}function Dg(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?hm.updateTime(Cg(t.updateTime)):void 0!==t.exists?hm.exists(t.exists):hm.on()}(e.currentDocument):hm.on();if(e.update){var r=Ig(t,e.update.name),i=new xm({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new um((t.fieldPaths||[]).map(function(t){return np.nt(t)}))}(e.updateMask);return new _m(r,i,s,n)}return new bm(r,i,n)}if(e.delete){var o=Ig(t,e.delete);return new Sm(o,n)}if(e.transform){var a=Ig(t,e.transform.document),u=e.transform.fieldTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Md("REQUEST_TIME"===e.setToServerValue),n=new tm):"appendMissingElements"in e?n=new em(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new rm(e.removeAllFromArray.values||[]):"increment"in e?n=new sm(t,e.increment):Ld();var r=np.nt(e.fieldPath);return new cm(r,n)}(t,e)});return Md(!0===n.exists),new Em(a,u)}if(e.verify){var c=Ig(t,e.verify);return new Tm(c,n)}return Ld()}function Lg(t,e){return{documents:[Ag(t,e.path)]}}function Mg(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ag(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ag(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(dg(t.value))return{unaryFilter:{field:Hg(t.field),op:"IS_NAN"}};if(fg(t.value))return{unaryFilter:{field:Hg(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(dg(t.value))return{unaryFilter:{field:Hg(t.field),op:"IS_NOT_NAN"}};if(fg(t.value))return{unaryFilter:{field:Hg(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hg(t.field),op:zg(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Hg(t.field),direction:Bg(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.tn||ip(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Ug(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ug(e.endAt)),n}function Fg(t){var e=kg(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Md(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Vg(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new cy(Wg(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return ip(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=qg(n.startAt));var l=null;return n.endAt&&(l=qg(n.endAt)),Dm(e,i,a,o,u,"F",c,l)}function Vg(t){return t?void 0!==t.unaryFilter?[Gg(t)]:void 0!==t.fieldFilter?[$g(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Vg(t)}).reduce(function(t,e){return t.concat(e)}):Ld():[]}function Ug(t){return{before:t.before,values:t.position}}function qg(t){return new sy(t.values||[],!!t.before)}function Bg(t){return gg[t]}function zg(t){return mg[t]}function Hg(t){return{fieldPath:t.J()}}function Wg(t){return np.nt(t.fieldPath)}function $g(t){return Ym.create(Wg(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ld()}}(t.fieldFilter.op),t.fieldFilter.value)}function Gg(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Wg(t.unaryFilter.field);return Ym.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Wg(t.unaryFilter.field);return Ym.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Wg(t.unaryFilter.field);return Ym.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Wg(t.unaryFilter.field);return Ym.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ld()}}function Kg(t){var e=[];return t.fields.forEach(function(t){return e.push(t.J())}),{fieldPaths:e}}function Qg(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Yg=function(){this.cn=void 0};function Zg(t,e,n){return t instanceof tm?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof em?nm(t,e):t instanceof rm?im(t,e):function(t,e){var n=Jg(t,e),r=om(n)+om(t.nn);return lg(n)&&lg(t.nn)?vg(r):bg(t.serializer,r)}(t,e)}function Xg(t,e,n){return t instanceof em?nm(t,e):t instanceof rm?im(t,e):n}function Jg(t,e){return t instanceof sm?lg(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var tm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_c.c)(e,t),e}(Yg),em=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(_c.c)(e,t),e}(Yg);function nm(t,e){for(var n=am(e),r=function(t){n.some(function(e){return tg(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var rm=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(_c.c)(e,t),e}(Yg);function im(t,e){for(var n=am(e),r=function(t){n=n.filter(function(e){return!tg(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var sm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(_c.c)(e,t),e}(Yg);function om(t){return ag(t.integerValue||t.doubleValue)}function am(t){return hg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var um=function(){function t(t){this.fields=t,t.sort(np.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return Qd(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),cm=function(t,e){this.field=t,this.transform=e},lm=function(t,e){this.version=t,this.transformResults=e},hm=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function fm(t,e){return void 0!==t.updateTime?e instanceof jm&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof jm}var dm=function(){};function pm(t,e,n){return t instanceof bm?function(t,e,n){return new jm(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof _m?function(t,e,n){if(!fm(t.rn,e))return new Rm(t.key,n.version);var r=wm(t,e);return new jm(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Em?function(t,e,n){if(Md(null!=n.transformResults),!fm(t.rn,e))return new Rm(t.key,n.version);var r=Om(0,e),i=function(t,e,n){var r=[];Md(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof jm&&(a=e.field(s.field)),r.push(Xg(o,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),s=n.version,o=Cm(t,r.data(),i);return new jm(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Pm(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function gm(t,e,n,r){return t instanceof bm?function(t,e){if(!fm(t.rn,e))return e;var n=vm(e);return new jm(t.key,n,t.value,{an:!0})}(t,e):t instanceof _m?function(t,e){if(!fm(t.rn,e))return e;var n=vm(e),r=wm(t,e);return new jm(t.key,n,r,{an:!0})}(t,e):t instanceof Em?function(t,e,n,r){if(!fm(t.rn,e))return e;var i=Om(0,e),s=function(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,c=null;n instanceof jm&&(c=n.field(a.field)),null===c&&r instanceof jm&&(c=r.field(a.field)),i.push(Zg(u,c,e))}return i}(t.fieldTransforms,n,e,r),o=Cm(t,i.data(),s);return new jm(t.key,i.version,o,{an:!0})}(t,e,r,n):function(t,e){return fm(t.rn,e)?new Pm(t.key,Xd.min()):e}(t,e)}function mm(t,e){return t instanceof Em?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e instanceof jm?e.field(s.field):void 0,a=Jg(s.transform,o||null);null!=a&&(n=null==n?(new Im).set(s.field,a):n.set(s.field,a))}return n?n.hn():null}(t,e):null}function ym(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||Qd(t.fieldTransforms,t.fieldTransforms,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof em&&e instanceof em||t instanceof rm&&e instanceof rm?Qd(t.elements,e.elements,tg):t instanceof sm&&e instanceof sm?tg(t.nn,e.nn):t instanceof tm&&e instanceof tm}(t.transform,e.transform)}(t,e)}))}function vm(t){return t instanceof jm?t.version:Xd.min()}var bm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(_c.c)(e,t),e}(dm),_m=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.en=r,s.rn=i,s.type=1,s}return Object(_c.c)(e,t),e}(dm);function wm(t,e){return function(t,e){var n=new Im(e);return t.en.fields.forEach(function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.hn()}(t,e instanceof jm?e.data():xm.empty())}var Em=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=hm.exists(!0),r}return Object(_c.c)(e,t),e}(dm);function Om(t,e){return e}function Cm(t,e,n){for(var r=new Im(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.hn()}var Sm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(_c.c)(e,t),e}(dm),Tm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(_c.c)(e,t),e}(dm),xm=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!pg(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return tg(this.proto,t.proto)},t}(),Im=function(){function t(t){void 0===t&&(t=xm.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Jp(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(np.X(),this._n);return null!=t?new xm(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),s=pg(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var o=n.dn(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)}),r?{mapValue:{fields:s}}:null},t}();function Am(t){var e=[];return Gp(t.fields||{},function(t,n){var r=new np([t]);if(pg(n)){var i=Am(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new um(e)}var km=function(t,e){this.key=t,this.version=e},jm=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).wn=r,s.an=!!i.an,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(_c.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(km),Pm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(_c.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(km),Rm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_c.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(km),Nm=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.In=null,this.mn=null};function Dm(t,e,n,r,i,s,o,a){return new Nm(t,e,n,r,i,s,o,a)}function Lm(t){return new Nm(t)}function Mm(t){return!ip(t.limit)&&"F"===t.limitType}function Fm(t){return!ip(t.limit)&&"L"===t.limitType}function Vm(t){return t.Tn.length>0?t.Tn[0].field:null}function Um(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function qm(t){return null!==t.collectionGroup}function Bm(t){var e=Fd(t);if(null===e.In){e.In=[];var n=Um(e),r=Vm(e);if(null!==n&&null===r)n.tt()||e.In.push(new cy(n)),e.In.push(new cy(np.et(),"asc"));else{for(var i=!1,s=0,o=e.Tn;s<o.length;s++){var a=o[s];e.In.push(a),a.field.tt()&&(i=!0)}if(!i){var u=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new cy(np.et(),u))}}}return e.In}function zm(t){var e=Fd(t);if(!e.mn)if("F"===e.limitType)e.mn=up(e.path,e.collectionGroup,Bm(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Bm(e);r<i.length;r++){var s=i[r];n.push(new cy(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new sy(e.endAt.position,!e.endAt.before):null,a=e.startAt?new sy(e.startAt.position,!e.startAt.before):null;e.mn=up(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.mn}function Hm(t,e,n){return new Nm(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wm(t,e){return lp(zm(t),zm(e))&&t.limitType===e.limitType}function $m(t){return cp(zm(t))+"|lt:"+t.limitType}function Gm(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.J()+" "+e.op+" "+ig(e.value);var e}).join(", ")+"]"),ip(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+oy(t.startAt)),t.endAt&&(e+=", endAt: "+oy(t.endAt)),"Target("+e+")"}(zm(t))+"; limitType="+t.limitType+")"}function Km(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):rp.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ay(t.startAt,Bm(t),e)||t.endAt&&ay(t.endAt,Bm(t),e))}(t,e)}function Qm(t){return function(e,n){for(var r=!1,i=0,s=Bm(t);i<s.length;i++){var o=s[i],a=ly(o,e,n);if(0!==a)return a;r=r||o.field.tt()}return 0}}var Ym=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(_c.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new Zm(t,n,r):"array-contains"===n?new ey(t,r):"in"===n?new ny(t,r):"not-in"===n?new ry(t,r):"array-contains-any"===n?new iy(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new Xm(t,n):new Jm(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(ng(e,this.value)):null!==e&&Jp(this.value)===Jp(e)&&this.Pn(ng(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ld()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Zm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=rp.it(r.referenceValue),i}return Object(_c.c)(e,t),e.prototype.matches=function(t){var e=rp.$(t.key,this.key);return this.Pn(e)},e}(Ym),Xm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ty(0,n),r}return Object(_c.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ym),Jm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ty(0,n),r}return Object(_c.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ym);function ty(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return rp.it(t.referenceValue)})}var ey=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(_c.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return hg(e)&&eg(e.arrayValue,this.value)},e}(Ym),ny=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(_c.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&eg(this.value.arrayValue,e)},e}(Ym),ry=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(_c.c)(e,t),e.prototype.matches=function(t){if(eg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!eg(this.value.arrayValue,e)},e}(Ym),iy=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(_c.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!hg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return eg(e.value.arrayValue,t)})},e}(Ym),sy=function(t,e){this.position=t,this.before=e};function oy(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return ig(t)}).join(",")}function ay(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.tt()?rp.$(rp.it(o.referenceValue),n.key):ng(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function uy(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!tg(t.position[n],e.position[n]))return!1;return!0}var cy=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ly(t,e,n){var r=t.field.tt()?rp.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ng(r,i):Ld()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ld()}}function hy(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var fy=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=pm(s,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=gm(i,e,e,this.gn))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var u=a[o];u.key.isEqual(t)&&(e=gm(u,e,s,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},jp())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Qd(this.mutations,t.mutations,function(t,e){return ym(t,e)})&&Qd(this.baseMutations,t.baseMutations,function(t,e){return ym(t,e)})},t}(),dy=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){Md(e.mutations.length===r.length);for(var i=Ap,s=e.mutations,o=0;o<s.length;o++)i=i.Tt(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),py=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.Cn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Gp(this.Nn,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.W=function(){return Kp(this.Nn)},t}(),gy=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t(function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)},function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&Ld(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t(function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}})},t.prototype.Ln=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn(function(){return e(n)}):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.qn=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.qn(r)},t}(),my=function(){function t(){this.Qn=new py(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:Xd.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?gy.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),yy=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};function vy(t){return new yg(t,!0)}function by(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var _y="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wy=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach(function(t){return t()})},t}(),Ey=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next(function(r){return n.hs(t,e,r)})},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t})},t.prototype.ls=function(t,e,n){var r=Tp();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].pn(t,e);r=r.Tt(t,e)}),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next(function(e){return n.fs(t,e)})},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next(function(r){var i=n.ls(t,e,r),s=Sp();return i.forEach(function(t,e){e||(e=new Pm(t,Xd.min())),s=s.Tt(t,e)}),s})},t.prototype.ws=function(t,e,n){return function(t){return rp.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):qm(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new rp(e)).next(function(t){var e=Ip();return t instanceof jm&&(e=e.Tt(t.key,t)),e})},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,s=Ip();return this.os.As(t,i).next(function(o){return gy.forEach(o,function(o){var a=function(t,e){return new Nm(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.Is(t,a,n).next(function(t){t.forEach(function(t,e){s=s.Tt(t,e)})})}).next(function(){return s})})},t.prototype.Is=function(t,e,n){var r,i,s=this;return this.ss.ws(t,e,n).next(function(n){return r=n,s.rs.Rs(t,e)}).next(function(e){return s.Ps(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c),h=gm(u,l,l,s.gn);r=h instanceof jm?r.Tt(c,h):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Km(e,n)||(r=r.remove(t))}),r})},t.prototype.Ps=function(t,e,n){for(var r=jp(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof _m&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ss.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof jm&&(c=c.Tt(t,e))}),c})},t}(),Oy=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=jp(),i=jp(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Cy=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();Cy.Ds=-1;var Sy=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&Pd("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,function(){return e.$s=Date.now(),t()}),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),Ty=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(Object(Oc.g)())&&Rd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Pd("SimpleDb","Removing database:",t),Py(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=Object(Oc.g)(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return Object(_c.b)(this,void 0,void 0,function(){var e,n=this;return Object(_c.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Pd("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Iy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Ud(Vd.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Iy(t,n))},i.onupgradeneeded=function(t){Pd("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Ws.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Pd("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}})})},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(_c.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(_c.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(_c.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Xs(t)];case 2:return a.db=h.sent(),e=ky.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),gy.reject(t)}).Ln(),u={},o.catch(function(){}),[4,e.ei];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return Pd("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),xy=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return Py(this.ni.delete())},t}(),Iy=function(t){function e(e,n){var r=this;return(r=t.call(this,Vd.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(_c.c)(e,t),e}(Ud);function Ay(t){return"IndexedDbTransactionError"===t.name}var ky=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new yy,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new Iy(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=Ny(e.target.error);n.ci.reject(new Iy(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Iy(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(Pd("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new jy(e)},t}(),jy=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Pd("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Pd("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Py(n)},t.prototype.add=function(t){return Pd("SimpleDb","ADD",this.store.name,t,t),Py(this.store.add(t))},t.prototype.get=function(t){var e=this;return Py(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Pd("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Pd("SimpleDb","DELETE",this.store.name,t),Py(this.store.delete(t))},t.prototype.count=function(){return Pd("SimpleDb","COUNT",this.store.name),Py(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.hi=function(t,e){Pd("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,function(t,e,n){return n.delete()})},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new gy(function(n,r){e.onerror=function(t){var e=Ny(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.ai=function(t,e){var n=[];return new gy(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new xy(i),o=e(i.primaryKey,i.value,s);if(o instanceof gy){var a=o.catch(function(t){return s.done(),gy.reject(t)});n.push(a)}s.On?r():null===s.ri?i.continue():i.continue(s.ri)}else r()}}).next(function(){return gy.qn(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Py(t){return new gy(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Ny(t.target.error);n(e)}})}var Ry=!1;function Ny(t){var e=Ty.js(Object(Oc.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ud("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ry||(Ry=!0,setTimeout(function(){throw r},0)),r}}return t}function Dy(){return"undefined"!=typeof window?window:null}function Ly(){return"undefined"!=typeof document?document:null}var My=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new yy,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch(function(t){})}return t.Ii=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.mi=setTimeout(function(){return e.Ai()},t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new Ud(Vd.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri(function(){return null!==t.mi?(t.clearTimeout(),t.op().then(function(e){return t.Ti.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),Fy=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new Sy(this,"async_queue_retry"),this.Di=function(){var e=Ly();e&&Pd("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=Ly();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=Ly();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise(function(t){}):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri(function(){return e.gi.push(t),e.ki()})},t.prototype.ki=function(){return Object(_c.b)(this,void 0,void 0,function(){var t,e=this;return Object(_c.d)(this,function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!Ay(t=n.sent()))throw t;return Pd("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs(function(){return e.ki()}),n.label=5;case 5:return[2]}})})},t.prototype.Fi=function(t){var e=this,n=this.Pi.then(function(){return e.vi=!0,t().catch(function(t){throw e.pi=t,e.vi=!1,Rd("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.vi=!1,t})});return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=My.Ii(this,t,e,n,function(t){return r.$i(t)});return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&Ld()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(_c.b)(this,void 0,void 0,function(){var t;return Object(_c.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then(function(){e.Vi.sort(function(t,e){return t.wi-e.wi});for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()})},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function Vy(t,e){if(Rd("AsyncQueue",e+": "+t),Ay(t))return new Ud(Vd.UNAVAILABLE,e+": "+t);throw t}function Uy(t,e){var n=t[1],r=e[1],i=Kd(t[0],e[0]);return 0===i?Kd(n,r):i}var qy=function(){function t(t){this.Ki=t,this.buffer=new Ep(Uy),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Uy(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),By={zi:!1,Hi:0,Ji:0,Yi:0},zy=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();zy.nr=10,zy.sr=1e3,zy.ir=new zy(41943040,zy.nr,zy.sr),zy.rr=new zy(-1,0,0);var Hy=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;Pd("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,function(){return Object(_c.b)(e,void 0,void 0,function(){var e;return Object(_c.d)(this,function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return Ay(e=n.sent())?(Pd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,vb(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}})})})},t}(),Wy=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Tr=function(t,e){var n=this;if(0===e)return gy.resolve(Cy.Ds);var r=new qy(e);return this.dr.Ue(t,function(t){return r.Gi(t.sequenceNumber)}).next(function(){return n.dr.Ir(t,function(t){return r.Gi(t)})}).next(function(){return r.maxValue})},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(Pd("LruGarbageCollector","Garbage collection skipped; disabled"),gy.resolve(By)):this.Pr(t).next(function(r){return r<n.params.Xi?(Pd("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),By):n.gr(t,e)})},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.wr(t,this.params.Zi).next(function(e){return e>c.params.tr?(Pd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.tr+" from "+e),r=c.params.tr):r=e,s=Date.now(),c.Tr(t,r)}).next(function(r){return n=r,o=Date.now(),c.mr(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.Ar(t,n)}).next(function(t){return u=Date.now(),jd()<=Ec.a.DEBUG&&Pd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),gy.resolve({zi:!0,Hi:r,Ji:i,Yi:t})})},t}(),$y=function(){function t(){}return t.prototype.yr=function(t){this.Vr=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(Xd.min())?this.pr(t,e):this.Vr._s(t,r).next(function(s){var o=i.vr(e,s);return(Mm(e)||Fm(e))&&i.br(e.limitType,o,r,n)?i.pr(t,e):(jd()<=Ec.a.DEBUG&&Pd("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Gm(e)),i.Vr.ws(t,e,n).next(function(t){return o.forEach(function(e){t=t.Tt(e.key,e)}),t}))})},t.prototype.vr=function(t,e){var n=new Ep(Qm(t));return e.forEach(function(e,r){r instanceof jm&&Km(t,r)&&(n=n.add(r))}),n},t.prototype.br=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.pr=function(t,e){return jd()<=Ec.a.DEBUG&&Pd("QueryEngine","Using full collection scan to execute query:",Gm(e)),this.Vr.ws(t,e,Xd.min())},t}();function Gy(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Qy(e)),e=Ky(t.get(n),e);return Qy(e)}function Ky(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Qy(t){return t+"\x01\x01"}function Yy(t){var e=t.length;if(Md(e>=2),2===e)return Md("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),tp.X();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Ld(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Ld()}s=o+2}return new tp(r)}var Zy=function(t){this.Sr=t};function Xy(t,e){if(e.document)return function(t,e,n){var r=Ig(t,e.name),i=Cg(e.updateTime),s=new xm({mapValue:{fields:e.fields}});return new jm(r,i,s,{hasCommittedMutations:!!n})}(t.Sr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=rp.ct(e.noDocument.path),r=rv(e.noDocument.readTime);return new Pm(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=rp.ct(e.unknownDocument.path),s=rv(e.unknownDocument.version);return new Rm(i,s)}return Ld()}function Jy(t,e,n){var r=tv(n),i=e.key.path.q().H();if(e instanceof jm){var s=function(t,e){return{name:xg(t,e.key),fields:e.En().mapValue.fields,updateTime:wg(t,e.version.M())}}(t.Sr,e);return new kv(null,null,s,e.hasCommittedMutations,r,i)}if(e instanceof Pm){var o=e.key.path.H(),a=nv(e.version),u=e.hasCommittedMutations;return new kv(null,new Iv(o,a),null,u,r,i)}if(e instanceof Rm){var c=e.key.path.H(),l=nv(e.version);return new kv(new Av(c,l),null,null,!0,r,i)}return Ld()}function tv(t){var e=t.M();return[e.seconds,e.nanoseconds]}function ev(t){var e=new Zd(t[0],t[1]);return Xd.N(e)}function nv(t){var e=t.M();return new Ov(e.seconds,e.nanoseconds)}function rv(t){var e=new Zd(t.seconds,t.nanoseconds);return Xd.N(e)}function iv(t,e){var n=(e.baseMutations||[]).map(function(e){return Dg(t.Sr,e)}),r=e.mutations.map(function(e){return Dg(t.Sr,e)}),i=Zd.fromMillis(e.localWriteTimeMs);return new fy(e.batchId,i,n,r)}function sv(t){var e,n,r=rv(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?rv(t.lastLimboFreeSnapshotVersion):Xd.min();return void 0!==t.query.documents?(Md(1===(n=t.query).documents.length),e=zm(Lm(kg(n.documents[0])))):e=function(t){return zm(Fg(t))}(t.query),new gp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,fp.fromBase64String(t.resumeToken))}function ov(t,e){var n,r=nv(e.ft),i=nv(e.lastLimboFreeSnapshotVersion);n=hp(e.target)?Lg(t.Sr,e.target):Mg(t.Sr,e.target);var s=e.resumeToken.toBase64();return new Pv(e.targetId,cp(e.target),r,s,e.sequenceNumber,i,n)}function av(t){var e=Fg({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Hm(e,e.limit,"L"):e}var uv=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Dr=r,this.Cr={}}return t.Nr=function(e,n,r,i){return Md(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.Fr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hv(t)._i({index:Tv.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Or=function(t,e,n,r){var i=this,s=fv(t),o=hv(t);return o.add({}).next(function(a){Md("number"==typeof a);for(var u=new fy(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Ng(t.Sr,e)}),i=n.mutations.map(function(e){return Ng(t.Sr,e)});return new Tv(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new Ep(function(t,e){return Kd(t.J(),e.J())}),f=0,d=r;f<d.length;f++){var p=d[f],g=xv.key(i.userId,p.key.path,a);h=h.add(p.key.path.q()),l.push(o.put(c)),l.push(s.put(g,xv.PLACEHOLDER))}return h.forEach(function(e){l.push(i.os.Mr(t,e))}),t.es(function(){i.Cr[a]=u.keys()}),gy.qn(l).next(function(){return u})})},t.prototype.kr=function(t,e){var n=this;return hv(t).get(e).next(function(t){return t?(Md(t.userId===n.userId),iv(n.serializer,t)):null})},t.prototype.$r=function(t,e){var n=this;return this.Cr[e]?gy.resolve(this.Cr[e]):this.kr(t,e).next(function(t){if(t){var r=t.keys();return n.Cr[e]=r,r}return null})},t.prototype.Lr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return hv(t)._i({index:Tv.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Md(e.batchId>=r),s=iv(n.serializer,e)),i.done()}).next(function(){return s})},t.prototype.Br=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return hv(t)._i({index:Tv.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.qr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hv(t).ui(Tv.userMutationsIndex,n).next(function(t){return t.map(function(t){return iv(e.serializer,t)})})},t.prototype.us=function(t,e){var n=this,r=xv.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return fv(t)._i({range:i},function(r,i,o){var a=r[0],u=r[2],c=Yy(r[1]);if(a===n.userId&&e.path.isEqual(c))return hv(t).get(u).next(function(t){if(!t)throw Ld();Md(t.userId===n.userId),s.push(iv(n.serializer,t))});o.done()}).next(function(){return s})},t.prototype.ds=function(t,e){var n=this,r=new Ep(Kd),i=[];return e.forEach(function(e){var s=xv.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=fv(t)._i({range:o},function(t,i,s){var o=t[0],a=t[2],u=Yy(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),gy.qn(i).next(function(){return n.Ur(t,r)})},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,s=xv.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Ep(Kd);return fv(t)._i({range:o},function(t,e,s){var o=t[0],u=t[2],c=Yy(t[1]);o===n.userId&&r.j(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Ur(t,a)})},t.prototype.Ur=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(hv(t).get(e).next(function(t){if(null===t)throw Ld();Md(t.userId===n.userId),r.push(iv(n.serializer,t))}))}),gy.qn(i).next(function(){return r})},t.prototype.Qr=function(t,e){var n=this;return lv(t.Kr,this.userId,e).next(function(r){return t.es(function(){n.Wr(e.batchId)}),gy.forEach(r,function(e){return n.Dr.jr(t,e)})})},t.prototype.Wr=function(t){delete this.Cr[t]},t.prototype.Gr=function(t){var e=this;return this.Fr(t).next(function(n){if(!n)return gy.resolve();var r=IDBKeyRange.lowerBound(xv.prefixForUser(e.userId)),i=[];return fv(t)._i({range:r},function(t,n,r){if(t[0]===e.userId){var s=Yy(t[1]);i.push(s)}else r.done()}).next(function(){Md(0===i.length)})})},t.prototype.zr=function(t,e){return cv(t,this.userId,e)},t.prototype.Hr=function(t){var e=this;return dv(t).get(this.userId).next(function(t){return t||new Sv(e.userId,-1,"")})},t}();function cv(t,e,n){var r=xv.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return fv(t)._i({range:s,li:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function lv(t,e,n){var r=t.store(Tv.store),i=t.store(xv.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r._i({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){Md(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=xv.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return gy.qn(s).next(function(){return c})}function hv(t){return Jv.Ys(t,Tv.store)}function fv(t){return Jv.Ys(t,xv.store)}function dv(t){return Jv.Ys(t,Sv.store)}var pv=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return yv(t).put(vv(e),n)},t.prototype.Hn=function(t,e){var n=yv(t),r=vv(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Jr(t,r)})},t.prototype.Jn=function(t,e){var n=this;return yv(t).get(vv(e)).next(function(t){return n.Yr(t)})},t.prototype.Xr=function(t,e){var n=this;return yv(t).get(vv(e)).next(function(t){var e=n.Yr(t);return e?{zn:e,size:bv(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Tp();return this.Zr(t,e,function(t,e){var i=n.Yr(e);r=r.Tt(t,i)}).next(function(){return r})},t.prototype.eo=function(t,e){var n=this,r=Tp(),i=new bp(rp.$);return this.Zr(t,e,function(t,e){var s=n.Yr(e);s?(r=r.Tt(t,s),i=i.Tt(t,bv(e))):(r=r.Tt(t,null),i=i.Tt(t,0))}).next(function(){return{no:r,so:i}})},t.prototype.Zr=function(t,e,n){if(e.W())return gy.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),s=i.Ct();return yv(t)._i({range:r},function(t,e,r){for(var o=rp.ct(t);s&&rp.$(s,o)<0;)n(s,null),s=i.Ct();s&&s.isEqual(o)&&(n(s,e),s=i.Nt()?i.Ct():null),s?r.oi(s.path.H()):r.done()}).next(function(){for(;s;)n(s,null),s=i.Nt()?i.Ct():null})},t.prototype.ws=function(t,e,n){var r=this,i=Ip(),s=e.path.length+1,o={};if(n.isEqual(Xd.min())){var a=e.path.H();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.H(),c=tv(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=kv.collectionReadTimeIndex}return yv(t)._i(o,function(t,n,o){if(t.length===s){var a=Xy(r.serializer,n);e.path.j(a.key.path)?a instanceof jm&&Km(e,a)&&(i=i.Tt(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.io=function(t){return new gv(this,!!t&&t.ro)},t.prototype.oo=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return mv(t).get(jv.key).next(function(t){return Md(!!t),t})},t.prototype.Jr=function(t,e){return mv(t).put(jv.key,e)},t.prototype.Yr=function(t){if(t){var e=Xy(this.serializer,t);return e instanceof Pm&&e.version.isEqual(Xd.min())?null:e}return null},t}(),gv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).co=e,r.ro=n,r.uo=new py(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(_c.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new Ep(function(t,e){return Kd(t.J(),e.J())});return this.Qn.forEach(function(s,o){var a=e.uo.get(s);if(o.zn){var u=Jy(e.co.serializer,o.zn,e.Wn(s));i=i.add(s.path.q());var c=bv(u);r+=c-a,n.push(e.co.jn(t,s,u))}else if(r-=a,e.ro){var l=Jy(e.co.serializer,new Pm(s,Xd.min()),e.Wn(s));n.push(e.co.jn(t,s,l))}else n.push(e.co.Hn(t,s))}),i.forEach(function(r){n.push(e.co.os.Mr(t,r))}),n.push(this.co.updateMetadata(t,r)),gy.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.co.Xr(t,e).next(function(t){return null===t?(n.uo.set(e,0),null):(n.uo.set(e,t.size),t.zn)})},e.prototype.Xn=function(t,e){var n=this;return this.co.eo(t,e).next(function(t){var e=t.no;return t.so.forEach(function(t,e){n.uo.set(t,e)}),e})},e}(my);function mv(t){return Jv.Ys(t,jv.store)}function yv(t){return Jv.Ys(t,kv.store)}function vv(t){return t.path.H()}function bv(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ld();e=t.noDocument}return JSON.stringify(e).length}var _v=function(){function t(){this.ao=new wv}return t.prototype.Mr=function(t,e){return this.ao.add(e),gy.resolve()},t.prototype.As=function(t,e){return gy.resolve(this.ao.getEntries(e))},t}(),wv=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new Ep(tp.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ep(tp.$)).H()},t}(),Ev=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Md(n<r&&n>=0&&r<=11);var s=new ky("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Cv.store)}(t),function(t){t.createObjectStore(Sv.store,{keyPath:Sv.keyPath}),t.createObjectStore(Tv.store,{keyPath:Tv.keyPath,autoIncrement:!0}).createIndex(Tv.userMutationsIndex,Tv.userMutationsKeyPath,{unique:!0}),t.createObjectStore(xv.store)}(t),Lv(t),function(t){t.createObjectStore(kv.store)}(t));var o=gy.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Rv.store),t.deleteObjectStore(Pv.store),t.deleteObjectStore(Nv.store)}(t),Lv(t)),o=o.next(function(){return function(t){var e=t.store(Nv.store),n=new Nv(0,0,Xd.min().M(),0);return e.put(Nv.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Tv.store).ui().next(function(n){t.deleteObjectStore(Tv.store),t.createObjectStore(Tv.store,{keyPath:Tv.keyPath,autoIncrement:!0}).createIndex(Tv.userMutationsIndex,Tv.userMutationsKeyPath,{unique:!0});var r=e.store(Tv.store),i=n.map(function(t){return r.put(t)});return gy.qn(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Mv.store,{keyPath:Mv.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(jv.store)}(t),i.addDocumentGlobal(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ensureSequenceNumbers(s)})),n<8&&r>=8&&(o=o.next(function(){return i.createCollectionParentIndex(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(kv.store);e.createIndex(kv.readTimeIndex,kv.readTimeIndexPath,{unique:!1}),e.createIndex(kv.collectionReadTimeIndex,kv.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.rewriteCanonicalIds(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Fv.store,{keyPath:Fv.keyPath})}(t),function(t){t.createObjectStore(Vv.store,{keyPath:Vv.keyPath})}(t)})),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(kv.store)._i(function(t,n){e+=bv(n)}).next(function(){var n=new jv(e);return t.store(jv.store).put(jv.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Sv.store),r=t.store(Tv.store);return n.ui().next(function(n){return gy.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(Tv.userMutationsIndex,i).next(function(r){return gy.forEach(r,function(r){Md(r.userId===n.userId);var i=iv(e.serializer,r);return lv(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Rv.store),n=t.store(kv.store);return t.store(Nv.store).get(Nv.key).next(function(t){var r=[];return n._i(function(n,i){var s=new tp(n),o=function(t){return[0,Gy(t)]}(s);r.push(e.get(o).next(function(n){return n?gy.resolve():function(n){return e.put(new Rv(0,Gy(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return gy.qn(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Dv.store,{keyPath:Dv.keyPath});var n=e.store(Dv.store),r=new wv,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:Gy(i)})}};return e.store(kv.store)._i({li:!0},function(t,e){var n=new tp(t);return i(n.q())}).next(function(){return e.store(xv.store)._i({li:!0},function(t,e){var n=Yy(t[1]);return i(n.q())})})},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Pv.store);return n._i(function(t,r){var i=sv(r),s=ov(e.serializer,i);return n.put(s)})},t}(),Ov=function(t,e){this.seconds=t,this.nanoseconds=e},Cv=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Cv.store="owner",Cv.key="owner";var Sv=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Sv.store="mutationQueues",Sv.keyPath="userId";var Tv=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Tv.store="mutations",Tv.keyPath="batchId",Tv.userMutationsIndex="userMutationsIndex",Tv.userMutationsKeyPath=["userId","batchId"];var xv=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Gy(e)]},t.key=function(t,e,n){return[t,Gy(e),n]},t}();xv.store="documentMutations",xv.PLACEHOLDER=new xv;var Iv=function(t,e){this.path=t,this.readTime=e},Av=function(t,e){this.path=t,this.version=e},kv=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};kv.store="remoteDocuments",kv.readTimeIndex="readTimeIndex",kv.readTimeIndexPath="readTime",kv.collectionReadTimeIndex="collectionReadTimeIndex",kv.collectionReadTimeIndexPath=["parentPath","readTime"];var jv=function(t){this.byteSize=t};jv.store="remoteDocumentGlobal",jv.key="remoteDocumentGlobalKey";var Pv=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Pv.store="targets",Pv.keyPath="targetId",Pv.queryTargetsIndexName="queryTargetsIndex",Pv.queryTargetsKeyPath=["canonicalId","targetId"];var Rv=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Rv.store="targetDocuments",Rv.keyPath=["targetId","path"],Rv.documentTargetsIndex="documentTargetsIndex",Rv.documentTargetsKeyPath=["path","targetId"];var Nv=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Nv.key="targetGlobalKey",Nv.store="targetGlobal";var Dv=function(t,e){this.collectionId=t,this.parent=e};function Lv(t){t.createObjectStore(Rv.store,{keyPath:Rv.keyPath}).createIndex(Rv.documentTargetsIndex,Rv.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Pv.store,{keyPath:Pv.keyPath}).createIndex(Pv.queryTargetsIndexName,Pv.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Nv.store)}Dv.store="collectionParents",Dv.keyPath=["collectionId","parent"];var Mv=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Mv.store="clientMetadata",Mv.keyPath="clientId";var Fv=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Fv.store="bundles",Fv.keyPath="bundleId";var Vv=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Vv.store="namedQueries",Vv.keyPath="name";var Uv=Object(_c.g)(Object(_c.g)(Object(_c.g)(Object(_c.g)([Sv.store,Tv.store,xv.store,kv.store,Pv.store,Cv.store,Nv.store,Rv.store],[Mv.store]),[jv.store]),[Dv.store]),[Fv.store,Vv.store]),qv=function(){function t(t){this.serializer=t}return t.prototype.ho=function(t,e){return Bv(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:rv(e.createTime),version:e.version};var e})},t.prototype.lo=function(t,e){return Bv(t).put({bundleId:(n=e).id,createTime:nv(Cg(n.createTime)),version:n.version});var n},t.prototype._o=function(t,e){return zv(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:av(e.bundledQuery),readTime:rv(e.readTime)};var e})},t.prototype.fo=function(t,e){return zv(t).put(function(t){return{name:t.name,readTime:nv(Cg(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Bv(t){return Jv.Ys(t,Fv.store)}function zv(t){return Jv.Ys(t,Vv.store)}var Hv=function(){function t(){this.wo=new wv}return t.prototype.Mr=function(t,e){var n=this;if(!this.wo.has(e)){var r=e.K(),i=e.q();t.es(function(){n.wo.add(e)});var s={collectionId:r,parent:Gy(i)};return Wv(t).put(s)}return gy.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Yd(e),""],!1,!0);return Wv(t).ui(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Yy(s.parent))}return n})},t}();function Wv(t){return Jv.Ys(t,Dv.store)}var $v=function(){function t(t){this.Eo=t}return t.prototype.next=function(){return this.Eo+=2,this.Eo},t.To=function(){return new t(0)},t.Io=function(){return new t(-1)},t}(),Gv=function(){function t(t,e){this.Dr=t,this.serializer=e}return t.prototype.mo=function(t){var e=this;return this.Ao(t).next(function(n){var r=new $v(n.highestTargetId);return n.highestTargetId=r.next(),e.Ro(t,n).next(function(){return n.highestTargetId})})},t.prototype.Po=function(t){return this.Ao(t).next(function(t){return Xd.N(new Zd(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.yo=function(t){return this.Ao(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Vo=function(t,e,n){var r=this;return this.Ao(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ro(t,i)})},t.prototype.po=function(t,e){var n=this;return this.vo(t,e).next(function(){return n.Ao(t).next(function(r){return r.targetCount+=1,n.bo(e,r),n.Ro(t,r)})})},t.prototype.So=function(t,e){return this.vo(t,e)},t.prototype.Do=function(t,e){var n=this;return this.Co(t,e.targetId).next(function(){return Kv(t).delete(e.targetId)}).next(function(){return n.Ao(t)}).next(function(e){return Md(e.targetCount>0),e.targetCount-=1,n.Ro(t,e)})},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return Kv(t)._i(function(o,a){var u=sv(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.Do(t,u)))}).next(function(){return gy.qn(s)}).next(function(){return i})},t.prototype.Ue=function(t,e){return Kv(t)._i(function(t,n){var r=sv(n);e(r)})},t.prototype.Ao=function(t){return Qv(t).get(Nv.key).next(function(t){return Md(null!==t),t})},t.prototype.Ro=function(t,e){return Qv(t).put(Nv.key,e)},t.prototype.vo=function(t,e){return Kv(t).put(ov(this.serializer,e))},t.prototype.bo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.No=function(t){return this.Ao(t).next(function(t){return t.targetCount})},t.prototype.xo=function(t,e){var n=cp(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Kv(t)._i({range:r,index:Pv.queryTargetsIndexName},function(t,n,r){var s=sv(n);lp(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.Fo=function(t,e,n){var r=this,i=[],s=Yv(t);return e.forEach(function(e){var o=Gy(e.path);i.push(s.put(new Rv(n,o))),i.push(r.Dr.Oo(t,n,e))}),gy.qn(i)},t.prototype.Mo=function(t,e,n){var r=this,i=Yv(t);return gy.forEach(e,function(e){var s=Gy(e.path);return gy.qn([i.delete([n,s]),r.Dr.ko(t,n,e)])})},t.prototype.Co=function(t,e){var n=Yv(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.$o=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Yv(t),i=jp();return r._i({range:n,li:!0},function(t,e,n){var r=Yy(t[1]),s=new rp(r);i=i.add(s)}).next(function(){return i})},t.prototype.zr=function(t,e){var n=Gy(e.path),r=IDBKeyRange.bound([n],[Yd(n)],!1,!0),i=0;return Yv(t)._i({index:Rv.documentTargetsIndex,li:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Ze=function(t,e){return Kv(t).get(e).next(function(t){return t?sv(t):null})},t}();function Kv(t){return Jv.Ys(t,Pv.store)}function Qv(t){return Jv.Ys(t,Nv.store)}function Yv(t){return Jv.Ys(t,Rv.store)}var Zv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Xv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kr=e,r.Lo=n,r}return Object(_c.c)(e,t),e}(wy),Jv=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=s,this.window=o,this.document=a,this.Bo=c,this.qo=l,this.Uo=null,this.Qo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ko=null,this.inForeground=!1,this.Wo=null,this.jo=null,this.Go=Number.NEGATIVE_INFINITY,this.zo=function(t){return Promise.resolve()},!t.Gs())throw new Ud(Vd.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Dr=new nb(this,i),this.Ho=n+"main",this.serializer=new Zy(u),this.Jo=new Ty(this.Ho,11,new Ev(this.serializer)),this.Yo=new Gv(this.Dr,this.serializer),this.os=new Hv,this.ss=function(t,e){return new pv(t,e)}(this.serializer,this.os),this.Xo=new qv(this.serializer),this.window&&this.window.localStorage?this.Zo=this.window.localStorage:(this.Zo=null,!1===l&&Rd("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof Xv)return Ty.Ys(t.Kr,e);throw Ld()},t.prototype.start=function(){var t=this;return this.tc().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ud(Vd.FAILED_PRECONDITION,Zv);return t.ec(),t.nc(),t.sc(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Yo.yo(e)})}).then(function(e){t.Uo=new Cy(e,t.Bo)}).then(function(){t.Qo=!0}).catch(function(e){return t.Jo&&t.Jo.close(),Promise.reject(e)})},t.prototype.ic=function(t){var e=this;return this.zo=function(n){return Object(_c.b)(e,void 0,void 0,function(){return Object(_c.d)(this,function(e){return this.lr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.rc=function(t){var e=this;this.Jo.ti(function(n){return Object(_c.b)(e,void 0,void 0,function(){return Object(_c.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.oc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri(function(){return Object(_c.b)(e,void 0,void 0,function(){return Object(_c.d)(this,function(t){switch(t.label){case 0:return this.lr?[4,this.tc()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.tc=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return eb(e).put(new Mv(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.cc(e).next(function(e){e||(t.isPrimary=!1,t.Cs.Mi(function(){return t.zo(!1)}))})}).next(function(){return t.uc(e)}).next(function(n){return t.isPrimary&&!n?t.ac(e).next(function(){return!1}):!!n&&t.hc(e).next(function(){return!0})})}).catch(function(e){if(Ay(e))return Pd("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Pd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Cs.Mi(function(){return t.zo(e)}),t.isPrimary=e})},t.prototype.cc=function(t){var e=this;return tb(t).get(Cv.key).next(function(t){return gy.resolve(e.lc(t))})},t.prototype._c=function(t){return eb(t).delete(this.clientId)},t.prototype.fc=function(){return Object(_c.b)(this,void 0,void 0,function(){var e,n,r,i=this;return Object(_c.d)(this,function(s){switch(s.label){case 0:return!this.isPrimary||this.dc(this.Go,18e5)?[3,2]:(this.Go=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var n=t.Ys(e,Mv.store);return n.ui().next(function(t){var e=i.wc(t,18e5),r=t.filter(function(t){return-1===e.indexOf(t)});return gy.forEach(r,function(t){return n.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=s.sent(),this.Zo)for(n=0,r=e;n<r.length;n++)this.Zo.removeItem(this.Ec(r[n].clientId));s.label=2;case 2:return[2]}})})},t.prototype.sc=function(){var t=this;this.jo=this.Cs.Us("client_metadata_refresh",4e3,function(){return t.tc().then(function(){return t.fc()}).then(function(){return t.sc()})})},t.prototype.lc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.uc=function(t){var e=this;return this.qo?gy.resolve(!0):tb(t).get(Cv.key).next(function(n){if(null!==n&&e.dc(n.leaseTimestampMs,5e3)&&!e.Tc(n.ownerId)){if(e.lc(n)&&e.networkEnabled)return!0;if(!e.lc(n)){if(!n.allowTabSynchronization)throw new Ud(Vd.FAILED_PRECONDITION,Zv);return!1}}return!(!e.networkEnabled||!e.inForeground)||eb(t).ui().next(function(t){return void 0===e.wc(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Pd("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Ic=function(){return Object(_c.b)(this,void 0,void 0,function(){var t=this;return Object(_c.d)(this,function(e){switch(e.label){case 0:return this.Qo=!1,this.mc(),this.jo&&(this.jo.cancel(),this.jo=null),this.Ac(),this.Rc(),[4,this.Jo.runTransaction("shutdown","readwrite",[Cv.store,Mv.store],function(e){var n=new Xv(e,Cy.Ds);return t.ac(n).next(function(){return t._c(n)})})];case 1:return e.sent(),this.Jo.close(),this.Pc(),[2]}})})},t.prototype.wc=function(t,e){var n=this;return t.filter(function(t){return n.dc(t.updateTimeMs,e)&&!n.Tc(t.clientId)})},t.prototype.gc=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return eb(e).ui().next(function(e){return t.wc(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.yc=function(t){return uv.Nr(t,this.serializer,this.os,this.Dr)},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.bc=function(){return this.os},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Pd("IndexedDbPersistence","Starting transaction:",t),this.Jo.runTransaction(t,"readonly"===e?"readonly":"readwrite",Uv,function(s){return r=new Xv(s,i.Uo?i.Uo.next():Cy.Ds),"readwrite-primary"===e?i.cc(r).next(function(t){return!!t||i.uc(r)}).next(function(e){if(!e)throw Rd("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Cs.Mi(function(){return i.zo(!1)}),new Ud(Vd.FAILED_PRECONDITION,_y);return n(r)}).next(function(t){return i.hc(r).next(function(){return t})}):i.Dc(r).next(function(){return n(r)})}).then(function(t){return r.ns(),t})},t.prototype.Dc=function(t){var e=this;return tb(t).get(Cv.key).next(function(t){if(null!==t&&e.dc(t.leaseTimestampMs,5e3)&&!e.Tc(t.ownerId)&&!e.lc(t)&&!(e.qo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ud(Vd.FAILED_PRECONDITION,Zv)})},t.prototype.hc=function(t){var e=new Cv(this.clientId,this.allowTabSynchronization,Date.now());return tb(t).put(Cv.key,e)},t.Gs=function(){return Ty.Gs()},t.prototype.ac=function(t){var e=this,n=tb(t);return n.get(Cv.key).next(function(t){return e.lc(t)?(Pd("IndexedDbPersistence","Releasing primary lease."),n.delete(Cv.key)):gy.resolve()})},t.prototype.dc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Rd("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.ec=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Wo=function(){t.Cs.Ri(function(){return t.inForeground="visible"===t.document.visibilityState,t.tc()})},this.document.addEventListener("visibilitychange",this.Wo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Ac=function(){this.Wo&&(this.document.removeEventListener("visibilitychange",this.Wo),this.Wo=null)},t.prototype.nc=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ko=function(){e.mc(),e.Cs.Ri(function(){return e.Ic()})},this.window.addEventListener("unload",this.Ko))},t.prototype.Rc=function(){this.Ko&&(this.window.removeEventListener("unload",this.Ko),this.Ko=null)},t.prototype.Tc=function(t){var e;try{var n=null!==(null===(e=this.Zo)||void 0===e?void 0:e.getItem(this.Ec(t)));return Pd("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Rd("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.mc=function(){if(this.Zo)try{this.Zo.setItem(this.Ec(this.clientId),String(Date.now()))}catch(t){Rd("Failed to set zombie client id.",t)}},t.prototype.Pc=function(){if(this.Zo)try{this.Zo.removeItem(this.Ec(this.clientId))}catch(t){}},t.prototype.Ec=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function tb(t){return Jv.Ys(t,Cv.store)}function eb(t){return Jv.Ys(t,Mv.store)}var nb=function(){function t(t,e){this.db=t,this.cr=new Wy(this,e)}return t.prototype.Er=function(t){var e=this.Cc(t);return this.db.Vc().No(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Cc=function(t){var e=0;return this.Ir(t,function(t){e++}).next(function(){return e})},t.prototype.Ue=function(t,e){return this.db.Vc().Ue(t,e)},t.prototype.Ir=function(t,e){return this.Nc(t,function(t,n){return e(n)})},t.prototype.Oo=function(t,e,n){return rb(t,n)},t.prototype.ko=function(t,e,n){return rb(t,n)},t.prototype.mr=function(t,e,n){return this.db.Vc().mr(t,e,n)},t.prototype.jr=function(t,e){return rb(t,e)},t.prototype.xc=function(t,e){return function(t,e){var n=!1;return dv(t).fi(function(r){return cv(t,r,e).next(function(t){return t&&(n=!0),gy.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.vc().io(),i=[],s=0;return this.Nc(t,function(o,a){if(a<=e){var u=n.xc(t,o).next(function(e){if(!e)return s++,r.Jn(t,o).next(function(){return r.Hn(o),Yv(t).delete([0,Gy(o.path)])})});i.push(u)}}).next(function(){return gy.qn(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Lo);return this.db.Vc().So(t,n)},t.prototype.Fc=function(t,e){return rb(t,e)},t.prototype.Nc=function(t,e){var n,r=Yv(t),i=Cy.Ds;return r._i({index:Rv.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Cy.Ds&&e(new rp(Yy(n)),i),i=o,n=s):i=Cy.Ds}).next(function(){i!==Cy.Ds&&e(new rp(Yy(n)),i)})},t.prototype.Pr=function(t){return this.db.vc().oo(t)},t}();function rb(t,e){return Yv(t).put(function(t,e){return new Rv(0,Gy(t.path),e)}(e,t.Lo))}function ib(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var sb=function(){function t(t,e,n,r){this.persistence=t,this.Oc=e,this.serializer=r,this.Mc=new bp(Kd),this.kc=new py(function(t){return cp(t)},lp),this.$c=Xd.min(),this.rs=t.yc(n),this.Lc=t.vc(),this.Yo=t.Vc(),this.Bc=new Ey(this.Lc,this.rs,this.persistence.bc()),this.Xo=t.Sc(),this.Oc.yr(this.Bc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Rr(n,e.Mc)})},t}();function ob(t,e,n,r){return new sb(t,e,n,r)}function ab(t,e){return Object(_c.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(_c.d)(this,function(o){switch(o.label){case 0:return n=Fd(t),r=n.rs,i=n.Bc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n.rs.qr(t).next(function(o){return s=o,r=n.persistence.yc(e),i=new Ey(n.Lc,r,n.persistence.bc()),r.qr(t)}).next(function(e){for(var n=[],r=[],o=jp(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i._s(t,o).next(function(t){return{qc:t,Uc:n,Qc:r}})})})];case 1:return s=o.sent(),[2,(n.rs=r,n.Bc=i,n.Oc.yr(n.Bc),s)]}})})}function ub(t,e){var n=Fd(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Lc.io({ro:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=gy.resolve();return s.forEach(function(t){o=o.next(function(){return r.Jn(e,t)}).next(function(e){var s=e,o=n.Sn.get(t);Md(null!==o),(!s||s.version.F(o)<0)&&(s=i.yn(t,s,n))&&r.jn(s,n.bn)})}),o.next(function(){return t.rs.Qr(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.rs.Gr(t)}).next(function(){return n.Bc._s(t,r)})})}function cb(t){var e=Fd(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Yo.Po(t)})}function lb(t,e){var n=Fd(t),r=e.ft,i=n.Mc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Lc.io({ro:!0});i=n.Mc;var o=[];e.re.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.Yo.Mo(t,e.de,s).next(function(){return n.Yo.Fo(t,e._e,s)}));var u=e.resumeToken;if(u.ht()>0){var c=a.wt(u,r).dt(t.Lo);i=i.Tt(s,c),function(t,e,n){return Md(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(a,c,e)&&o.push(n.Yo.So(t,c))}}});var a=Sp();if(e.ce.forEach(function(r,i){e.ue.has(r)&&o.push(n.persistence.Dr.Fc(t,r))}),o.push(function(t,e,n,r,i){var s=jp();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var i=Sp();return n.forEach(function(n,s){var o=t.get(n),a=r;s instanceof Pm&&s.version.isEqual(Xd.min())?(e.Hn(n,a),i=i.Tt(n,s)):null==o||s.version.F(o.version)>0||0===s.version.F(o.version)&&o.hasPendingWrites?(e.jn(s,a),i=i.Tt(n,s)):Pd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),i})}(t,s,e.ce,r).next(function(t){a=t})),!r.isEqual(Xd.min())){var u=n.Yo.Po(t).next(function(e){return n.Yo.Vo(t,t.Lo,r)});o.push(u)}return gy.qn(o).next(function(){return s.apply(t)}).next(function(){return n.Bc.fs(t,a)})}).then(function(t){return n.Mc=i,t})}function hb(t,e){var n=Fd(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.rs.Lr(t,e)})}function fb(t,e){var n=Fd(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Yo.xo(t,e).next(function(i){return i?gy.resolve(r=i):n.Yo.mo(t).next(function(i){return r=new gp(e,i,0,t.Lo),n.Yo.po(t,r).next(function(){return r})})})}).then(function(t){var r=n.Mc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Mc=n.Mc.Tt(t.targetId,t),n.kc.set(e,t.targetId)),t})}function db(t,e,n){return Object(_c.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(_c.d)(this,function(a){switch(a.label){case 0:r=Fd(t),i=r.Mc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.Dr.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Ay(o=a.sent()))throw o;return Pd("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Mc=r.Mc.remove(e),r.kc.delete(i.target),[2]}})})}function pb(t,e,n){var r=Fd(t),i=Xd.min(),s=jp();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Fd(t),i=r.kc.get(n);return void 0!==i?gy.resolve(r.Mc.get(i)):r.Yo.xo(e,n)}(r,t,zm(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Yo.$o(t,e.targetId).next(function(t){s=t})}).next(function(){return r.Oc.ws(t,e,n?i:Xd.min(),n?s:jp())}).next(function(t){return{documents:t,Kc:s}})})}function gb(t,e){var n=Fd(t),r=Fd(n.Yo),i=n.Mc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Ze(t,e).next(function(t){return t?t.target:null})})}function mb(t){var e=Fd(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Fd(t),i=Sp(),s=tv(n),o=yv(e),a=IDBKeyRange.lowerBound(s,!0);return o._i({index:kv.readTimeIndex,range:a},function(t,e){var n=Xy(r.serializer,e);i=i.Tt(n.key,n),s=e.readTime}).next(function(){return{Wc:i,readTime:ev(s)}})}(e.Lc,t,e.$c)}).then(function(t){var n=t.Wc;return e.$c=t.readTime,n})}function yb(t){return Object(_c.b)(this,void 0,void 0,function(){var e;return Object(_c.d)(this,function(n){return[2,(e=Fd(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=yv(t),n=Xd.min();return e._i({index:kv.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=ev(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$c=t})]})})}function vb(t){return Object(_c.b)(this,void 0,void 0,function(){return Object(_c.d)(this,function(e){if(t.code!==Vd.FAILED_PRECONDITION||t.message!==_y)throw t;return Pd("LocalStore","Unexpectedly lost primary lease"),[2]})})}var bb=function(){function t(t,e,n,r,i,s){this.Cs=t,this.jc=n,this.Gc=r,this.zc=i,this.listener=s,this.state=0,this.Hc=0,this.Jc=null,this.stream=null,this.Si=new Sy(t,e)}return t.prototype.Yc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Xc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Zc()},t.prototype.stop=function(){return Object(_c.b)(this,void 0,void 0,function(){return Object(_c.d)(this,function(t){switch(t.label){case 0:return this.Yc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.tu=function(){this.state=0,this.Si.reset()},t.prototype.eu=function(){var t=this;this.Xc()&&null===this.Jc&&(this.Jc=this.Cs.Us(this.jc,6e4,function(){return t.nu()}))},t.prototype.su=function(t){this.iu(),this.stream.send(t)},t.prototype.nu=function(){return Object(_c.b)(this,void 0,void 0,function(){return Object(_c.d)(this,function(t){return this.Xc()?[2,this.close(0)]:[2]})})},t.prototype.iu=function(){this.Jc&&(this.Jc.cancel(),this.Jc=null)},t.prototype.close=function(t,e){return Object(_c.b)(this,void 0,void 0,function(){return Object(_c.d)(this,function(n){switch(n.label){case 0:return this.iu(),this.Si.cancel(),this.Hc++,3!==t?this.Si.reset():e&&e.code===Vd.RESOURCE_EXHAUSTED?(Rd(e.toString()),Rd("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===Vd.UNAUTHENTICATED&&this.zc.m(),null!==this.stream&&(this.ru(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ou(e)];case 1:return n.sent(),[2]}})})},t.prototype.ru=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.cu(this.Hc),n=this.Hc;this.zc.getToken().then(function(e){t.Hc===n&&t.uu(e)},function(n){e(function(){var e=new Ud(Vd.UNKNOWN,"Fetching auth token failed: "+n.message);return t.au(e)})})},t.prototype.uu=function(t){var e=this,n=this.cu(this.Hc);this.stream=this.hu(t),this.stream.lu(function(){n(function(){return e.state=2,e.listener.lu()})}),this.stream.ou(function(t){n(function(){return e.au(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Zc=function(){var t=this;this.state=4,this.Si.Bs(function(){return Object(_c.b)(t,void 0,void 0,function(){return Object(_c.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.au=function(t){return Pd("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.cu=function(t){var e=this;return function(n){e.Cs.Ri(function(){return e.Hc===t?n():(Pd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),_b=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return Object(_c.c)(e,t),e.prototype.hu=function(t){return this.Gc._u("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ld()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.tn?(Md(void 0===e||"string"==typeof e),fp.fromBase64String(e||"")):(Md(void 0===e||e instanceof Uint8Array),fp.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?Vd.UNKNOWN:vp(t.code);return new Ud(e,t.message||"")}(o);n=new qp(r,i,s,a||null)}else if("documentChange"in e){var u=e.documentChange,c=Ig(t,u.document.name),l=Cg(u.document.updateTime),h=new xm({mapValue:{fields:u.document.fields}}),f=new jm(c,l,h,{});n=new Vp(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=Ig(t,d.document),g=d.readTime?Cg(d.readTime):Xd.min(),m=new Pm(p,g);n=new Vp([],d.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){var y=e.documentRemove,v=Ig(t,y.document);n=new Vp([],y.removedTargetIds||[],v,null)}else{if(!("filter"in e))return Ld();var b=e.filter,_=new mp(b.count||0);n=new Up(b.targetId,_)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Xd.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Xd.min():e.readTime?Cg(e.readTime):Xd.min()}(t);return this.listener.fu(e,n)},e.prototype.du=function(t){var e={};e.database=jg(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=hp(r)?{documents:Lg(t,r)}:{query:Mg(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=Eg(t,e.resumeToken):e.ft.F(Xd.min())>0&&(n.readTime=wg(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ld()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.su(e)},e.prototype.wu=function(t){var e={};e.database=jg(this.serializer),e.removeTarget=t,this.su(e)},e}(bb),wb=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o.Eu=!1,o}return Object(_c.c)(e,t),Object.defineProperty(e.prototype,"Tu",{get:function(){return this.Eu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Eu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ru=function(){this.Eu&&this.Iu([])},e.prototype.hu=function(t){return this.Gc._u("Write",t)},e.prototype.onMessage=function(t){if(Md(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Eu){this.Si.reset();var e=function(t,e){return t&&t.length>0?(Md(void 0!==e),t.map(function(t){return function(t,e){var n=Cg(t.updateTime?t.updateTime:e);n.isEqual(Xd.min())&&(n=Cg(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new lm(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Cg(t.commitTime);return this.listener.mu(n,e)}return Md(!t.writeResults||0===t.writeResults.length),this.Eu=!0,this.listener.Au()},e.prototype.Ru=function(){var t={};t.database=jg(this.serializer),this.su(t)},e.prototype.Iu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Ng(e.serializer,t)})};this.su(n)},e}(bb),Eb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Gc=n,i.serializer=r,i.Pu=!1,i}return Object(_c.c)(e,t),e.prototype.gu=function(){if(this.Pu)throw new Ud(Vd.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.yu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then(function(i){return r.Gc.yu(t,e,n,i)}).catch(function(t){throw t.code===Vd.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.Vu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then(function(i){return r.Gc.Vu(t,e,n,i)}).catch(function(t){throw t.code===Vd.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.terminate=function(){this.Pu=!1},e}(function(){}),Ob=function(){function t(t,e){this.di=t,this.pu=e,this.state="Unknown",this.vu=0,this.bu=null,this.Su=!0}return t.prototype.Du=function(){var t=this;0===this.vu&&(this.Cu("Unknown"),this.bu=this.di.Us("online_state_timeout",1e4,function(){return t.bu=null,t.Nu("Backend didn't respond within 10 seconds."),t.Cu("Offline"),Promise.resolve()}))},t.prototype.xu=function(t){"Online"===this.state?this.Cu("Unknown"):(this.vu++,this.vu>=1&&(this.Fu(),this.Nu("Connection failed 1 times. Most recent error: "+t.toString()),this.Cu("Offline")))},t.prototype.set=function(t){this.Fu(),this.vu=0,"Online"===t&&(this.Su=!1),this.Cu(t)},t.prototype.Cu=function(t){t!==this.state&&(this.state=t,this.pu(t))},t.prototype.Nu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Su?(Rd(e),this.Su=!1):Pd("OnlineStateTracker",e)},t.prototype.Fu=function(){null!==this.bu&&(this.bu.cancel(),this.bu=null)},t}(),Cb=function(t,e,n,r,i){var s=this;this.Ou=t,this.Mu=e,this.di=n,this.ku={},this.$u=[],this.Lu=new Map,this.Bu=new Set,this.qu=[],this.Uu=i,this.Uu.Qu(function(t){n.Ri(function(){return Object(_c.b)(s,void 0,void 0,function(){return Object(_c.d)(this,function(t){switch(t.label){case 0:return Rb(this)?(Pd("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(_c.b)(this,void 0,void 0,function(){var e;return Object(_c.d)(this,function(n){switch(n.label){case 0:return(e=Fd(t)).Bu.add(4),[4,Tb(e)];case 1:return n.sent(),e.Ku.set("Unknown"),e.Bu.delete(4),[4,Sb(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Ku=new Ob(n,r)};function Sb(t){return Object(_c.b)(this,void 0,void 0,function(){var e,n;return Object(_c.d)(this,function(r){switch(r.label){case 0:if(!Rb(t))return[3,4];e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Tb(t){return Object(_c.b)(this,void 0,void 0,function(){var e,n;return Object(_c.d)(this,function(r){switch(r.label){case 0:e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function xb(t,e){var n=Fd(t);n.Lu.has(e.targetId)||(n.Lu.set(e.targetId,e),Pb(n)?jb(n):Kb(n).Xc()&&Ab(n,e))}function Ib(t,e){var n=Fd(t),r=Kb(n);n.Lu.delete(e),r.Xc()&&kb(n,e),0===n.Lu.size&&(r.Xc()?r.eu():Rb(n)&&n.Ku.set("Unknown"))}function Ab(t,e){t.Wu.De(e.targetId),Kb(t).du(e)}function kb(t,e){t.Wu.De(e),Kb(t).wu(e)}function jb(t){t.Wu=new zp({Xe:function(e){return t.ku.Xe(e)},Ze:function(e){return t.Lu.get(e)||null}}),Kb(t).start(),t.Ku.Du()}function Pb(t){return Rb(t)&&!Kb(t).Yc()&&t.Lu.size>0}function Rb(t){return 0===Fd(t).Bu.size}function Nb(t){t.Wu=void 0}function Db(t){return Object(_c.b)(this,void 0,void 0,function(){return Object(_c.d)(this,function(e){return t.Lu.forEach(function(e,n){Ab(t,e)}),[2]})})}function Lb(t,e){return Object(_c.b)(this,void 0,void 0,function(){return Object(_c.d)(this,function(n){return Nb(t),Pb(t)?(t.Ku.xu(e),jb(t)):t.Ku.set("Unknown"),[2]})})}function Mb(t,e,n){return Object(_c.b)(this,void 0,void 0,function(){var r,i,s;return Object(_c.d)(this,function(o){switch(o.label){case 0:if(t.Ku.set("Online"),!(e instanceof qp&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(_c.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(_c.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Lu.has(s=i[r])?[4,t.ku.ju(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Lu.delete(s),t.Wu.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Pd("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Fb(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Vp?t.Wu.$e(e):e instanceof Up?t.Wu.je(e):t.Wu.qe(e),n.isEqual(Xd.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,cb(t.Ou)];case 8:return i=o.sent(),n.F(i)>=0?[4,function(t,e){var n=t.Wu.He(e);return n.re.forEach(function(n,r){if(n.resumeToken.ht()>0){var i=t.Lu.get(r);i&&t.Lu.set(r,i.wt(n.resumeToken,e))}}),n.oe.forEach(function(e){var n=t.Lu.get(e);if(n){t.Lu.set(e,n.wt(fp.lt,n.ft)),kb(t,e);var r=new gp(n.target,e,1,n.sequenceNumber);Ab(t,r)}}),t.ku.Gu(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Pd("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Fb(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function Fb(t,e,n){return Object(_c.b)(this,void 0,void 0,function(){var r=this;return Object(_c.d)(this,function(i){switch(i.label){case 0:if(!Ay(e))throw e;return t.Bu.add(1),[4,Tb(t)];case 1:return i.sent(),t.Ku.set("Offline"),n||(n=function(){return cb(t.Ou)}),t.di.Mi(function(){return Object(_c.b)(r,void 0,void 0,function(){return Object(_c.d)(this,function(e){switch(e.label){case 0:return Pd("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Bu.delete(1),[4,Sb(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Vb(t,e){return e().catch(function(n){return Fb(t,n,e)})}function Ub(t){return Object(_c.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(_c.d)(this,function(o){switch(o.label){case 0:e=Fd(t),n=Qb(e),r=e.$u.length>0?e.$u[e.$u.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Rb(t)&&t.$u.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,hb(e.Ou,r)];case 3:return null===(i=o.sent())?(0===e.$u.length&&n.eu(),[3,7]):(r=i.batchId,function(t,e){t.$u.push(e);var n=Qb(t);n.Xc()&&n.Tu&&n.Iu(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Fb(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return qb(e)&&Bb(e),[2]}})})}function qb(t){return Rb(t)&&!Qb(t).Yc()&&t.$u.length>0}function Bb(t){Qb(t).start()}function zb(t){return Object(_c.b)(this,void 0,void 0,function(){return Object(_c.d)(this,function(e){return Qb(t).Ru(),[2]})})}function Hb(t){return Object(_c.b)(this,void 0,void 0,function(){var e,n,r;return Object(_c.d)(this,function(i){for(e=Qb(t),n=0,r=t.$u;n<r.length;n++)e.Iu(r[n].mutations);return[2]})})}function Wb(t,e,n){return Object(_c.b)(this,void 0,void 0,function(){var r,i;return Object(_c.d)(this,function(s){switch(s.label){case 0:return r=t.$u.shift(),i=dy.from(r,e,n),[4,Vb(t,function(){return t.ku.zu(i)})];case 1:return s.sent(),[4,Ub(t)];case 2:return s.sent(),[2]}})})}function $b(t,e){return Object(_c.b)(this,void 0,void 0,function(){return Object(_c.d)(this,function(n){switch(n.label){case 0:return e&&Qb(t).Tu?[4,function(t,e){return Object(_c.b)(this,void 0,void 0,function(){var n,r;return Object(_c.d)(this,function(i){switch(i.label){case 0:return yp(r=e.code)&&r!==Vd.ABORTED?(n=t.$u.shift(),Qb(t).tu(),[4,Vb(t,function(){return t.ku.Hu(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Ub(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return qb(t)&&Bb(t),[2]}})})}function Gb(t,e){return Object(_c.b)(this,void 0,void 0,function(){var n;return Object(_c.d)(this,function(r){switch(r.label){case 0:return n=Fd(t),e?(n.Bu.delete(2),[4,Sb(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Bu.add(2),[4,Tb(n)]);case 3:r.sent(),n.Ku.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Kb(t){var e=this;return t.Ju||(t.Ju=function(t,e,n){var r=Fd(t);return r.gu(),new _b(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:Db.bind(null,t),ou:Lb.bind(null,t),fu:Mb.bind(null,t)}),t.qu.push(function(n){return Object(_c.b)(e,void 0,void 0,function(){return Object(_c.d)(this,function(e){switch(e.label){case 0:return n?(t.Ju.tu(),Pb(t)?jb(t):t.Ku.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ju.stop()];case 2:e.sent(),Nb(t),e.label=3;case 3:return[2]}})})})),t.Ju}function Qb(t){var e=this;return t.Yu||(t.Yu=function(t,e,n){var r=Fd(t);return r.gu(),new wb(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:zb.bind(null,t),ou:$b.bind(null,t),Au:Hb.bind(null,t),mu:Wb.bind(null,t)}),t.qu.push(function(n){return Object(_c.b)(e,void 0,void 0,function(){return Object(_c.d)(this,function(e){switch(e.label){case 0:return n?(t.Yu.tu(),[4,Ub(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Yu.stop()];case 3:e.sent(),t.$u.length>0&&(Pd("RemoteStore","Stopping write stream with "+t.$u.length+" pending writes"),t.$u=[]),e.label=4;case 4:return[2]}})})})),t.Yu}var Yb=function(){this.Xu=void 0,this.listeners=[]},Zb=function(){this.queries=new py(function(t){return $m(t)},Wm),this.onlineState="Unknown",this.Zu=new Set};function Xb(t,e){return Object(_c.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(_c.d)(this,function(c){switch(c.label){case 0:if(n=Fd(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Yb),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.ta(r)];case 2:return o.Xu=c.sent(),[3,4];case 3:return a=c.sent(),u=Vy(a,"Initialization of query '"+Gm(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.ea(n.onlineState),s.Xu&&e.na(s.Xu)&&n_(n),[2]}})})}function Jb(t,e){return Object(_c.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(_c.d)(this,function(a){return n=Fd(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.sa(r))]:[2]})})}function t_(t,e){for(var n=Fd(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].na(o)&&(r=!0);a.Xu=o}}r&&n_(n)}function e_(t,e,n){var r=Fd(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function n_(t){t.Zu.forEach(function(t){t.next()})}var r_=function(){function t(t,e,n){this.query=t,this.ia=e,this.ra=!1,this.oa=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.na=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Lp(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var s=!1;return this.ra?this.ca(t)&&(this.ia.next(t),s=!0):this.ua(t,this.onlineState)&&(this.aa(t),s=!0),this.oa=t,s},t.prototype.onError=function(t){this.ia.error(t)},t.prototype.ea=function(t){this.onlineState=t;var e=!1;return this.oa&&!this.ra&&this.ua(this.oa,t)&&(this.aa(this.oa),e=!0),e},t.prototype.ua=function(t,e){return!t.fromCache||!(this.options.ha&&"Offline"!==e||t.docs.W()&&"Offline"!==e)},t.prototype.ca=function(t){return t.docChanges.length>0||!!(t.ne||this.oa&&this.oa.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.aa=function(t){t=Lp.ie(t.query,t.docs,t.ee,t.fromCache),this.ra=!0,this.ia.next(t)},t}(),i_=function(){function t(){this.la=new Ep(s_._a),this.fa=new Ep(s_.da)}return t.prototype.W=function(){return this.la.W()},t.prototype.Oo=function(t,e){var n=new s_(t,e);this.la=this.la.add(n),this.fa=this.fa.add(n)},t.prototype.wa=function(t,e){var n=this;t.forEach(function(t){return n.Oo(t,e)})},t.prototype.ko=function(t,e){this.Ea(new s_(t,e))},t.prototype.Ta=function(t,e){var n=this;t.forEach(function(t){return n.ko(t,e)})},t.prototype.Ia=function(t){var e=this,n=new rp(new tp([])),r=new s_(n,t),i=new s_(n,t+1),s=[];return this.fa.Kt([r,i],function(t){e.Ea(t),s.push(t.key)}),s},t.prototype.ma=function(){var t=this;this.la.forEach(function(e){return t.Ea(e)})},t.prototype.Ea=function(t){this.la=this.la.delete(t),this.fa=this.fa.delete(t)},t.prototype.Aa=function(t){var e=new rp(new tp([])),n=new s_(e,t),r=new s_(e,t+1),i=jp();return this.fa.Kt([n,r],function(t){i=i.add(t.key)}),i},t.prototype.zr=function(t){var e=new s_(t,0),n=this.la.jt(e);return null!==n&&t.isEqual(n.key)},t}(),s_=function(){function t(t,e){this.key=t,this.Ra=e}return t._a=function(t,e){return rp.$(t.key,e.key)||Kd(t.Ra,e.Ra)},t.da=function(t,e){return Kd(t.Ra,e.Ra)||rp.$(t.key,e.key)},t}();function o_(t,e){return"firestore_clients_"+t+"_"+e}function a_(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function u_(t,e){return"firestore_targets_"+t+"_"+e}var c_=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Pa=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new Ud(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(Rd("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),l_=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Pa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new Ud(r.error.code,r.error.message)),i?new t(e,r.state,s):(Rd("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),h_=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Pa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Rp(),o=0;i&&o<r.activeTargetIds.length;++o)i=op(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Rd("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),f_=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Pa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Rd("SharedClientState","Failed to parse online state: "+e),null)},t}(),d_=function(){function t(){this.activeTargetIds=Rp()}return t.prototype.ya=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Va=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ga=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),p_=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.pa=r,this.va=null,this.pu=null,this.ps=null,this.ba=this.Sa.bind(this),this.Da=new bp(Kd),this.lr=!1,this.Ca=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Na=o_(this.persistenceKey,this.pa),this.xa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Da=this.Da.Tt(this.pa,new d_),this.Fa=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Oa=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Ma=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ka=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.$a=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ba)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(_c.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(_c.d)(this,function(h){switch(h.label){case 0:return[4,this.va.gc()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.pa&&(i=this.getItem(o_(this.persistenceKey,r)))&&(s=h_.Pa(r,i))&&(this.Da=this.Da.Tt(s.clientId,s));for(this.La(),(o=this.storage.getItem(this.ka))&&(a=this.Ba(o))&&this.qa(a),u=0,c=this.Ca;u<c.length;u++)this.Sa(c[u]);return this.Ca=[],this.window.addEventListener("unload",function(){return l.Ic()}),this.lr=!0,[2]}})})},t.prototype.Ss=function(t){this.setItem(this.xa,JSON.stringify(t))},t.prototype.Ua=function(){return this.Qa(this.Da)},t.prototype.Ka=function(t){var e=!1;return this.Da.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Wa=function(t){this.ja(t,"pending")},t.prototype.Ga=function(t,e,n){this.ja(t,e,n),this.za(t)},t.prototype.Ha=function(t){var e="not-current";if(this.Ka(t)){var n=this.storage.getItem(u_(this.persistenceKey,t));if(n){var r=l_.Pa(t,n);r&&(e=r.state)}}return this.Ja.ya(t),this.La(),e},t.prototype.Ya=function(t){this.Ja.Va(t),this.La()},t.prototype.Xa=function(t){return this.Ja.activeTargetIds.has(t)},t.prototype.Za=function(t){this.removeItem(u_(this.persistenceKey,t))},t.prototype.th=function(t,e,n){this.eh(t,e,n)},t.prototype.nh=function(t,e,n){var r=this;e.forEach(function(t){r.za(t)}),this.currentUser=t,n.forEach(function(t){r.Wa(t)})},t.prototype.sh=function(t){this.ih(t)},t.prototype.rh=function(){this.oh()},t.prototype.Ic=function(){this.lr&&(this.window.removeEventListener("storage",this.ba),this.removeItem(this.Na),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Pd("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Pd("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Pd("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Sa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Pd("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Na)return void Rd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi(function(){return Object(_c.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(_c.d)(this,function(a){if(this.lr){if(null!==n.key)if(this.Fa.test(n.key)){if(null==n.newValue)return t=this.uh(n.key),[2,this.ah(t,null)];if(e=this.hh(n.key,n.newValue))return[2,this.ah(e.clientId,e)]}else if(this.Oa.test(n.key)){if(null!==n.newValue&&(r=this.lh(n.key,n.newValue)))return[2,this._h(r)]}else if(this.Ma.test(n.key)){if(null!==n.newValue&&(i=this.fh(n.key,n.newValue)))return[2,this.dh(i)]}else if(n.key===this.ka){if(null!==n.newValue&&(s=this.Ba(n.newValue)))return[2,this.qa(s)]}else if(n.key===this.xa)(o=function(t){var e=Cy.Ds;if(null!=t)try{var n=JSON.parse(t);Md("number"==typeof n),e=n}catch(t){Rd("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Cy.Ds&&this.ps(o);else if(n.key===this.$a)return[2,this.va.wh()]}else this.Ca.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ja",{get:function(){return this.Da.get(this.pa)},enumerable:!1,configurable:!0}),t.prototype.La=function(){this.setItem(this.Na,this.Ja.ga())},t.prototype.ja=function(t,e,n){var r=new c_(this.currentUser,t,e,n),i=a_(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ga())},t.prototype.za=function(t){var e=a_(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ih=function(t){this.storage.setItem(this.ka,JSON.stringify({clientId:this.pa,onlineState:t}))},t.prototype.eh=function(t,e,n){var r=u_(this.persistenceKey,t),i=new l_(t,e,n);this.setItem(r,i.ga())},t.prototype.oh=function(){this.setItem(this.$a,"value-not-used")},t.prototype.uh=function(t){var e=this.Fa.exec(t);return e?e[1]:null},t.prototype.hh=function(t,e){var n=this.uh(t);return h_.Pa(n,e)},t.prototype.lh=function(t,e){var n=this.Oa.exec(t),r=Number(n[1]);return c_.Pa(new Ad(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fh=function(t,e){var n=this.Ma.exec(t),r=Number(n[1]);return l_.Pa(r,e)},t.prototype.Ba=function(t){return f_.Pa(t)},t.prototype._h=function(t){return Object(_c.b)(this,void 0,void 0,function(){return Object(_c.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.va.Eh(t.batchId,t.state,t.error)]:(Pd("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.dh=function(t){return this.va.Th(t.targetId,t.state,t.error)},t.prototype.ah=function(t,e){var n=this,r=e?this.Da.Tt(t,e):this.Da.remove(t),i=this.Qa(this.Da),s=this.Qa(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.va.Ih(o,a).then(function(){n.Da=r})},t.prototype.qa=function(t){this.Da.get(t.clientId)&&this.pu(t.onlineState)},t.prototype.Qa=function(t){var e=Rp();return t.forEach(function(t,n){e=e.Gt(n.activeTargetIds)}),e},t}(),g_=function(){function t(){this.mh=new d_,this.Ah={},this.pu=null,this.ps=null}return t.prototype.Wa=function(t){},t.prototype.Ga=function(t,e,n){},t.prototype.Ha=function(t){return this.mh.ya(t),this.Ah[t]||"not-current"},t.prototype.th=function(t,e,n){this.Ah[t]=e},t.prototype.Ya=function(t){this.mh.Va(t)},t.prototype.Xa=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.Za=function(t){delete this.Ah[t]},t.prototype.Ua=function(){return this.mh.activeTargetIds},t.prototype.Ka=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.start=function(){return this.mh=new d_,Promise.resolve()},t.prototype.nh=function(t,e,n){},t.prototype.sh=function(t){},t.prototype.Ic=function(){},t.prototype.Ss=function(t){},t.prototype.rh=function(){},t}(),m_=function(t){this.key=t},y_=function(t){this.key=t},v_=function(){function t(t,e){this.query=t,this.Rh=e,this.Ph=null,this.le=!1,this.gh=jp(),this.ee=jp(),this.yh=Qm(t),this.Vh=new Np(this.yh)}return Object.defineProperty(t.prototype,"ph",{get:function(){return this.Rh},enumerable:!1,configurable:!0}),t.prototype.bh=function(t,e){var n=this,r=e?e.Sh:new Dp,i=e?e.Vh:this.Vh,s=e?e.ee:this.ee,o=i,a=!1,u=Mm(this.query)&&i.size===this.query.limit?i.last():null,c=Fm(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt(function(t,e){var l=i.get(t),h=e instanceof jm?e:null;h&&(h=Km(n.query,h)?h:null);var f=!!l&&n.ee.has(l.key),d=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Dh(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.yh(h,u)>0||c&&n.yh(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Mm(this.query)||Fm(this.query))for(;o.size>this.query.limit;){var l=Mm(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Vh:o,Sh:r,br:a,ee:s}},t.prototype.Dh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Vh;this.Vh=t.Vh,this.ee=t.ee;var s=t.Sh.Zt();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ld()}};return n(t)-n(e)}(t.type,e.type)||r.yh(t.doc,e.doc)}),this.Ch(n);var o=e?this.Nh():[],a=0===this.gh.size&&this.le?1:0,u=a!==this.Ph;return this.Ph=a,0!==s.length||u?{snapshot:new Lp(this.query,t.Vh,i,s,t.ee,0===a,u,!1),xh:o}:{xh:o}},t.prototype.ea=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Vh:this.Vh,Sh:new Dp,ee:this.ee,br:!1},!1)):{xh:[]}},t.prototype.Fh=function(t){return!this.Rh.has(t)&&!!this.Vh.has(t)&&!this.Vh.get(t).an},t.prototype.Ch=function(t){var e=this;t&&(t._e.forEach(function(t){return e.Rh=e.Rh.add(t)}),t.fe.forEach(function(t){}),t.de.forEach(function(t){return e.Rh=e.Rh.delete(t)}),this.le=t.le)},t.prototype.Nh=function(){var t=this;if(!this.le)return[];var e=this.gh;this.gh=jp(),this.Vh.forEach(function(e){t.Fh(e.key)&&(t.gh=t.gh.add(e.key))});var n=[];return e.forEach(function(e){t.gh.has(e)||n.push(new y_(e))}),this.gh.forEach(function(t){e.has(t)||n.push(new m_(t))}),n},t.prototype.Oh=function(t){this.Rh=t.Kc,this.gh=jp();var e=this.bh(t.documents);return this.Zn(e,!0)},t.prototype.Mh=function(){return Lp.ie(this.query,this.Vh,this.ee,0===this.Ph)},t}(),b_=function(t,e,n){this.query=t,this.targetId=e,this.view=n},__=function(t){this.key=t,this.kh=!1},w_=function(){function t(t,e,n,r,i,s){this.Ou=t,this.$h=e,this.Lh=n,this.Bh=r,this.currentUser=i,this.qh=s,this.Uh={},this.Qh=new py(function(t){return $m(t)},Wm),this.Kh=new Map,this.Wh=[],this.jh=new bp(rp.$),this.Gh=new Map,this.zh=new i_,this.Hh={},this.Jh=new Map,this.Yh=$v.Io(),this.onlineState="Unknown",this.Xh=void 0}return Object.defineProperty(t.prototype,"Zh",{get:function(){return!0===this.Xh},enumerable:!1,configurable:!0}),t}();function E_(t,e){return Object(_c.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(_c.d)(this,function(a){switch(a.label){case 0:return n=Z_(t),(i=n.Qh.get(e))?(n.Bh.Ha(i.targetId),r=i.view.Mh(),[3,4]):[3,1];case 1:return[4,fb(n.Ou,zm(e))];case 2:return s=a.sent(),o=n.Bh.Ha(s.targetId),[4,O_(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.Zh&&xb(n.$h,s),a.label=4;case 4:return[2,r]}})})}function O_(t,e,n,r){return Object(_c.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(_c.d)(this,function(l){switch(l.label){case 0:return t.tl=function(e,n,r){return function(t,e,n,r){return Object(_c.b)(this,void 0,void 0,function(){var i,s,o;return Object(_c.d)(this,function(a){switch(a.label){case 0:return(i=e.view.bh(n)).br?[4,pb(t.Ou,e.query,!1).then(function(t){return e.view.bh(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.re.get(e.targetId),o=e.view.Zn(i,t.Zh,s),[2,(L_(t,e.targetId,o.xh),o.snapshot)]}})})}(t,e,n,r)},[4,pb(t.Ou,e,!0)];case 1:return i=l.sent(),s=new v_(e,i.Kc),o=s.bh(i.documents),a=Fp.he(n,r&&"Offline"!==t.onlineState),u=s.Zn(o,t.Zh,a),L_(t,n,u.xh),c=new b_(e,n,s),[2,(t.Qh.set(e,c),t.Kh.has(n)?t.Kh.get(n).push(e):t.Kh.set(n,[e]),u.snapshot)]}})})}function C_(t,e){return Object(_c.b)(this,void 0,void 0,function(){var n,r,i;return Object(_c.d)(this,function(s){switch(s.label){case 0:return n=Fd(t),r=n.Qh.get(e),(i=n.Kh.get(r.targetId)).length>1?[2,(n.Kh.set(r.targetId,i.filter(function(t){return!Wm(t,e)})),void n.Qh.delete(e))]:n.Zh?(n.Bh.Ya(r.targetId),n.Bh.Ka(r.targetId)?[3,2]:[4,db(n.Ou,r.targetId,!1).then(function(){n.Bh.Za(r.targetId),Ib(n.$h,r.targetId),N_(n,r.targetId)}).catch(vb)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return N_(n,r.targetId),[4,db(n.Ou,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function S_(t,e,n){return Object(_c.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(_c.d)(this,function(a){switch(a.label){case 0:r=X_(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Fd(t),i=Zd.now(),s=e.reduce(function(t,e){return t.add(e.key)},jp());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Bc._s(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=mm(c,n.get(c.key));null!=l&&o.push(new _m(c.key,l,Am(l.proto.mapValue),hm.exists(!0)))}return r.rs.Or(t,i,o,e)})}).then(function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}})}(r.Ou,e)];case 2:return i=a.sent(),r.Bh.Wa(i.batchId),function(t,e,n){var r=t.Hh[t.currentUser.h()];r||(r=new bp(Kd)),r=r.Tt(e,n),t.Hh[t.currentUser.h()]=r}(r,i.batchId,n),[4,V_(r,i.Qn)];case 3:return a.sent(),[4,Ub(r.$h)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=Vy(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function T_(t,e){return Object(_c.b)(this,void 0,void 0,function(){var n,r;return Object(_c.d)(this,function(i){switch(i.label){case 0:n=Fd(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,lb(n.Ou,e)];case 2:return r=i.sent(),e.re.forEach(function(t,e){var r=n.Gh.get(e);r&&(Md(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.kh=!0:t.fe.size>0?Md(r.kh):t.de.size>0&&(Md(r.kh),r.kh=!1))}),[4,V_(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,vb(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function x_(t,e,n){var r=Fd(t);if(r.Zh&&0===n||!r.Zh&&1===n){var i=[];r.Qh.forEach(function(t,n){var r=n.view.ea(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Fd(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].ea(e)&&(r=!0)}),r&&n_(n)}(r.Lh,e),i.length&&r.Uh.fu(i),r.onlineState=e,r.Zh&&r.Bh.sh(e)}}function I_(t,e,n){return Object(_c.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(_c.d)(this,function(c){switch(c.label){case 0:return(r=Fd(t)).Bh.th(e,"rejected",n),i=r.Gh.get(e),(s=i&&i.key)?(o=(o=new bp(rp.$)).Tt(s,new Pm(s,Xd.min())),a=jp().add(s),u=new Mp(Xd.min(),new Map,new Ep(Kd),o,a),[4,T_(r,u)]):[3,2];case 1:return c.sent(),r.jh=r.jh.remove(s),r.Gh.delete(e),F_(r),[3,4];case 2:return[4,db(r.Ou,e,!1).then(function(){return N_(r,e,n)}).catch(vb)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function A_(t,e){return Object(_c.b)(this,void 0,void 0,function(){var n,r,i;return Object(_c.d)(this,function(s){switch(s.label){case 0:n=Fd(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,ub(n.Ou,e)];case 2:return i=s.sent(),R_(n,r,null),P_(n,r),n.Bh.Ga(r,"acknowledged"),[4,V_(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,vb(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function k_(t,e,n){return Object(_c.b)(this,void 0,void 0,function(){var r,i;return Object(_c.d)(this,function(s){switch(s.label){case 0:r=Fd(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Fd(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.rs.kr(t,e).next(function(e){return Md(null!==e),r=e.keys(),n.rs.Qr(t,e)}).next(function(){return n.rs.Gr(t)}).next(function(){return n.Bc._s(t,r)})})}(r.Ou,e)];case 2:return i=s.sent(),R_(r,e,n),P_(r,e),r.Bh.Ga(e,"rejected",n),[4,V_(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,vb(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function j_(t,e){return Object(_c.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(_c.d)(this,function(a){switch(a.label){case 0:Rb((n=Fd(t)).$h)||Pd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Fd(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.rs.Br(t)})}(n.Ou)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Jh.get(r)||[]).push(e),n.Jh.set(r,i),[3,4]);case 3:return s=a.sent(),o=Vy(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function P_(t,e){(t.Jh.get(e)||[]).forEach(function(t){t.resolve()}),t.Jh.delete(e)}function R_(t,e,n){var r=Fd(t),i=r.Hh[r.currentUser.h()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Hh[r.currentUser.h()]=i}}function N_(t,e,n){void 0===n&&(n=null),t.Bh.Ya(e);for(var r=0,i=t.Kh.get(e);r<i.length;r++){var s=i[r];t.Qh.delete(s),n&&t.Uh.el(s,n)}t.Kh.delete(e),t.Zh&&t.zh.Ia(e).forEach(function(e){t.zh.zr(e)||D_(t,e)})}function D_(t,e){var n=t.jh.get(e);null!==n&&(Ib(t.$h,n),t.jh=t.jh.remove(e),t.Gh.delete(n),F_(t))}function L_(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof m_?(t.zh.Oo(s.key,e),M_(t,s)):s instanceof y_?(Pd("SyncEngine","Document no longer in limbo: "+s.key),t.zh.ko(s.key,e),t.zh.zr(s.key)||D_(t,s.key)):Ld()}}function M_(t,e){var n=e.key;t.jh.get(n)||(Pd("SyncEngine","New document in limbo: "+n),t.Wh.push(n),F_(t))}function F_(t){for(;t.Wh.length>0&&t.jh.size<t.qh;){var e=t.Wh.shift(),n=t.Yh.next();t.Gh.set(n,new __(e)),t.jh=t.jh.Tt(e,n),xb(t.$h,new gp(zm(Lm(e.path)),n,2,Cy.Ds))}}function V_(t,e,n){return Object(_c.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(_c.d)(this,function(a){switch(a.label){case 0:return r=Fd(t),i=[],s=[],o=[],r.Qh.W()?[3,3]:(r.Qh.forEach(function(t,a){o.push(r.tl(a,e,n).then(function(t){if(t){r.Zh&&r.Bh.th(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Oy.Vs(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.Uh.fu(i),[4,function(t,e){return Object(_c.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(_c.d)(this,function(l){switch(l.label){case 0:n=Fd(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return gy.forEach(e,function(e){return gy.forEach(e.gs,function(r){return n.persistence.Dr.Oo(t,e.targetId,r)}).next(function(){return gy.forEach(e.ys,function(r){return n.persistence.Dr.ko(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Ay(r=l.sent()))throw r;return Pd("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Mc.get(a),c=u.Et(u.ft),n.Mc=n.Mc.Tt(a,c));return[2]}})})}(r.Ou,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function U_(t,e){return Object(_c.b)(this,void 0,void 0,function(){var n,r;return Object(_c.d)(this,function(i){switch(i.label){case 0:return(n=Fd(t)).currentUser.isEqual(e)?[3,3]:(Pd("SyncEngine","User change. New user:",e.h()),[4,ab(n.Ou,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Jh.forEach(function(t){t.forEach(function(t){t.reject(new Ud(Vd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Jh.clear()}(n),n.Bh.nh(e,r.Uc,r.Qc),[4,V_(n,r.qc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function q_(t,e){var n=Fd(t),r=n.Gh.get(e);if(r&&r.kh)return jp().add(r.key);var i=jp(),s=n.Kh.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Qh.get(a[o]);i=i.Gt(u.view.ph)}return i}function B_(t,e){return Object(_c.b)(this,void 0,void 0,function(){var n,r,i;return Object(_c.d)(this,function(s){switch(s.label){case 0:return[4,pb((n=Fd(t)).Ou,e.query,!0)];case 1:return r=s.sent(),i=e.view.Oh(r),[2,(n.Zh&&L_(n,e.targetId,i.xh),i)]}})})}function z_(t){return Object(_c.b)(this,void 0,void 0,function(){var e;return Object(_c.d)(this,function(n){return[2,mb((e=Fd(t)).Ou).then(function(t){return V_(e,t)})]})})}function H_(t,e,n,r){return Object(_c.b)(this,void 0,void 0,function(){var i,s;return Object(_c.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=Fd(t),r=Fd(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.$r(t,e).next(function(e){return e?n.Bc._s(t,e):gy.resolve(null)})})}((i=Fd(t)).Ou,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ub(i.$h)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(R_(i,e,r||null),P_(i,e),function(t,e){Fd(Fd(t).rs).Wr(e)}(i.Ou,e)):Ld(),o.label=4;case 4:return[4,V_(i,s)];case 5:return o.sent(),[3,7];case 6:Pd("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function W_(t,e){return Object(_c.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(_c.d)(this,function(c){switch(c.label){case 0:return Z_(n=Fd(t)),X_(n),!0!==e||!0===n.Xh?[3,3]:(r=n.Bh.Ua(),[4,$_(n,r.H())]);case 1:return i=c.sent(),n.Xh=!0,[4,Gb(n.$h,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)xb(n.$h,o[s]);return[3,7];case 3:return!1!==e||!1===n.Xh?[3,7]:(a=[],u=Promise.resolve(),n.Kh.forEach(function(t,e){n.Bh.Xa(e)?a.push(e):u=u.then(function(){return N_(n,e),db(n.Ou,e,!0)}),Ib(n.$h,e)}),[4,u]);case 4:return c.sent(),[4,$_(n,a)];case 5:return c.sent(),function(t){var e=Fd(t);e.Gh.forEach(function(t,n){Ib(e.$h,n)}),e.zh.ma(),e.Gh=new Map,e.jh=new bp(rp.$)}(n),n.Xh=!1,[4,Gb(n.$h,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function $_(t,e,n){return Object(_c.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return Object(_c.d)(this,function(g){switch(g.label){case 0:n=Fd(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(u=void 0,(c=n.Kh.get(a=o[s]))&&0!==c.length?[4,fb(n.Ou,zm(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Qh.get(h[l]),[4,B_(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,gb(n.Ou,a)];case 8:return p=g.sent(),[4,fb(n.Ou,p)];case 9:return u=g.sent(),[4,O_(n,G_(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Uh.fu(i),r)]}})})}function G_(t){return Dm(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function K_(t){var e=Fd(t);return Fd(Fd(e.Ou).persistence).gc()}function Q_(t,e,n,r){return Object(_c.b)(this,void 0,void 0,function(){var i,s,o;return Object(_c.d)(this,function(a){switch(a.label){case 0:return(i=Fd(t)).Xh?(Pd("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Kh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,mb(i.Ou)];case 3:return s=a.sent(),o=Mp.ae(e,"current"===n),[4,V_(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,db(i.Ou,e,!0)];case 6:return a.sent(),N_(i,e,r),[3,8];case 7:Ld(),a.label=8;case 8:return[2]}})})}function Y_(t,e,n){return Object(_c.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(_c.d)(this,function(f){switch(f.label){case 0:if(!(r=Z_(t)).Xh)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.Kh.has(o=s[i])?(Pd("SyncEngine","Adding an already active target "+o),[3,5]):[4,gb(r.Ou,o)]:[3,6];case 2:return a=f.sent(),[4,fb(r.Ou,a)];case 3:return u=f.sent(),[4,O_(r,G_(a),u.targetId,!1)];case 4:f.sent(),xb(r.$h,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(_c.d)(this,function(e){switch(e.label){case 0:return r.Kh.has(t)?[4,db(r.Ou,t,!1).then(function(){Ib(r.$h,t),N_(r,t)}).catch(vb)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Z_(t){var e=Fd(t);return e.$h.ku.Gu=T_.bind(null,e),e.$h.ku.Xe=q_.bind(null,e),e.$h.ku.ju=I_.bind(null,e),e.Uh.fu=t_.bind(null,e.Lh),e.Uh.el=e_.bind(null,e.Lh),e}function X_(t){var e=Fd(t);return e.$h.ku.zu=A_.bind(null,e),e.$h.ku.Hu=k_.bind(null,e),e}var J_=function(){function t(t,e){this.os=t,this.Dr=e,this.rs=[],this.nl=1,this.sl=new Ep(s_._a)}return t.prototype.Fr=function(t){return gy.resolve(0===this.rs.length)},t.prototype.Or=function(t,e,n,r){var i=this.nl;this.nl++;var s=new fy(i,e,n,r);this.rs.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.sl=this.sl.add(new s_(u.key,i)),this.os.Mr(t,u.key.path.q())}return gy.resolve(s)},t.prototype.kr=function(t,e){return gy.resolve(this.il(e))},t.prototype.Lr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return gy.resolve(this.rs.length>r?this.rs[r]:null)},t.prototype.Br=function(){return gy.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.qr=function(t){return gy.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new s_(e,0),i=new s_(e,Number.POSITIVE_INFINITY),s=[];return this.sl.Kt([r,i],function(t){var e=n.il(t.Ra);s.push(e)}),gy.resolve(s)},t.prototype.ds=function(t,e){var n=this,r=new Ep(Kd);return e.forEach(function(t){var e=new s_(t,0),i=new s_(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],function(t){r=r.add(t.Ra)})}),gy.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;rp.ot(i)||(i=i.child(""));var s=new s_(new rp(i),0),o=new Ep(Kd);return this.sl.Wt(function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(o=o.add(t.Ra)),!0)},s),gy.resolve(this.ol(o))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.il(t);null!==r&&n.push(r)}),n},t.prototype.Qr=function(t,e){var n=this;Md(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return gy.forEach(e.mutations,function(i){var s=new s_(i.key,e.batchId);return r=r.delete(s),n.Dr.jr(t,i.key)}).next(function(){n.sl=r})},t.prototype.Wr=function(t){},t.prototype.zr=function(t,e){var n=new s_(e,0),r=this.sl.jt(n);return gy.resolve(e.isEqual(r&&r.key))},t.prototype.Gr=function(t){return gy.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),tw=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new bp(rp.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:o,readTime:n}),this.size+=o-s,this.os.Mr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return gy.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=Tp();return e.forEach(function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)}),gy.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=Ip(),i=new rp(e.path.child("")),s=this.docs.Vt(i);s.Nt();){var o=s.Ct(),a=o.value,u=a.zn,c=a.readTime;if(!e.path.j(o.key.path))break;c.F(n)<=0||u instanceof jm&&Km(e,u)&&(r=r.Tt(u.key,u))}return gy.resolve(r)},t.prototype.al=function(t,e){return gy.forEach(this.docs,function(t){return e(t)})},t.prototype.io=function(t){return new ew(this)},t.prototype.oo=function(t){return gy.resolve(this.size)},t}(),ew=function(t){function e(e){var n=this;return(n=t.call(this)||this).co=e,n}return Object(_c.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach(function(r,i){i&&i.zn?n.push(e.co.jn(t,i.zn,e.Wn(r))):e.co.Hn(r)}),gy.qn(n)},e.prototype.Yn=function(t,e){return this.co.Jn(t,e)},e.prototype.Xn=function(t,e){return this.co.getEntries(t,e)},e}(my),nw=function(){function t(t){this.persistence=t,this.hl=new py(function(t){return cp(t)},lp),this.lastRemoteSnapshotVersion=Xd.min(),this.highestTargetId=0,this.ll=0,this._l=new i_,this.targetCount=0,this.fl=$v.To()}return t.prototype.Ue=function(t,e){return this.hl.forEach(function(t,n){return e(n)}),gy.resolve()},t.prototype.Po=function(t){return gy.resolve(this.lastRemoteSnapshotVersion)},t.prototype.yo=function(t){return gy.resolve(this.ll)},t.prototype.mo=function(t){return this.highestTargetId=this.fl.next(),gy.resolve(this.highestTargetId)},t.prototype.Vo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),gy.resolve()},t.prototype.vo=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new $v(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.po=function(t,e){return this.vo(e),this.targetCount+=1,gy.resolve()},t.prototype.So=function(t,e){return this.vo(e),gy.resolve()},t.prototype.Do=function(t,e){return this.hl.delete(e.target),this._l.Ia(e.targetId),this.targetCount-=1,gy.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return this.hl.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.hl.delete(o),s.push(r.Co(t,a.targetId)),i++)}),gy.qn(s).next(function(){return i})},t.prototype.No=function(t){return gy.resolve(this.targetCount)},t.prototype.xo=function(t,e){var n=this.hl.get(e)||null;return gy.resolve(n)},t.prototype.Fo=function(t,e,n){return this._l.wa(e,n),gy.resolve()},t.prototype.Mo=function(t,e,n){this._l.Ta(e,n);var r=this.persistence.Dr,i=[];return r&&e.forEach(function(e){i.push(r.jr(t,e))}),gy.qn(i)},t.prototype.Co=function(t,e){return this._l.Ia(e),gy.resolve()},t.prototype.$o=function(t,e){var n=this._l.Aa(e);return gy.resolve(n)},t.prototype.zr=function(t,e){return gy.resolve(this._l.zr(e))},t}(),rw=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ho=function(t,e){return gy.resolve(this.dl.get(e))},t.prototype.lo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:Cg(n.createTime)}),gy.resolve()},t.prototype._o=function(t,e){return gy.resolve(this.wl.get(e))},t.prototype.fo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:av(n.bundledQuery),readTime:Cg(n.readTime)}),gy.resolve()},t}(),iw=function(){function t(t,e){var n=this;this.El={},this.Uo=new Cy(0),this.Qo=!1,this.Qo=!0,this.Dr=t(this),this.Yo=new nw(this),this.os=new _v,this.ss=function(t,e){return new tw(t,function(t){return n.Dr.Tl(t)})}(this.os),this.serializer=new Zy(e),this.Xo=new rw(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Ic=function(){return this.Qo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.rc=function(){},t.prototype.oc=function(){},t.prototype.bc=function(){return this.os},t.prototype.yc=function(t){var e=this.El[t.h()];return e||(e=new J_(this.os,this.Dr),this.El[t.h()]=e),e},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r=this;Pd("MemoryPersistence","Starting transaction:",t);var i=new sw(this.Uo.next());return this.Dr.Il(),n(i).next(function(t){return r.Dr.ml(i).next(function(){return t})}).Ln().then(function(t){return i.ns(),t})},t.prototype.Al=function(t,e){return gy.Un(Object.values(this.El).map(function(n){return function(){return n.zr(t,e)}}))},t}(),sw=function(t){function e(e){var n=this;return(n=t.call(this)||this).Lo=e,n}return Object(_c.c)(e,t),e}(wy),ow=function(){function t(t){this.persistence=t,this.Rl=new i_,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw Ld()},enumerable:!1,configurable:!0}),t.prototype.Oo=function(t,e,n){return this.Rl.Oo(n,e),this.yl.delete(n.toString()),gy.resolve()},t.prototype.ko=function(t,e,n){return this.Rl.ko(n,e),this.yl.add(n.toString()),gy.resolve()},t.prototype.jr=function(t,e){return this.yl.add(e.toString()),gy.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.Ia(e.targetId).forEach(function(t){return n.yl.add(t.toString())});var r=this.persistence.Vc();return r.$o(t,e.targetId).next(function(t){t.forEach(function(t){return n.yl.add(t.toString())})}).next(function(){return r.Do(t,e)})},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.vc().io();return gy.forEach(this.yl,function(r){var i=rp.st(r);return e.Vl(t,i).next(function(t){t||n.Hn(i)})}).next(function(){return e.Pl=null,n.apply(t)})},t.prototype.Fc=function(t,e){var n=this;return this.Vl(t,e).next(function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())})},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return gy.Un([function(){return gy.resolve(n.Rl.zr(e))},function(){return n.persistence.Vc().zr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),aw=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.lu=function(t){this.bl=t},t.prototype.ou=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),uw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},cw=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(_c.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise(function(i,s){var o=new Sd;o.listenOnce(Ed.COMPLETE,function(){try{switch(o.getLastErrorCode()){case wd.NO_ERROR:var e=o.getResponseJson();Pd("Connection","XHR received:",JSON.stringify(e)),i(e);break;case wd.TIMEOUT:Pd("Connection",'RPC "'+t+'" timed out'),s(new Ud(Vd.DEADLINE_EXCEEDED,"Request time out"));break;case wd.HTTP_ERROR:var n=o.getStatus();if(Pd("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Vd).indexOf(e)>=0?e:Vd.UNKNOWN}(r.status);s(new Ud(a,r.message))}else s(new Ud(Vd.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Ud(Vd.UNAVAILABLE,"Connection failed."));break;default:Ld()}}finally{Pd("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype._u=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new md,i=vh(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(s.initMessageHeaders,e),Object(Oc.l)()||Object(Oc.n)()||Object(Oc.j)()||Object(Oc.k)()||Object(Oc.o)()||Object(Oc.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Pd("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new aw({pl:function(t){c?Pd("Connection","Not sending because WebChannel is closed:",t):(u||(Pd("Connection","Opening WebChannel transport."),a.open(),u=!0),Pd("Connection","WebChannel sending:",t),a.send(t))},vl:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Cd.EventType.OPEN,function(){c||Pd("Connection","WebChannel transport opened.")}),h(a,Cd.EventType.CLOSE,function(){c||(c=!0,Pd("Connection","WebChannel transport closed"),l.Nl())}),h(a,Cd.EventType.ERROR,function(t){c||(c=!0,Nd("Connection","WebChannel transport errored:",t),l.Nl(new Ud(Vd.UNAVAILABLE,"The operation could not be completed")))}),h(a,Cd.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Md(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Pd("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=dp[t];if(void 0!==e)return vp(e)}(i),o=r.message;void 0===s&&(s=Vd.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Nl(new Ud(s,o)),a.close()}else Pd("Connection","WebChannel received:",n),l.xl(n)}}),h(i,Od.STAT_EVENT,function(t){10===t.stat?Pd("Connection","Detected buffering proxy"):11===t.stat&&Pd("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Cl()},0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.yu=function(t,e,n,r){var i=this.kl(t,e);Pd("RestConnection","Sending: ",i,n);var s={};return this.$l(s,r),this.Ll(t,i,s,n).then(function(t){return Pd("RestConnection","Received: ",t),t},function(e){throw Nd("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Vu=function(t,e,n,r){return this.yu(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.2",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+uw[t]},t}()),lw=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Qu=function(t){this.Kl.push(t)},t.prototype.Ic=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){Pd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){Pd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),hw=function(){function t(){}return t.prototype.Qu=function(t){},t.prototype.Ic=function(){},t}(),fw=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(_c.b)(this,void 0,void 0,function(){return Object(_c.d)(this,function(e){switch(e.label){case 0:return this.serializer=vy(t.Fl.t),this.Bh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Ou=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return ob(this.persistence,new $y,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new iw(ow.gl,this.serializer)},t.prototype.jl=function(t){return new g_},t.prototype.terminate=function(){return Object(_c.b)(this,void 0,void 0,function(){return Object(_c.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.Bh.Ic()];case 1:return t.sent(),[4,this.persistence.Ic()];case 2:return t.sent(),[2]}})})},t}(),dw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(_c.c)(e,t),e.prototype.initialize=function(e){return Object(_c.b)(this,void 0,void 0,function(){return Object(_c.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,yb(this.Ou)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,X_(this.Xl.va)];case 4:return n.sent(),[4,Ub(this.Xl.$h)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return ob(this.persistence,new $y,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new Hy(this.persistence.Dr.cr,t.di)},e.prototype.Gl=function(t){var e=ib(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?zy.er(this.cacheSizeBytes):zy.ir;return new Jv(this.synchronizeTabs,e,t.clientId,n,t.di,Dy(),Ly(),this.serializer,this.Bh,!!this.forceOwnership)},e.prototype.jl=function(t){return new g_},e}(fw),pw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(_c.c)(e,t),e.prototype.initialize=function(e){return Object(_c.b)(this,void 0,void 0,function(){var n,r=this;return Object(_c.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.va,this.Bh instanceof p_?(this.Bh.va={Eh:H_.bind(null,n),Th:Q_.bind(null,n),Ih:Y_.bind(null,n),gc:K_.bind(null,n),wh:z_.bind(null,n)},[4,this.Bh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.ic(function(t){return Object(_c.b)(r,void 0,void 0,function(){return Object(_c.d)(this,function(e){switch(e.label){case 0:return[4,W_(this.Xl.va,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Ou):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=Dy();if(!p_.Gs(e))throw new Ud(Vd.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ib(t.Fl.t,t.Fl.persistenceKey);return new p_(e,t.di,n,t.clientId,t.Yl)},e}(dw),gw=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(_c.b)(this,void 0,void 0,function(){var n=this;return Object(_c.d)(this,function(r){switch(r.label){case 0:return this.Ou?[3,2]:(this.Ou=t.Ou,this.Bh=t.Bh,this.Mu=this.Zl(e),this.$h=this.t_(e),this.Lh=this.e_(e),this.va=this.n_(e,!t.synchronizeTabs),this.Bh.pu=function(t){return x_(n.va,t,1)},this.$h.ku.s_=U_.bind(null,this.va),[4,Gb(this.$h,this.va.Zh)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new Zb},t.prototype.Zl=function(t){var e=vy(t.Fl.t),n=new cw(t.Fl);return function(t,e,n){return new Eb(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Ou,n=this.Mu,r=t.di,i=function(t){return x_(o.va,t,0)},s=lw.Gs()?new lw:new hw,new Cb(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new w_(t,e,n,r,i,s);return o&&(a.Xh=!0),a}(this.Ou,this.$h,this.Lh,this.Bh,t.Yl,t.qh,e)},t.prototype.terminate=function(){return function(t){return Object(_c.b)(this,void 0,void 0,function(){var e;return Object(_c.d)(this,function(n){switch(n.label){case 0:return e=Fd(t),Pd("RemoteStore","RemoteStore shutting down."),e.Bu.add(5),[4,Tb(e)];case 1:return n.sent(),e.Uu.Ic(),e.Ku.set("Unknown"),[2]}})})}(this.$h)},t}(),mw=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}();function yw(t,e,n){if(!n)throw new Ud(Vd.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function vw(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ud(Vd.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function bw(t,e,n,r){if(!0===e&&!0===r)throw new Ud(Vd.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function _w(t){if(!rp.ot(t))throw new Ud(Vd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ww(t){if(rp.ot(t))throw new Ud(Vd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Ew(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ld()}function Ow(t,e){if("_delegate"in t&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ud(Vd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ew(t);throw new Ud(Vd.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Cw(t,e){if(e<=0)throw new Ud(Vd.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Sw=function(t){this._methodName=t},Tw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_c.c)(e,t),e.prototype.c_=function(t){if(2!==t.u_)throw t.a_(1===t.u_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Sw);function xw(t,e,n){return new jE({u_:3,h_:e.settings.h_,methodName:t._methodName,l_:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var Iw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_c.c)(e,t),e.prototype.c_=function(t){return new cm(t.path,new tm)},e.prototype.isEqual=function(t){return t instanceof e},e}(Sw),Aw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(_c.c)(e,t),e.prototype.c_=function(t){var e=xw(this,t,!0),n=this.__.map(function(t){return ME(t,e)}),r=new em(n);return new cm(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Sw),kw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(_c.c)(e,t),e.prototype.c_=function(t){var e=xw(this,t,!0),n=this.__.map(function(t){return ME(t,e)}),r=new rm(n);return new cm(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Sw),jw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(_c.c)(e,t),e.prototype.c_=function(t){var e=new sm(t.serializer,_g(t.serializer,this.f_));return new cm(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Sw),Pw=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ud(Vd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ud(Vd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.d_=t,this.w_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.d_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.d_===t.d_&&this.w_===t.w_},t.prototype.toJSON=function(){return{latitude:this.d_,longitude:this.w_}},t.prototype.C=function(t){return Kd(this.d_,t.d_)||Kd(this.w_,t.w_)},t}(),Rw=function(){function t(t){this.E_=t}return t.fromBase64String=function(e){try{return new t(fp.fromBase64String(e))}catch(e){throw new Ud(Vd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(fp.fromUint8Array(e))},t.prototype.toBase64=function(){return this.E_.toBase64()},t.prototype.toUint8Array=function(){return this.E_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.E_.isEqual(t.E_)},t}(),Nw=function(t){this.o_=t},Dw=new Map,Lw=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ud(Vd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ud(Vd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,bw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Mw=function(){function t(t,e){this.T_="(lite)",this.I_=new Lw({}),this.m_=!1,t instanceof Id?(this.A_=t,this.R_=new Bd):(this.P_=t,this.A_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ud(Vd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Id(t.options.projectId)}(t),this.R_=new zd(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.P_)throw new Ud(Vd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.P_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"g_",{get:function(){return this.m_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return void 0!==this.V_},enumerable:!1,configurable:!0}),t.prototype.p_=function(t){if(this.m_)throw new Ud(Vd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.I_=new Lw(t),void 0!==t.credentials&&(this.R_=function(t){if(!t)return new Bd;switch(t.type){case"gapi":var e=t.client;return Md(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Wd(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Ud(Vd.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.v_=function(){return this.I_},t.prototype.b_=function(){return this.m_=!0,this.I_},t.prototype._delete=function(){return this.V_||(this.V_=this.S_()),this.V_},t.prototype.S_=function(){return function(t){var e=Dw.get(t);e&&(Pd("ComponentProvider","Removing Datastore"),Dw.delete(t),e.terminate())}(this),Promise.resolve()},t}();function Fw(){if("undefined"==typeof Uint8Array)throw new Ud(Vd.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Vw(){if("undefined"==typeof atob)throw new Ud(Vd.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Uw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_c.c)(e,t),e.fromBase64String=function(t){return Vw(),new e(Rw.fromBase64String(t))},e.fromUint8Array=function(t){return Fw(),new e(Rw.fromUint8Array(t))},e.prototype.toBase64=function(){return Vw(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return Fw(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Nw),qw=function(){function t(){}return t.prototype.D_=function(t,e){switch(void 0===e&&(e="none"),Jp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ag(t.integerValue||t.doubleValue);case 3:return this.C_(t.timestampValue);case 4:return this.N_(t,e);case 5:return t.stringValue;case 6:return this.x_(ug(t.bytesValue));case 7:return this.F_(t.referenceValue);case 8:return this.O_(t.geoPointValue);case 9:return this.M_(t.arrayValue,e);case 10:return this.k_(t.mapValue,e);default:throw Ld()}},t.prototype.k_=function(t,e){var n=this,r={};return Gp(t.fields||{},function(t,i){r[t]=n.D_(i,e)}),r},t.prototype.O_=function(t){return new Pw(ag(t.latitude),ag(t.longitude))},t.prototype.M_=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.D_(t,e)})},t.prototype.N_=function(t,e){switch(e){case"previous":var n=Yp(t);return null==n?null:this.D_(n,e);case"estimate":return this.C_(Zp(t));default:return null}},t.prototype.C_=function(t){var e=og(t);return new Zd(e.seconds,e.nanos)},t.prototype.L_=function(t,e){var n=tp.Y(t);Md(Qg(n));var r=new Id(n.get(1),n.get(3)),i=new rp(n.B(5));return r.isEqual(e)||Rd("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Bw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(_c.c)(e,t),e.prototype.x_=function(t){return new Uw(new Rw(t))},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return gO.B_(e,this.firestore,null)},e}(qw),zw=function(){function t(t,e,n,r,i){this.q_=t,this.U_=e,this.Q_=n,this.K_=r,this.W_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new oE(this.q_,this.W_,this.Q_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.K_},t.prototype.data=function(){if(this.K_){if(this.W_){var t=new Hw(this.q_,this.U_,this.Q_,this.K_,null);return this.W_.fromFirestore(t)}return this.U_.D_(this.K_.En())}},t.prototype.get=function(t){if(this.K_){var e=this.K_.data().field(Ww("DocumentSnapshot.get",t));if(null!==e)return this.U_.D_(e)}},t}(),Hw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_c.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(zw);function Ww(t,e){return"string"==typeof e?zE(t,e):e instanceof Nw?e.o_.j_:e.j_}var $w=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ud(Vd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.j_=new np(t)}return t.prototype.isEqual=function(t){return this.j_.isEqual(t.j_)},t}(),Gw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).G_=new Fy,r.T_="name"in e?e.name:"[DEFAULT]",r}return Object(_c.c)(e,t),e.prototype.S_=function(){return this.z_||fO(this),this.z_.terminate()},e}(Mw);function Kw(t,e,n){var r=this,i=new yy;return t.di.enqueue(function(){return Object(_c.b)(r,void 0,void 0,function(){var r;return Object(_c.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,QE(t,n)];case 1:return s.sent(),[4,YE(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Vd.FAILED_PRECONDITION||t.code===Vd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Qw(t){if(t.g_||t.y_)throw new Ud(Vd.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Yw=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).q_=e,a.H_=e,a.metadata=s,a}return Object(_c.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.K_){if(this.W_){var e=new Zw(this.q_,this.U_,this.Q_,this.K_,this.metadata,null);return this.W_.fromFirestore(e,t)}return this.U_.D_(this.K_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.K_){var n=this.K_.data().field(Ww("DocumentSnapshot.get",t));if(null!==n)return this.U_.D_(n,e.serverTimestamps)}},e}(zw),Zw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_c.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Yw),Xw=function(){function t(t,e,n,r){this.q_=t,this.U_=e,this.J_=r,this.metadata=new bO(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.J_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.J_.docs.forEach(function(r){t.call(e,new Zw(n.q_,n.U_,r.key,r,new bO(n.J_.ee.has(r.key),n.J_.fromCache),n.query.W_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.J_.se)throw new Ud(Vd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Y_&&this.X_===e||(this.Y_=function(t,e){if(t.J_.te.W()){var n=0;return t.J_.docChanges.map(function(e){return{type:"added",doc:new Zw(t.q_,t.U_,e.doc.key,e.doc,new bO(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),oldIndex:-1,newIndex:n++}})}var r=t.J_.te;return t.J_.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Zw(t.q_,t.U_,e.doc.key,e.doc,new bO(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Jw(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this.X_=e),this.Y_},t}();function Jw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ld()}}function tE(t,e){return t instanceof Yw&&e instanceof Yw?t.q_===e.q_&&t.Q_.isEqual(e.Q_)&&(null===t.K_?null===e.K_:t.K_.isEqual(e.K_))&&t.W_===e.W_:t instanceof Xw&&e instanceof Xw&&t.q_===e.q_&&SE(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.J_.isEqual(e.J_)}var eE=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(_c.c)(e,t),e.prototype.x_=function(t){return new Rw(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new oE(this.firestore,null,e)},e}(qw);function nE(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ow(t,oE);var s=Ow(t.firestore,Gw),o=TE(s);return e instanceof Nw&&(e=e.o_),iE(s,("string"==typeof e||e instanceof $w?DE(o,"updateDoc",t.Q_,e,n,r):NE(o,"updateDoc",t.Q_,e)).tf(t.Q_,hm.exists(!0)))}function rE(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof Nw&&(t=t.o_);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||by(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(by(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof oE)c=Ow(t.firestore,Gw),l=Lm(t.Q_.path),u={next:function(e){i[a]&&i[a](sE(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Ow(t,aE);c=Ow(d.firestore,Gw),l=d.Z_;var p=new eE(c);u={next:function(t){i[a]&&i[a](new Xw(c,p,d,t))},error:i[a+1],complete:i[a+2]},bE(t.Z_)}return function(t,e,n,r){var i=this,s=new mw(r),o=new r_(e,s,n);return t.di.Ri(function(){return Object(_c.b)(i,void 0,void 0,function(){var e;return Object(_c.d)(this,function(n){switch(n.label){case 0:return e=Xb,[4,rO(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.r_(),t.di.Ri(function(){return Object(_c.b)(i,void 0,void 0,function(){var e;return Object(_c.d)(this,function(n){switch(n.label){case 0:return e=Jb,[4,rO(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(hO(c),l,h,u)}function iE(t,e){return function(t,e){var n=this,r=new yy;return t.di.Ri(function(){return Object(_c.b)(n,void 0,void 0,function(){var n;return Object(_c.d)(this,function(i){switch(i.label){case 0:return n=S_,[4,nO(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(hO(t),e)}function sE(t,e,n){var r=n.docs.get(e.Q_),i=new eE(t);return new Yw(t,i,e.Q_,r,new bO(n.hasPendingWrites,n.fromCache),e.W_)}var oE=function(){function t(t,e,n){this.W_=e,this.Q_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"ef",{get:function(){return this.Q_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Q_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new _E(this.firestore,this.W_,this.Q_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Q_)},t}(),aE=function(){function t(t,e,n){this.W_=e,this.Z_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Z_)},t}(),uE=function(){};function cE(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.nf(t)}return t}var lE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).sf=e,i.rf=n,i.cf=r,i.type="where",i}return Object(_c.c)(e,t),e.prototype.nf=function(t){var e=TE(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.tt()){if("array-contains"===s||"array-contains-any"===s)throw new Ud(Vd.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){yE(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(mE(r,t,l[c]));a={arrayValue:{values:u}}}else a=mE(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||yE(o,s),a=LE(n,"where",o,"in"===s||"not-in"===s);var h=Ym.create(i,s,a);return function(t,e){if(e.An()){var n=Um(t);if(null!==n&&!n.isEqual(e.field))throw new Ud(Vd.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Vm(t);null!==r&&vE(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Ud(Vd.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.Z_,0,e,t.firestore.A_,this.sf,this.rf,this.cf);return new aE(t.firestore,t.W_,function(t,e){var n=t.filters.concat([e]);return new Nm(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,n))},e}(uE),hE=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).sf=e,r.uf=n,r.type="orderBy",r}return Object(_c.c)(e,t),e.prototype.nf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ud(Vd.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ud(Vd.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new cy(e,n);return function(t,e){if(null===Vm(t)){var n=Um(t);null!==n&&vE(0,n,e.field)}}(t,r),r}(t.Z_,this.sf,this.uf);return new aE(t.firestore,t.W_,function(t,e){var n=t.Tn.concat([e]);return new Nm(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,e))},e}(uE),fE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.af=n,i.hf=r,i}return Object(_c.c)(e,t),e.prototype.nf=function(t){return new aE(t.firestore,t.W_,Hm(t.Z_,this.af,this.hf))},e}(uE),dE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(_c.c)(e,t),e.prototype.nf=function(t){var e=gE(t,this.type,this.lf,this._f);return new aE(t.firestore,t.W_,function(t,e){return new Nm(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.Z_,e))},e}(uE),pE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(_c.c)(e,t),e.prototype.nf=function(t){var e=gE(t,this.type,this.lf,this._f);return new aE(t.firestore,t.W_,function(t,e){return new Nm(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.Z_,e))},e}(uE);function gE(t,e,n,r){if(n[0]instanceof Nw&&(n[0]=n[0].o_),n[0]instanceof zw)return function(t,e,n,r,i){if(!r)throw new Ud(Vd.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Bm(t);o<a.length;o++){var u=a[o];if(u.field.tt())s.push(cg(e,r.key));else{var c=r.field(u.field);if(Qp(c))throw new Ud(Vd.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.J();throw new Ud(Vd.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new sy(s,i)}(t.Z_,t.firestore.A_,e,n[0].K_,r);var i=TE(t.firestore);return function(t,e,n,r,i,s){var o=t.Tn;if(i.length>o.length)throw new Ud(Vd.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.tt()){if("string"!=typeof c)throw new Ud(Vd.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!qm(t)&&-1!==c.indexOf("/"))throw new Ud(Vd.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(tp.Y(c));if(!rp.ot(l))throw new Ud(Vd.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new rp(l);a.push(cg(e,h))}else{var f=LE(n,r,c);a.push(f)}}return new sy(a,s)}(t.Z_,t.firestore.A_,i,e,n,r)}function mE(t,e,n){if(n instanceof Nw&&(n=n.o_),"string"==typeof n){if(""===n)throw new Ud(Vd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!qm(e)&&-1!==n.indexOf("/"))throw new Ud(Vd.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(tp.Y(n));if(!rp.ot(r))throw new Ud(Vd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return cg(t,new rp(r))}if(n instanceof oE)return cg(t,n.Q_);throw new Ud(Vd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ew(n)+".")}function yE(t,e){if(!Array.isArray(t)||0===t.length)throw new Ud(Vd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ud(Vd.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function vE(t,e,n){if(!n.isEqual(e))throw new Ud(Vd.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function bE(t){if(Fm(t)&&0===t.Tn.length)throw new Ud(Vd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var _E=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Lm(r))||this).firestore=e,i.ef=r,i.type="collection",i}return Object(_c.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Z_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Z_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.ef.q();return t.W()?null:new oE(this.firestore,null,new rp(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.ef)},e}(aE);function wE(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof Nw&&(t=t.o_),yw("collection","path",e),t instanceof Mw){var i=tp.Y.apply(tp,Object(_c.g)([e],n));return ww(i),new _E(t,null,i)}if(!(t instanceof oE||t instanceof _E))throw new Ud(Vd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=tp.Y.apply(tp,Object(_c.g)([t.path],n)).child(tp.Y(e));return ww(s),new _E(t.firestore,null,s)}function EE(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof Nw&&(t=t.o_),1===arguments.length&&(e=Gd.D()),yw("doc","path",e),t instanceof Mw){var i=tp.Y.apply(tp,Object(_c.g)([e],n));return _w(i),new oE(t,null,new rp(i))}if(!(t instanceof oE||t instanceof _E))throw new Ud(Vd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=t.ef.child(tp.Y.apply(tp,Object(_c.g)([e],n)));return _w(s),new oE(t.firestore,t instanceof _E?t.W_:null,new rp(s))}var OE=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(_c.c)(e,t),e.prototype.x_=function(t){return new Rw(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new oE(this.firestore,null,e)},e}(qw);function CE(t,e){return t instanceof Nw&&(t=t.o_),e instanceof Nw&&(e=e.o_),(t instanceof oE||t instanceof _E)&&(e instanceof oE||e instanceof _E)&&t.firestore===e.firestore&&t.path===e.path&&t.W_===e.W_}function SE(t,e){return t instanceof Nw&&(t=t.o_),e instanceof Nw&&(e=e.o_),t instanceof aE&&e instanceof aE&&t.firestore===e.firestore&&Wm(t.Z_,e.Z_)&&t.W_===e.W_}function TE(t){var e=t.b_(),n=vy(t.A_);return new PE(t.A_,!!e.ignoreUndefinedProperties,n)}var xE=/^__.*__$/,IE=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[];return n.push(null!==this.en?new _m(t,this.data,this.en,e):new bm(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Em(t,this.fieldTransforms)),n},t}(),AE=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[new _m(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new Em(t,this.fieldTransforms)),n},t}();function kE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ld()}}var jE=function(){function t(t,e,n,r,i,s){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ff(),this.fieldTransforms=i||[],this.en=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),t.prototype.df=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.wf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.Ef(t),r},t.prototype.Tf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.ff(),r},t.prototype.If=function(t){return this.df({path:void 0,l_:!0})},t.prototype.a_=function(t){return HE(t,this.settings.methodName,this.settings.mf||!1,this.path,this.settings.h_)},t.prototype.contains=function(t){return void 0!==this.en.find(function(e){return t.j(e)})||void 0!==this.fieldTransforms.find(function(e){return t.j(e.field)})},t.prototype.ff=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Ef(this.path.get(t))},t.prototype.Ef=function(t){if(0===t.length)throw this.a_("Document fields must not be empty");if(kE(this.u_)&&xE.test(t))throw this.a_('Document fields cannot begin and end with "__"')},t}(),PE=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||vy(t)}return t.prototype.Af=function(t,e,n,r){return void 0===r&&(r=!1),new jE({u_:t,methodName:e,h_:n,path:np.X(),l_:!1,mf:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function RE(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Af(s.merge||s.mergeFields?2:0,e,n,i);UE("Data must be an object, but it was:",o,r);var a,u,c=FE(r,o);if(s.merge)a=new um(o.en),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=qE(e,f[h],n);if(!o.contains(d))throw new Ud(Vd.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");WE(l,d)||l.push(d)}a=new um(l),u=o.fieldTransforms.filter(function(t){return a.un(t.field)})}else a=null,u=o.fieldTransforms;return new IE(new xm(c),a,u)}function NE(t,e,n,r){var i=t.Af(1,e,n);UE("Data must be an object, but it was:",i,r);var s=[],o=new Im;Gp(r,function(t,r){var a=zE(e,t,n);r instanceof Nw&&(r=r.o_);var u=i.Tf(a);if(r instanceof Tw)s.push(a);else{var c=ME(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new um(s);return new AE(o.hn(),a,i.fieldTransforms)}function DE(t,e,n,r,i,s){var o=t.Af(1,e,n),a=[qE(e,r,n)],u=[i];if(s.length%2!=0)throw new Ud(Vd.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(qE(e,s[c])),u.push(s[c+1]);for(var l=[],h=new Im,f=a.length-1;f>=0;--f)if(!WE(l,a[f])){var d=a[f],p=u[f];p instanceof Nw&&(p=p.o_);var g=o.Tf(d);if(p instanceof Tw)l.push(d);else{var m=ME(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new um(l);return new AE(h.hn(),y,o.fieldTransforms)}function LE(t,e,n,r){return void 0===r&&(r=!1),ME(n,t.Af(r?4:3,e))}function ME(t,e){if(t instanceof Nw&&(t=t.o_),VE(t))return UE("Unsupported field value:",e,t),FE(t,e);if(t instanceof Sw)return function(t,e){if(!kE(e.u_))throw e.a_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.a_(t._methodName+"() is not currently supported inside arrays");var n=t.c_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.l_&&4!==e.u_)throw e.a_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=ME(s[i],e.If(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Nw&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _g(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Zd.fromDate(t);return{timestampValue:wg(e.serializer,n)}}if(t instanceof Zd){var r=new Zd(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:wg(e.serializer,r)}}if(t instanceof Pw)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Rw)return{bytesValue:Eg(e.serializer,t.E_)};if(t instanceof oE){var i=e.t,s=t.firestore.A_;if(!s.isEqual(i))throw e.a_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Sg(t.firestore.A_||e.t,t.Q_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.a_("Unsupported field value: "+Ew(t))}(t,e)}function FE(t,e){var n={};return Kp(t)?e.path&&e.path.length>0&&e.en.push(e.path):Gp(t,function(t,r){var i=ME(r,e.wf(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function VE(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Zd||t instanceof Pw||t instanceof Rw||t instanceof oE||t instanceof Sw)}function UE(t,e,n){if(!VE(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Ew(n);throw e.a_("an object"===r?t+" a custom object":t+" "+r)}}function qE(t,e,n){if(e instanceof Nw&&(e=e.o_),e instanceof $w)return e.j_;if("string"==typeof e)return zE(t,e);throw HE("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var BE=new RegExp("[~\\*/\\[\\]]");function zE(t,e,n){if(e.search(BE)>=0)throw HE("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new($w.bind.apply($w,Object(_c.g)([void 0],e.split("."))))).j_}catch(r){throw HE("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function HE(t,e,n,r,i){var s=r&&!r.W(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Ud(Vd.INVALID_ARGUMENT,(a+=". ")+t+u)}function WE(t,e){return t.some(function(t){return t.isEqual(e)})}var $E=function(){function t(t){this.Mu=t,this.Rf=new Map,this.mutations=[],this.Pf=!1,this.gf=null,this.yf=new Set}return t.prototype.Vf=function(t){return Object(_c.b)(this,void 0,void 0,function(){var e,n=this;return Object(_c.d)(this,function(r){switch(r.label){case 0:if(this.pf(),this.mutations.length>0)throw new Ud(Vd.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(_c.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(_c.d)(this,function(u){switch(u.label){case 0:return n=Fd(t),r=jg(n.serializer)+"/documents",i={documents:e.map(function(t){return xg(n.serializer,t)})},[4,n.Vu("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Md(!!e.found);var n=Ig(t,e.found.name),r=Cg(e.found.updateTime),i=new xm({mapValue:{fields:e.found.fields}});return new jm(n,r,i,{})}(t,e):"missing"in e?function(t,e){Md(!!e.missing),Md(!!e.readTime);var n=Ig(t,e.missing),r=Cg(e.readTime);return new Pm(n,r)}(t,e):Ld()}(n.serializer,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());Md(!!e),a.push(e)}),a)]}})})}(this.Mu,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Pm||t instanceof jm?n.vf(t):Ld()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.tf(t,this.rn(t))),this.yf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.tf(t,this.bf(t)))}catch(t){this.gf=t}this.yf.add(t.toString())},t.prototype.delete=function(t){this.write([new Sm(t,this.rn(t))]),this.yf.add(t.toString())},t.prototype.commit=function(){return Object(_c.b)(this,void 0,void 0,function(){var t,e=this;return Object(_c.d)(this,function(n){switch(n.label){case 0:if(this.pf(),this.gf)throw this.gf;return t=this.Rf,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=rp.st(n);e.mutations.push(new Tm(r,e.rn(r)))}),[4,function(t,e){return Object(_c.b)(this,void 0,void 0,function(){var n,r,i;return Object(_c.d)(this,function(s){switch(s.label){case 0:return n=Fd(t),r=jg(n.serializer)+"/documents",i={writes:e.map(function(t){return Ng(n.serializer,t)})},[4,n.yu("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.Mu,this.mutations)];case 1:return n.sent(),this.Pf=!0,[2]}})})},t.prototype.vf=function(t){var e;if(t instanceof jm)e=t.version;else{if(!(t instanceof Pm))throw Ld();e=Xd.min()}var n=this.Rf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ud(Vd.ABORTED,"Document version changed between two reads.")}else this.Rf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Rf.get(t.toString());return!this.yf.has(t.toString())&&e?hm.updateTime(e):hm.on()},t.prototype.bf=function(t){var e=this.Rf.get(t.toString());if(!this.yf.has(t.toString())&&e){if(e.isEqual(Xd.min()))throw new Ud(Vd.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hm.updateTime(e)}return hm.exists(!0)},t.prototype.write=function(t){this.pf(),this.mutations=this.mutations.concat(t)},t.prototype.pf=function(){},t}(),GE=function(){function t(t,e,n,r){this.di=t,this.Mu=e,this.updateFunction=n,this.Ti=r,this.Sf=5,this.Si=new Sy(this.di,"transaction_retry")}return t.prototype.run=function(){this.Df()},t.prototype.Df=function(){var t=this;this.Si.Bs(function(){return Object(_c.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(_c.d)(this,function(r){return t=new $E(this.Mu),(e=this.Cf(t))&&e.then(function(e){n.di.Ri(function(){return t.commit().then(function(){n.Ti.resolve(e)}).catch(function(t){n.Nf(t)})})}).catch(function(t){n.Nf(t)}),[2]})})})},t.prototype.Cf=function(t){try{var e=this.updateFunction(t);return!ip(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.Nf=function(t){var e=this;this.Sf>0&&this.xf(t)?(this.Sf-=1,this.di.Ri(function(){return e.Df(),Promise.resolve()})):this.Ti.reject(t)},t.prototype.xf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!yp(e)}return!1},t}(),KE=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=Ad.UNAUTHENTICATED,this.clientId=Gd.D(),this.Ff=function(){},this.g=new yy,this.credentials.A(function(t){Pd("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Ff(t)),r.g.resolve()})}return t.prototype.getConfiguration=function(){return Object(_c.b)(this,void 0,void 0,function(){return Object(_c.d)(this,function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,qh:100})]}})})},t.prototype.Of=function(t){var e=this;this.Ff=t,this.g.promise.then(function(){return e.Ff(e.user)})},t.prototype.Mf=function(){if(this.di.Ci)throw new Ud(Vd.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new yy;return this.di.Ni(function(){return Object(_c.b)(t,void 0,void 0,function(){var t,n;return Object(_c.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.kf?[4,this.kf.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.$f?[4,this.$f.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Vy(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function QE(t,e){return Object(_c.b)(this,void 0,void 0,function(){var n,r=this;return Object(_c.d)(this,function(i){switch(i.label){case 0:return t.di.Li(),Pd("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Of(function(n){return t.di.Mi(function(){return Object(_c.b)(r,void 0,void 0,function(){return Object(_c.d)(this,function(t){switch(t.label){case 0:return[4,ab(e.Ou,n)];case 1:return t.sent(),[2]}})})})}),e.persistence.rc(function(){return t.terminate()}),t.$f=e,[2]}})})}function YE(t,e){return Object(_c.b)(this,void 0,void 0,function(){var n,r;return Object(_c.d)(this,function(i){switch(i.label){case 0:return t.di.Li(),[4,ZE(t)];case 1:return n=i.sent(),Pd("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Of(function(n){return t.di.Mi(function(){return function(t,e){return Object(_c.b)(this,void 0,void 0,function(){var n,r;return Object(_c.d)(this,function(i){switch(i.label){case 0:return(n=Fd(t)).di.Li(),Pd("RemoteStore","RemoteStore received new credentials"),r=Rb(n),n.Bu.add(3),[4,Tb(n)];case 1:return i.sent(),r&&n.Ku.set("Unknown"),[4,n.ku.s_(e)];case 2:return i.sent(),n.Bu.delete(3),[4,Sb(n)];case 3:return i.sent(),[2]}})})}(e.$h,n)})}),t.kf=e,[2]}})})}function ZE(t){return Object(_c.b)(this,void 0,void 0,function(){return Object(_c.d)(this,function(e){switch(e.label){case 0:return t.$f?[3,2]:(Pd("FirestoreClient","Using default OfflineComponentProvider"),[4,QE(t,new fw)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}})})}function XE(t){return Object(_c.b)(this,void 0,void 0,function(){return Object(_c.d)(this,function(e){switch(e.label){case 0:return t.kf?[3,2]:(Pd("FirestoreClient","Using default OnlineComponentProvider"),[4,YE(t,new gw)]);case 1:e.sent(),e.label=2;case 2:return[2,t.kf]}})})}function JE(t){return ZE(t).then(function(t){return t.persistence})}function tO(t){return ZE(t).then(function(t){return t.Ou})}function eO(t){return XE(t).then(function(t){return t.$h})}function nO(t){return XE(t).then(function(t){return t.va})}function rO(t){return Object(_c.b)(this,void 0,void 0,function(){var e,n;return Object(_c.d)(this,function(r){switch(r.label){case 0:return[4,XE(t)];case 1:return e=r.sent(),[2,((n=e.Lh).ta=E_.bind(null,e.va),n.sa=C_.bind(null,e.va),n)]}})})}function iO(t,e,n){var r=this;void 0===n&&(n={});var i=new yy;return t.di.Ri(function(){return Object(_c.b)(r,void 0,void 0,function(){var r;return Object(_c.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new mw({next:function(s){e.Ri(function(){return Jb(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Ud(Vd.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Ud(Vd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new r_(Lm(n.path),s,{includeMetadataChanges:!0,ha:!0});return Xb(t,o)},[4,rO(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.di,e,n,i])]}})})}),i.promise}function sO(t,e,n){var r=this;void 0===n&&(n={});var i=new yy;return t.di.Ri(function(){return Object(_c.b)(r,void 0,void 0,function(){var r;return Object(_c.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new mw({next:function(n){e.Ri(function(){return Jb(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Ud(Vd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new r_(n,s,{includeMetadataChanges:!0,ha:!0});return Xb(t,o)},[4,rO(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.di,e,n,i])]}})})}),i.promise}var oO=function(){function t(t,e){this.q_=t,this.Lf=e,this.Bf=[],this.qf=!1,this.Uf=TE(t)}return t.prototype.set=function(t,e,n){this.Qf();var r=aO(t,this.q_),i=xO(r.W_,e,n),s=RE(this.Uf,"WriteBatch.set",r.Q_,i,null!==r.W_,n);return this.Bf=this.Bf.concat(s.tf(r.Q_,hm.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Qf();var s,o=aO(t,this.q_);return e instanceof Nw&&(e=e.o_),s="string"==typeof e||e instanceof $w?DE(this.Uf,"WriteBatch.update",o.Q_,e,n,r):NE(this.Uf,"WriteBatch.update",o.Q_,e),this.Bf=this.Bf.concat(s.tf(o.Q_,hm.exists(!0))),this},t.prototype.delete=function(t){this.Qf();var e=aO(t,this.q_);return this.Bf=this.Bf.concat(new Sm(e.Q_,hm.on())),this},t.prototype.commit=function(){return this.Qf(),this.qf=!0,this.Bf.length>0?this.Lf(this.Bf):Promise.resolve()},t.prototype.Qf=function(){if(this.qf)throw new Ud(Vd.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function aO(t,e){if(t instanceof Nw&&(t=t.o_),t.firestore!==e)throw new Ud(Vd.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var uO=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).q_=e,r}return Object(_c.c)(e,t),e.prototype.get=function(e){var n=this,r=aO(e,this.q_),i=new eE(this.q_);return t.prototype.get.call(this,e).then(function(t){return new Yw(n.q_,i,r.Q_,t.K_,new bO(!1,!1),r.W_)})},e}(function(){function t(t,e){this.q_=t,this.Kf=e,this.Uf=TE(t)}return t.prototype.get=function(t){var e=this,n=aO(t,this.q_),r=new OE(this.q_);return this.Kf.Vf([n.Q_]).then(function(t){if(!t||1!==t.length)return Ld();var i=t[0];if(i instanceof Pm)return new zw(e.q_,r,n.Q_,null,n.W_);if(i instanceof jm)return new zw(e.q_,r,i.key,i,n.W_);throw Ld()})},t.prototype.set=function(t,e,n){var r=aO(t,this.q_),i=xO(r.W_,e,n),s=RE(this.Uf,"Transaction.set",r.Q_,i,null!==r.W_,n);return this.Kf.set(r.Q_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=aO(t,this.q_);return e instanceof Nw&&(e=e.o_),s="string"==typeof e||e instanceof $w?DE(this.Uf,"Transaction.update",o.Q_,e,n,r):NE(this.Uf,"Transaction.update",o.Q_,e),this.Kf.update(o.Q_,s),this},t.prototype.delete=function(t){var e=aO(t,this.q_);return this.Kf.delete(e.Q_),this},t}()),cO=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Qw(t=Ow(t,Gw));var n=hO(t),r=t.b_(),i=new gw;return Kw(n,i,new dw(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Qw(t=Ow(t,Gw));var e=hO(t),n=t.b_(),r=new gw;return Kw(e,r,new pw(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.g_&&!t.y_)throw new Ud(Vd.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new yy;return t.G_.Ni(function(){return Object(_c.b)(e,void 0,void 0,function(){var e;return Object(_c.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(_c.b)(this,void 0,void 0,function(){return Object(_c.d)(this,function(e){switch(e.label){case 0:return Ty.Gs()?[4,Ty.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(ib(t.A_,t.T_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.o_)},t}(),lO=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Wf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Id||(i.jf=e),i}return Object(_c.c)(e,t),Object.defineProperty(e.prototype,"A_",{get:function(){return this.o_.A_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.v_()),t)).merge,this.o_.p_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.v_().host&&Nd("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.di.enqueue(function(){return Object(_c.b)(e,void 0,void 0,function(){var e,n;return Object(_c.d)(this,function(r){switch(r.label){case 0:return[4,JE(t)];case 1:return e=r.sent(),[4,eO(t)];case 2:return n=r.sent(),[2,(e.oc(!0),function(t){var e=Fd(t);return e.Bu.delete(0),Sb(e)}(n))]}})})})}(hO(Ow(this.o_,Gw)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.di.enqueue(function(){return Object(_c.b)(e,void 0,void 0,function(){var e,n;return Object(_c.d)(this,function(r){switch(r.label){case 0:return[4,JE(t)];case 1:return e=r.sent(),[4,eO(t)];case 2:return n=r.sent(),[2,(e.oc(!1),function(t){return Object(_c.b)(this,void 0,void 0,function(){var e;return Object(_c.d)(this,function(n){switch(n.label){case 0:return(e=Fd(t)).Bu.add(0),[4,Tb(e)];case 1:return n.sent(),e.Ku.set("Offline"),[2]}})})}(n))]}})})})}(hO(Ow(this.o_,Gw)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&bw("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Wf.enableMultiTabIndexedDbPersistence(this):this.Wf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Wf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new yy;return t.di.Ri(function(){return Object(_c.b)(e,void 0,void 0,function(){var e;return Object(_c.d)(this,function(r){switch(r.label){case 0:return e=j_,[4,nO(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(hO(Ow(this.o_,Gw)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new mw(e);return t.di.Ri(function(){return Object(_c.b)(n,void 0,void 0,function(){var e;return Object(_c.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Fd(t).Zu.add(e),e.next()},[4,rO(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.di.Ri(function(){return Object(_c.b)(n,void 0,void 0,function(){var e;return Object(_c.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Fd(t).Zu.delete(e)},[4,rO(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(hO(t=Ow(t,Gw)),by(e)?e:{next:e})}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.jf)throw new Ud(Vd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.jf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new SO(this,wE(this.o_,t))}catch(t){throw mO(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new gO(this,EE(this.o_,t))}catch(t){throw mO(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new EO(this,function(t,e){if(t=Ow(t,Mw),yw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ud(Vd.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new aE(t,null,function(t){return new Nm(tp.X(),t)}(e))}(this.o_,t))}catch(t){throw mO(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new yy;return t.di.Ri(function(){return Object(_c.b)(n,void 0,void 0,function(){var n;return Object(_c.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return XE(t).then(function(t){return t.Mu})}(t)];case 1:return n=i.sent(),new GE(t.di,n,e,r).run(),[2]}})})}),r.promise}(hO(t),function(n){return e(new uO(t,n))})}(this.o_,function(n){return t(new dO(e,n))})},e.prototype.batch=function(){var t=this;return hO(this.o_),new pO(new oO(this.o_,function(e){return iE(t.o_,e)}))},e}(Nw);function hO(t){return t.z_||fO(t),t.z_.Mf(),t.z_}function fO(t){var e=t.b_(),n=function(t,e,n){return new xd(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.A_,t.T_,e);t.z_=new KE(t.R_,t.G_,n)}var dO=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(_c.c)(e,t),e.prototype.get=function(t){var e=this,n=TO(t);return this.o_.get(n).then(function(t){return new _O(e.q_,t)})},e.prototype.set=function(t,e,n){var r=TO(t);return n?(vw("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=TO(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(_c.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=TO(t);return this.o_.delete(e),this},e}(Nw),pO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_c.c)(e,t),e.prototype.set=function(t,e,n){var r=TO(t);return n?(vw("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=TO(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(_c.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=TO(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(Nw),gO=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new Bw(e),r}return Object(_c.c)(e,t),e.Gf=function(t,n,r){if(t.length%2!=0)throw new Ud(Vd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new oE(n.o_,r,new rp(t)))},e.B_=function(t,n,r){return new e(n,new oE(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new SO(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new SO(this.firestore,wE(this.o_,t))}catch(t){throw mO(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Nw&&(t=t.o_),t instanceof oE&&CE(this.o_,t)},e.prototype.set=function(t,e){e=vw("DocumentReference.set",e);try{return function(t,e,n){t=Ow(t,oE);var r=Ow(t.firestore,Gw),i=xO(t.W_,e,n);return iE(r,RE(TE(r),"setDoc",t.Q_,i,null!==t.W_,n).tf(t.Q_,hm.on()))}(this.o_,t,e)}catch(t){throw mO(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?nE(this.o_,t):nE.apply(void 0,Object(_c.g)([this.o_,t,e],n))}catch(t){throw mO(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return iE(Ow((t=this.o_).firestore,Gw),[new Sm(t.Q_,hm.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=yO(e),i=vO(e,function(e){return new _O(t.firestore,new Yw(t.firestore.o_,t.U_,e.Q_,e.K_,e.metadata,t.o_.W_))});return rE(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ow(t,oE);var e=Ow(t.firestore,Gw),n=hO(e),r=new eE(e);return function(t,e){var n=this,r=new yy;return t.di.Ri(function(){return Object(_c.b)(n,void 0,void 0,function(){var n;return Object(_c.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(_c.b)(this,void 0,void 0,function(){var r,i,s;return Object(_c.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Fd(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Bc.cs(t,e)})}(t,e)];case 1:return(r=o.sent())instanceof jm?n.resolve(r):r instanceof Pm?n.resolve(null):n.reject(new Ud(Vd.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),s=Vy(i,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,tO(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.Q_).then(function(n){return new Yw(e,r,t.Q_,n,new bO(n instanceof jm&&n.an,!0),t.W_)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=Ow(t,oE);var e=Ow(t.firestore,Gw);return iO(hO(e),t.Q_,{source:"server"}).then(function(n){return sE(e,t,n)})}(this.o_):function(t){t=Ow(t,oE);var e=Ow(t.firestore,Gw);return iO(hO(e),t.Q_).then(function(n){return sE(e,t,n)})}(this.o_)).then(function(t){return new _O(e.firestore,new Yw(e.firestore.o_,e.U_,t.Q_,t.K_,t.metadata,e.o_.W_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(Nw);function mO(t,e,n){return t.message=t.message.replace(e,n),t}function yO(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!by(r))return r}return{}}function vO(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=by(t[0])?t[0]:by(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var bO=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),_O=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(_c.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new gO(this.q_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return tE(this.o_,t.o_)},e}(Nw),wO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_c.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(_O),EO=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new Bw(e),r}return Object(_c.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,cE(this.o_,function(t,e,n){var r=e,i=Ww("where",t);return new lE(i,r,n)}(t,n,r)))}catch(t){throw mO(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,cE(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=Ww("orderBy",t);return new hE(r,n)}(t,n)))}catch(t){throw mO(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,cE(this.o_,function(t){return Cw("limit",t),new fE("limit",t,"F")}(t)))}catch(t){throw mO(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,cE(this.o_,function(t){return Cw("limitToLast",t),new fE("limitToLast",t,"L")}(t)))}catch(t){throw mO(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,cE(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dE("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw mO(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,cE(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dE("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw mO(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,cE(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pE("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw mO(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,cE(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pE("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw mO(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return SE(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ow(t,aE);var e=Ow(t.firestore,Gw),n=hO(e),r=new eE(e);return function(t,e){var n=this,r=new yy;return t.di.Ri(function(){return Object(_c.b)(n,void 0,void 0,function(){var n;return Object(_c.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(_c.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(_c.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,pb(t,e,!0)];case 1:return r=c.sent(),i=new v_(e,r.Kc),s=i.bh(r.documents),o=i.Zn(s,!1),n.resolve(o.snapshot),[3,3];case 2:return a=c.sent(),u=Vy(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,tO(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.Z_).then(function(n){return new Xw(e,r,t,n)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=Ow(t,aE);var e=Ow(t.firestore,Gw),n=hO(e),r=new eE(e);return sO(n,t.Z_,{source:"server"}).then(function(n){return new Xw(e,r,t,n)})}(this.o_):function(t){t=Ow(t,aE);var e=Ow(t.firestore,Gw),n=hO(e),r=new eE(e);return bE(t.Z_),sO(n,t.Z_).then(function(n){return new Xw(e,r,t,n)})}(this.o_)).then(function(t){return new CO(e.firestore,new Xw(e.firestore.o_,e.U_,e.o_,t.J_))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=yO(e),i=vO(e,function(e){return new CO(t.firestore,new Xw(t.firestore.o_,t.U_,t.o_,e.J_))});return rE(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(Nw),OO=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(_c.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new wO(this.q_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(Nw),CO=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(_c.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new EO(this.q_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map(function(e){return new wO(t.q_,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map(function(t){return new OO(e.q_,t)})},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach(function(r){t.call(e,new wO(n.q_,r))})},e.prototype.isEqual=function(t){return tE(this.o_,t.o_)},e}(Nw),SO=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(_c.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new gO(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new gO(this.firestore,void 0===t?EE(this.o_):EE(this.o_,t))}catch(t){throw mO(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ow(t.firestore,Gw),r=EE(t),i=xO(t.W_,e);return iE(n,RE(TE(t.firestore),"addDoc",r.Q_,i,null!==t.W_,{}).tf(r.Q_,hm.exists(!1))).then(function(){return r})}(this.o_,t).then(function(t){return new gO(e.firestore,t)})},e.prototype.isEqual=function(t){return CE(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(EO);function TO(t){return t instanceof Nw&&(t=t.o_),Ow(t,oE)}function xO(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var IO,AO=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new($w.bind.apply($w,Object(_c.g)([void 0],e))))||this}return Object(_c.c)(e,t),e.documentId=function(){return new e(np.et().J())},e.prototype.isEqual=function(t){return t instanceof Nw&&(t=t.o_),t instanceof $w&&this.o_.j_.isEqual(t.j_)},e}(Nw),kO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_c.c)(e,t),e.serverTimestamp=function(){var t=new Iw("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Tw("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Aw("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new kw("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new jw("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(Nw),jO={Firestore:lO,GeoPoint:Pw,Timestamp:Zd,Blob:Uw,Transaction:dO,WriteBatch:pO,DocumentReference:gO,DocumentSnapshot:_O,Query:EO,QueryDocumentSnapshot:wO,QuerySnapshot:CO,CollectionReference:SO,FieldPath:AO,FieldValue:kO,setLogLevel:function(t){kd.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function PO(t,e){return e?Zt(()=>t,e):Zt(()=>t)}(function(t,e){t.INTERNAL.registerComponent(new Td.a("firestore",function(t){return function(t,e){return new lO(t,new Gw(t,e),new cO)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},jO)))})(IO=wc.a),IO.registerVersion("@firebase/firestore","2.0.5");var RO=n("tf+s");const NO=new r.q("angularfire2.auth.use-emulator"),DO=new r.q("angularfire2.auth.settings"),LO=new r.q("angularfire2.auth.tenant-id"),MO=new r.q("angularfire2.auth.langugage-code"),FO=new r.q("angularfire2.auth.use-device-language"),VO=new r.q("angularfire.auth.persistence");let UO=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new vc.d(i),f=Object(vc.h)(h),d=new pt.a,p=Object(ft.a)(void 0).pipe(Object(Di.b)(h.outsideAngular),Zt(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Pt.a)(()=>Object(vc.g)(t,i,e)),Object(Pt.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(vc.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Vi({bufferSize:1,refCount:!1}));if(R(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(ft.a)(null);else{p.pipe(de()).subscribe();const t=p.pipe(Zt(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Vi({bufferSize:1,refCount:!1})),e=t=>new Ot.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Zt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Zt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(PO(n),Object(RO.a)(h.outsideAngular),Object(Di.b)(h.insideAngular)),this.user=t.pipe(PO(r),Object(RO.a)(h.outsideAngular),Object(Di.b)(h.insideAngular)),this.idToken=this.user.pipe(Zt(t=>t?Object(dt.a)(t.getIdToken()):Object(ft.a)(null))),this.idTokenResult=this.user.pipe(Zt(t=>t?Object(dt.a)(t.getIdTokenResult()):Object(ft.a)(null))),this.credential=Object(as.a)(t,d,this.authState.pipe(Dt(t=>!t))).pipe(Object(Pt.a)(t=>(null==t?void 0:t.user)?t:null),Object(RO.a)(h.outsideAngular),Object(Di.b)(h.insideAngular))}return Object(vc.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(vc.c),r.Rb(vc.b,8),r.Rb(r.B),r.Rb(r.z),r.Rb(NO,8),r.Rb(DO,8),r.Rb(LO,8),r.Rb(MO,8),r.Rb(FO,8),r.Rb(VO,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(vc.c),Object(r.Rb)(vc.b,8),Object(r.Rb)(r.B),Object(r.Rb)(r.z),Object(r.Rb)(NO,8),Object(r.Rb)(DO,8),Object(r.Rb)(LO,8),Object(r.Rb)(MO,8),Object(r.Rb)(FO,8),Object(r.Rb)(VO,8))},token:t,providedIn:"any"}),t})();function qO(t,e){return function(t,e=Oi.b){return new Ot.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function BO(t,e){return qO(t,e).pipe(Object(Pt.a)(t=>({payload:t,type:"query"})))}function zO(t,e){return BO(t,e).pipe(ie(void 0),ji(),Object(Pt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function HO(t,e,n){return zO(t,n).pipe(se((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return WO(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return WO(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return WO(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new wi(void 0,void 0)),Object(Pt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function WO(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function $O(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(vc.e)(UO,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class GO{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=zO(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Pt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(ie(void 0),ji(),Dt(([t,e])=>e.length>0||!t),Object(Pt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(se((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=$O(t);return HO(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return BO(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Pt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(dt.a)(this.query.get(t)).pipe(Object(Di.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new KO(this.ref.doc(t),this.afs)}}class KO{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=tC(n,e);return new GO(r,i,this.afs)}snapshotChanges(){return qO(this.ref,this.afs.schedulers.outsideAngular).pipe(ie(void 0),ji(),Object(Pt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Pt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(dt.a)(this.ref.get(t)).pipe(Object(Di.b)(this.afs.schedulers.insideAngular))}}class QO{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?zO(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Pt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Dt(t=>t.length>0),this.afs.keepUnstableUntilFirst):zO(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(se((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=$O(t);return HO(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return BO(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Pt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(dt.a)(this.query.get(t)).pipe(Object(Di.b)(this.afs.schedulers.insideAngular))}}const YO=new r.q("angularfire2.enableFirestorePersistence"),ZO=new r.q("angularfire2.firestore.persistenceSettings"),XO=new r.q("angularfire2.firestore.settings"),JO=new r.q("angularfire2.firestore.use-emulator");function tC(t,e=(t=>t)){return{query:e(t),ref:t}}let eC=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new vc.d(s),this.keepUnstableUntilFirst=Object(vc.h)(this.schedulers);const c=Object(vc.g)(t,s,e);!bc.a.auth&&u&&Object(vc.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(vc.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!R(i)){const e=()=>{try{return Object(dt.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(ft.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(ft.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=tC(n,e),s=this.schedulers.ngZone.run(()=>r);return new GO(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new QO(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new KO(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(vc.c),r.Rb(vc.b,8),r.Rb(YO,8),r.Rb(XO,8),r.Rb(r.B),r.Rb(r.z),r.Rb(ZO,8),r.Rb(JO,8),r.Rb(NO,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(vc.c),Object(r.Rb)(vc.b,8),Object(r.Rb)(YO,8),Object(r.Rb)(XO,8),Object(r.Rb)(r.B),Object(r.Rb)(r.z),Object(r.Rb)(ZO,8),Object(r.Rb)(JO,8),Object(r.Rb)(NO,8))},token:t,providedIn:"any"}),t})(),nC=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:YO,useValue:!0},{provide:ZO,useValue:e}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[eC]}),t})(),rC=(()=>{class t{constructor(t){this.db=t,this.goodsList=this.db.collection("/goodsCollection").valueChanges(),this.purchaseOrder=this.db.collection("/orderCollection").valueChanges()}getGoodsList(){return console.log(this.goodsList),this.goodsList}addPurchaseOrderDB(t,e){this.db.collection("orderCollection").doc(t).set(e),console.log("store working!")}getPurchaseOrder(){return this.purchaseOrder}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(eC))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function iC(t,e){if(1&t){const t=r.Ob();r.Nb(0,"div",5),r.Nb(1,"p",6),r.lc(2),r.Mb(),r.Lb(3,"img",7),r.Lb(4,"br"),r.Nb(5,"div",8),r.Nb(6,"p",9),r.lc(7),r.Mb(),r.Nb(8,"button",10),r.Ub("click",function(){r.cc(t);const n=e.index;return r.Wb().plusone(n)}),r.Lb(9,"img",11),r.Mb(),r.Nb(10,"button",12),r.Ub("click",function(){r.cc(t);const n=e.index;return r.Wb().minusone(n)}),r.Lb(11,"img",13),r.Mb(),r.Mb(),r.Lb(12,"br"),r.Mb()}if(2&t){const t=e.$implicit;r.Ab(2),r.mc(t.goods_name),r.Ab(1),r.ac("src",t.img_src,r.dc),r.Ab(4),r.mc(t.quant)}}let sC=(()=>{class t{constructor(t,e){this.db=t,this.poService=e,this.goodsList=[],this.purchaseOrder={total_price:0,item_list:[]},this.goods_name="",this.img_src="",this.img_id="",this.price=0,this.total_price=0,this.purchaseOrderId="first_purchase",this.poService.getGoodsList().subscribe(t=>{this.goodsList=t})}ngOnInit(){}plusone(t){this.goodsList[t].quant+=1}minusone(t){this.goodsList[t].quant>0&&(this.goodsList[t].quant-=1)}createPurchaseOrder(){this.goodsList.forEach(t=>{this.total_price+=t.price*t.quant}),this.purchaseOrder={total_price:this.total_price,item_list:this.goodsList},console.log(this.purchaseOrder)}serviceTest(){this.poService.addPurchaseOrderDB(this.purchaseOrderId,this.purchaseOrder)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(eC),r.Kb(rC))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-shop"]],decls:7,vars:1,consts:[["class","shop-item",4,"ngFor","ngForOf"],[1,"checkout"],["routerLink","/detail-component",1,"circle",3,"click"],[1,"cart",3,"click"],["src","../assets/images/cart.jpg","width","35","height","35"],[1,"shop-item"],["id","title"],["width","400","height","550",1,"image",3,"src"],[1,"quantity"],["id","size"],[1,"plus",3,"click"],["src","../assets/images/plus.png","width","","height","35"],[1,"minus",3,"click"],["src","../assets/images/minus.png","width","35","height","35"]],template:function(t,e){1&t&&(r.kc(0,iC,13,3,"div",0),r.Lb(1,"br"),r.Nb(2,"a",1),r.Nb(3,"button",2),r.Ub("click",function(){return e.serviceTest()}),r.lc(4," CHECK OUT "),r.Mb(),r.Nb(5,"button",3),r.Ub("click",function(){return e.createPurchaseOrder()}),r.Lb(6,"img",4),r.Mb(),r.Mb()),2&t&&r.Zb("ngForOf",e.goodsList)},directives:[k,Wr],styles:["*[_ngcontent-%COMP%]{border:0 solid #000}.shop-item[_ngcontent-%COMP%]{display:inline-block;margin-left:3vw}.cart[_ngcontent-%COMP%], .circle[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0;height:100px;width:100px;background-color:#3633dc;border:none;color:#fff;border-radius:50%;margin-right:50px;margin-bottom:50px;transition:all .3s ease 0s}.cart[_ngcontent-%COMP%]{right:150px}.cart[_ngcontent-%COMP%]:hover, .circle[_ngcontent-%COMP%]:hover{background-color:#ecd60b}#title[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:500;font-size:1.5vw;margin-bottom:10px}.quantity[_ngcontent-%COMP%]{display:inline-flex;width:100%;height:100px}#size[_ngcontent-%COMP%]{font-size:2vw;text-transform:uppercase;font-weight:500;width:100%;margin:auto}button[_ngcontent-%COMP%]{background-color:#505050;border-radius:10%;margin-left:.5vw;color:#fff;width:50px;height:50px;margin-top:auto;margin-bottom:auto;transition:all .3 ease 0s}button[_ngcontent-%COMP%]:hover{background-color:#929292}"]}),t})();var oC=n("XoHu");function aC(t,e){return new Ot.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(dt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const uC=new r.q("NgValueAccessor"),cC={provide:uC,useExisting:Object(r.U)(()=>lC),multi:!0};let lC=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.zb([cC])]}),t})();const hC={provide:uC,useExisting:Object(r.U)(()=>dC),multi:!0},fC=new r.q("CompositionEventMode");let dC=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l),r.Kb(fC,8))},t.\u0275dir=r.Fb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Ub("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.zb([hC])]}),t})();function pC(t){return null==t||0===t.length}function gC(t){return null!=t&&"number"==typeof t.length}const mC=new r.q("NgValidators"),yC=new r.q("NgAsyncValidators"),vC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bC{static min(t){return e=>{if(pC(e.value)||pC(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(pC(e.value)||pC(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return pC(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return pC(t.value)||vC.test(t.value)?null:{email:!0}}static minLength(t){return e=>pC(e.value)||!gC(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>gC(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return bC.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(pC(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(_C);return 0==e.length?null:function(t){return EC(OC(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(_C);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(vt.a)(e))return aC(e,null);if(Object(oC.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return aC(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return aC(t=1===t.length&&Object(vt.a)(t[0])?t[0]:t,null).pipe(Object(Pt.a)(t=>e(...t)))}return aC(t,null)}(OC(t,e).map(wC)).pipe(Object(Pt.a)(EC))}}}function _C(t){return null!=t}function wC(t){const e=Object(r.sb)(t)?Object(dt.a)(t):t;return Object(r.rb)(e),e}function EC(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function OC(t,e){return e.map(e=>e(t))}function CC(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function SC(t){return null!=t?bC.compose(CC(t)):null}function TC(t){return null!=t?bC.composeAsync(CC(t)):null}function xC(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let IC=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=SC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=TC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t}),t})(),AC=(()=>{class t extends IC{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return kC(e||t)},t.\u0275dir=r.Fb({type:t,features:[r.xb]}),t})();const kC=r.Pb(AC);class jC extends IC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let PC=(()=>{class t extends class{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(jC,2))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),t})();const RC={provide:uC,useExisting:Object(r.U)(()=>NC),multi:!0};let NC=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([RC])]}),t})();const DC={provide:uC,useExisting:Object(r.U)(()=>MC),multi:!0};let LC=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),MC=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(jC),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l),r.Kb(LC),r.Kb(r.r))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.zb([DC])]}),t})();const FC={provide:uC,useExisting:Object(r.U)(()=>VC),multi:!0};let VC=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([FC])]}),t})();const UC={provide:uC,useExisting:Object(r.U)(()=>qC),multi:!0};let qC=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([UC])]}),t})();const BC={provide:uC,useExisting:Object(r.U)(()=>zC),multi:!0};let zC=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([BC])]}),t})();function HC(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function WC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const $C=[lC,VC,NC,qC,zC,MC];function GC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const KC="VALID",QC="INVALID",YC="PENDING",ZC="DISABLED";function XC(t){return(nS(t)?t.validators:t)||null}function JC(t){return Array.isArray(t)?SC(t):t||null}function tS(t,e){return(nS(e)?e.asyncValidators:t)||null}function eS(t){return Array.isArray(t)?TC(t):t||null}function nS(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class rS{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=JC(this._rawValidators),this._composedAsyncValidatorFn=eS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===KC}get invalid(){return this.status===QC}get pending(){return this.status==YC}get disabled(){return this.status===ZC}get enabled(){return this.status!==ZC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=JC(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=eS(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=YC,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ZC,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=KC,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==KC&&this.status!==YC||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ZC:KC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=YC,this._hasOwnPendingAsyncValidator=!0;const e=wC(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof sS?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof oS&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?ZC:this.errors?QC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(YC)?YC:this._anyControlsHaveStatus(QC)?QC:KC}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){nS(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class iS extends rS{constructor(t=null,e,n){super(XC(e),tS(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){GC(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){GC(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class sS extends rS{constructor(t,e,n){super(XC(e),tS(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof iS?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class oS extends rS{constructor(t,e,n){super(XC(e),tS(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof iS?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const aS={provide:jC,useExisting:Object(r.U)(()=>cS)},uS=(()=>Promise.resolve(null))();let cS=(()=>{class t extends jC{constructor(t,e,n,i){super(),this.control=new iS,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===dC?n=t:(e=t,$C.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var t,e;(function(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(xC(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(xC(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);{const n=()=>t.updateValueAndValidity();HC(e._rawValidators,n),HC(e._rawAsyncValidators,n)}})(t=this.control,e=this),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&WC(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&WC(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){uS.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;uS.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(AC,9),r.Kb(mC,10),r.Kb(yC,10),r.Kb(uC,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.zb([aS]),r.xb,r.yb]}),t})();const lS=new r.q("NgModelWithFormControlWarning");let hS=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),fS=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new sS(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new iS(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new oS(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof iS||t instanceof sS||t instanceof oS?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),dS=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[LC],imports:[hS]}),t})(),pS=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:lS,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[fS,LC],imports:[hS]}),t})();function gS(t,e){if(1&t&&(r.Nb(0,"div",7),r.Nb(1,"div",7),r.Nb(2,"p",8),r.lc(3),r.Mb(),r.Mb(),r.Lb(4,"img",9),r.Mb()),2&t){const t=e.$implicit;r.Ab(3),r.oc("",t.goods_name," | ",t.quant,""),r.Ab(1),r.ac("src",t.img_src,r.dc)}}function mS(t,e){if(1&t&&(r.Nb(0,"div",4),r.Nb(1,"p",5),r.lc(2),r.Mb(),r.kc(3,gS,5,3,"div",6),r.Mb()),2&t){const t=e.$implicit;r.Ab(2),r.nc("Total Price: ",t.total_price,""),r.Ab(1),r.Zb("ngForOf",t.item_list)}}const yS=[{path:"home-component",component:pi},{path:"design-component",component:gc},{path:"computer-component",component:mc},{path:"shop-component",component:sC},{path:"contact-component",component:(()=>{class t{constructor(t){this.db=t,this.contacts=[],this.name="",this.email="",this.information="",this.id="",this.db.collection("/contactCollection").valueChanges().subscribe(t=>{this.contacts=t})}storeContact(){this.db.collection("contactCollection").doc(this.id).set({name:this.name,timestamp:new Date,email:this.email,information:this.information}),console.log("store working!"),this.id="",this.name="",this.email="",this.information=""}deleteContact(){this.db.collection("contactCollection").doc(this.id).delete()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(eC))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-contact"]],decls:32,vars:4,consts:[[1,"display"],["id","body"],[1,"title"],["type","text",1,"textname",3,"ngModel","ngModelChange"],["cols","30","rows","10",1,"information",3,"ngModel","ngModelChange"],[3,"click"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.Nb(2,"p"),r.lc(3,"Hi, "),r.Lb(4,"br"),r.lc(5," please contact me "),r.Lb(6,"br"),r.lc(7,"for any question or "),r.Lb(8,"br"),r.lc(9,"freelance work! "),r.Mb(),r.Mb(),r.Nb(10,"div",2),r.Nb(11,"label"),r.lc(12,"Name: "),r.Mb(),r.Nb(13,"input",3),r.Ub("ngModelChange",function(t){return e.id=t}),r.Mb(),r.Lb(14,"br"),r.Nb(15,"label"),r.lc(16,"Phone#: "),r.Mb(),r.Nb(17,"input",3),r.Ub("ngModelChange",function(t){return e.name=t}),r.Mb(),r.Lb(18,"br"),r.Nb(19,"label"),r.lc(20," Email: "),r.Mb(),r.Nb(21,"input",3),r.Ub("ngModelChange",function(t){return e.email=t}),r.Mb(),r.Lb(22,"br"),r.Nb(23,"label"),r.lc(24," Information: "),r.Mb(),r.Lb(25,"br"),r.Nb(26,"textarea",4),r.Ub("ngModelChange",function(t){return e.information=t}),r.Mb(),r.Lb(27,"br"),r.Nb(28,"button",5),r.Ub("click",function(){return e.storeContact()}),r.lc(29,"Submit"),r.Mb(),r.Nb(30,"button",5),r.Ub("click",function(){return e.deleteContact()}),r.lc(31,"Delete"),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.Ab(13),r.Zb("ngModel",e.id),r.Ab(4),r.Zb("ngModel",e.name),r.Ab(4),r.Zb("ngModel",e.email),r.Ab(5),r.Zb("ngModel",e.information))},directives:[dC,PC,cS],styles:['@import url("https://fonts.googleapis.com/css?family=Open+Sans&display=swap");*[_ngcontent-%COMP%]{font-family:OpenSans,sans-serif;padding:30px;display:inline-block;border:0 solid #000}.display[_ngcontent-%COMP%]{display:flex;justify-content:center}#body[_ngcontent-%COMP%]{font-size:4vw;font-weight:1000;text-transform:uppercase;position:relative;letter-spacing:.2vw;line-height:6vw;font-style:italic;margin-right:100px}.textname[_ngcontent-%COMP%]{background:transparent;border:none;border-bottom:1px solid #000;padding:0;font-size:.9vw}.title[_ngcontent-%COMP%]{margin-left:30px;font-size:2vw;font-weight:800;letter-spacing:.05vw;border:2px solid #000}.title[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{text-transform:uppercase}button[_ngcontent-%COMP%]{color:#fff;padding:9px 25px;background-color:#3633dc;border:none;border-radius:20px;cursor:pointer;transition:all .3s ease 0s;margin-left:20px;font-size:.7vw}button[_ngcontent-%COMP%]:hover{background-color:#ecd60b}.information[_ngcontent-%COMP%]{border:1px solid #000;margin-left:30px;font-size:30px;margin-right:30px;height:200px;width:400px;padding:0 .4em .4em 0}']}),t})()},{path:"detail-component",component:(()=>{class t{constructor(t){this.poService=t,this.purchaseOrder=[],this.poService.getPurchaseOrder().subscribe(t=>{console.log("this is : "+t),this.purchaseOrder=t})}ngOnInit(){}getDetail(){console.log(this.poService.getPurchaseOrder())}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(rC))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-detail"]],features:[r.zb([rC])],decls:6,vars:1,consts:[["class","quantity",4,"ngFor","ngForOf"],[1,"shop"],["routerLink","/shop-component",1,"circle"],[1,"checkout",3,"click"],[1,"quantity"],["id","price"],["class","header",4,"ngFor","ngForOf"],[1,"header"],["id","name"],["width","300","height","450",1,"image",3,"src"]],template:function(t,e){1&t&&(r.kc(0,mS,4,2,"div",0),r.Nb(1,"a",1),r.Nb(2,"button",2),r.lc(3," BACK "),r.Mb(),r.Nb(4,"button",3),r.Ub("click",function(){return e.getDetail()}),r.lc(5," CHECK OUT "),r.Mb(),r.Mb()),2&t&&r.Zb("ngForOf",e.purchaseOrder)},directives:[k,Wr],styles:[".quantity[_ngcontent-%COMP%]{display:inline-flex;width:100%;height:100px;margin-left:30px}.checkout[_ngcontent-%COMP%], .circle[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0;height:100px;width:100px;background-color:#3633dc;border:none;color:#fff;border-radius:50%;margin-right:50px;margin-bottom:50px}.circle[_ngcontent-%COMP%]:hover{background-color:#4063d3}.checkout[_ngcontent-%COMP%]{right:150px}#name[_ngcontent-%COMP%]{text-transform:uppercase;font-size:1.5vw;margin:0}#name[_ngcontent-%COMP%], #price[_ngcontent-%COMP%]{font-weight:500}#price[_ngcontent-%COMP%]{position:fixed;bottom:0;right:190px}#size[_ngcontent-%COMP%]{font-size:2vw;text-transform:uppercase;font-weight:500;width:100%;margin:auto}"]}),t})()},{path:"calvinhacks",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-calvinhacks"]],decls:13,vars:0,consts:[["src","../../../../assets/images/cover.png","width","1500px","height","600",1,"main_img"],["id","title"],[1,"row"],[1,"column"],["src","../../../../assets/images/hacks2.png",2,"width","100%"],["src","../../../../assets/images/hacks-02.png",2,"width","100%"],["src","../../../../assets/images/hacks-01.png",2,"width","100%"]],template:function(t,e){1&t&&(r.Lb(0,"img",0),r.Nb(1,"h1",1),r.lc(2,"Calvin Hacks"),r.Mb(),r.Nb(3,"p"),r.lc(4,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Tortor consequat id porta nibh venenatis cras sed felis. Amet nisl purus in mollis nunc. Neque ornare aenean euismod elementum nisi quis eleifend quam adipiscing. Blandit libero volutpat sed cras ornare arcu dui vivamus. Amet consectetur adipiscing elit ut aliquam. Purus faucibus ornare suspendisse sed nisi lacus sed viverra. Etiam tempor orci eu lobortis elementum nibh tellus. Donec ultrices tincidunt arcu non sodales neque sodales ut etiam. Vulputate enim nulla aliquet porttitor lacus luctus accumsan tortor. Eget mauris pharetra et ultrices neque ornare aenean. Tellus id interdum velit laoreet id donec ultrices. Nulla at volutpat diam ut. Volutpat sed cras ornare arcu dui vivamus arcu."),r.Mb(),r.Nb(5,"div",2),r.Nb(6,"div",3),r.Lb(7,"img",4),r.Mb(),r.Nb(8,"div",3),r.Lb(9,"img",5),r.Mb(),r.Nb(10,"div",3),r.Lb(11,"img",6),r.Mb(),r.Mb(),r.Lb(12,"br"))},styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.main_img[_ngcontent-%COMP%]{margin-top:50px;display:block;margin-left:auto;margin-right:auto;object-fit:cover}#title[_ngcontent-%COMP%]{font-size:3vw;letter-spacing:1vw;text-transform:uppercase}#title[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center}p[_ngcontent-%COMP%]{margin-left:8vw;margin-right:8vw;font-size:1.2vw;font-weight:100}.row[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin-bottom:50px}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-left:10%;margin-right:10%}.column[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{padding:0 4px}.column[_ngcontent-%COMP%]{flex:20%;max-width:100%}.column[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:8px;vertical-align:middle;width:100%}"]}),t})()},{path:"mkainos",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-mkainos"]],decls:9,vars:0,consts:[["src","../../../../assets/images/banner.png","width","1500px","height","600",1,"main_img"],["id","title"],[1,"row"],[1,"column"],["src","../../../../assets/images/hoodie_black.png",2,"width","100%"]],template:function(t,e){1&t&&(r.Lb(0,"img",0),r.Nb(1,"h1",1),r.lc(2,"Mkainos"),r.Mb(),r.Nb(3,"p"),r.lc(4,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Tortor consequat id porta nibh venenatis cras sed felis. Amet nisl purus in mollis nunc. Neque ornare aenean euismod elementum nisi quis eleifend quam adipiscing. Blandit libero volutpat sed cras ornare arcu dui vivamus. Amet consectetur adipiscing elit ut aliquam. Purus faucibus ornare suspendisse sed nisi lacus sed viverra. Etiam tempor orci eu lobortis elementum nibh tellus. Donec ultrices tincidunt arcu non sodales neque sodales ut etiam. Vulputate enim nulla aliquet porttitor lacus luctus accumsan tortor. Eget mauris pharetra et ultrices neque ornare aenean. Tellus id interdum velit laoreet id donec ultrices. Nulla at volutpat diam ut. Volutpat sed cras ornare arcu dui vivamus arcu."),r.Mb(),r.Nb(5,"div",2),r.Nb(6,"div",3),r.Lb(7,"img",4),r.Mb(),r.Mb(),r.Lb(8,"br"))},styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.main_img[_ngcontent-%COMP%]{margin-top:50px;display:block;margin-left:auto;margin-right:auto;max-width:100%}#title[_ngcontent-%COMP%]{font-size:3vw;letter-spacing:1vw;text-transform:uppercase}#title[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center}p[_ngcontent-%COMP%]{margin-left:8vw;margin-right:8vw;font-size:1.2vw;font-weight:100}.row[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin-bottom:50px}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-left:30%;margin-right:30%}.column[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{padding:0 4px}.column[_ngcontent-%COMP%]{flex:20%;max-width:100%}.column[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:8px;vertical-align:middle;width:100%}"]}),t})()},{path:"sushi",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-sushi"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Nb(0,"p"),r.lc(1,"sushi works!"),r.Mb())},styles:[""]}),t})()},{path:"card",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-card"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Nb(0,"p"),r.lc(1,"card works!"),r.Mb())},styles:[""]}),t})()},{path:"link",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-link"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Nb(0,"p"),r.lc(1,"link works!"),r.Mb())},styles:[""]}),t})()},{path:"travel",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-travel"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Nb(0,"p"),r.lc(1,"travel works!"),r.Mb())},styles:[""]}),t})()},{path:"**",component:pi}];let vS=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[si.forRoot(yS)],si]}),t})(),bS=(()=>{class t{constructor(){this.title="Portfolio"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-root"]],decls:21,vars:0,consts:[[1,"logoheader"],["routerLink","/home-component"],["src","../assets/images/logo.png","alt","LOGO GOES HERE","width","400","height","50",1,"logo"],[1,"nav_links"],["routerLink","/design-component","routerLinkActive","active",1,"design"],["routerLink","/computer-component","routerLinkActive","active",1,"computer"],["routerLink","/shop-component","routerLinkActive","active",1,"shop"],["routerLink","/contact-component",1,"cta"]],template:function(t,e){1&t&&(r.Nb(0,"header"),r.Nb(1,"div",0),r.Nb(2,"p"),r.Nb(3,"a",1),r.Lb(4,"img",2),r.Mb(),r.Mb(),r.Mb(),r.Nb(5,"nav"),r.Nb(6,"ul",3),r.Nb(7,"li"),r.Nb(8,"a",4),r.lc(9,"Graphic Design"),r.Mb(),r.Mb(),r.Nb(10,"li"),r.Nb(11,"a",5),r.lc(12,"Computer Science"),r.Mb(),r.Mb(),r.Nb(13,"li"),r.Nb(14,"a",6),r.lc(15,"Shop"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(16,"p"),r.Nb(17,"a",7),r.Nb(18,"button"),r.lc(19,"Contact"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Lb(20,"router-outlet"))},directives:[$r,Kr,Qr],styles:['@import url("https://fonts.googleapis.com/css?family=Open+Sans&display=swap");*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}hr[_ngcontent-%COMP%]{size:3px}a[_ngcontent-%COMP%], img[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{font-family:OpenSans,sans-serif;flex-wrap:nowrap;font-weight:lighter;font-size:1vw;color:#000;text-decoration:none;text-transform:uppercase}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:30px 5%}.logo[_ngcontent-%COMP%]{cursor:pointer;object-fit:cover;max-width:100%}.nav_links[_ngcontent-%COMP%]{list-style-type:none}.nav_links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;padding:0 3vw}.nav_links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:all .3 ease 0s}.nav_links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000;font-weight:700}button[_ngcontent-%COMP%]{color:#fff;padding:9px 25px;background-color:#3633dc;max-width:100%;border:none;font-size:1vw;border-radius:40px;cursor:pointer;transition:all .3s ease 0s}button[_ngcontent-%COMP%]:hover{background-color:#ecd60b}.logoheader[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.8;transition:all .3s ease 0s}']}),t})();class _S{}class wS{}class ES{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ES?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ES;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ES?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class OS{encodeKey(t){return CS(t)}encodeValue(t){return CS(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function CS(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class SS{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new OS,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new SS({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function TS(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function xS(t){return"undefined"!=typeof Blob&&t instanceof Blob}function IS(t){return"undefined"!=typeof FormData&&t instanceof FormData}class AS{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new ES),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new SS,this.urlWithParams=e}serializeBody(){return null===this.body?null:TS(this.body)||xS(this.body)||IS(this.body)||"string"==typeof this.body?this.body:this.body instanceof SS?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||IS(this.body)?null:xS(this.body)?this.body.type||null:TS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof SS?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new AS(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var kS=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class jS{constructor(t,e=200,n="OK"){this.headers=t.headers||new ES,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class PS extends jS{constructor(t={}){super(t),this.type=kS.ResponseHeader}clone(t={}){return new PS({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class RS extends jS{constructor(t={}){super(t),this.type=kS.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new RS({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class NS extends jS{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function DS(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let LS=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof AS)r=t;else{let i=void 0;i=n.headers instanceof ES?n.headers:new ES(n.headers);let s=void 0;n.params&&(s=n.params instanceof SS?n.params:new SS({fromObject:n.params})),r=new AS(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(ft.a)(r).pipe(fe(t=>this.handler.handle(t)));if(t instanceof AS||"events"===n.observe)return i;const s=i.pipe(Dt(t=>t instanceof RS));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(Pt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(Pt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(Pt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(Pt.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new SS).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,DS(n,e))}post(t,e,n={}){return this.request("POST",t,DS(n,e))}put(t,e,n={}){return this.request("PUT",t,DS(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(_S))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class MS{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const FS=new r.q("HTTP_INTERCEPTORS");let VS=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const US=/^\)\]\}',?\n/;class qS{}let BS=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),zS=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ot.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new ES(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new PS({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(US,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new RS({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new NS({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new NS({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:kS.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:kS.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:kS.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(qS))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const HS=new r.q("XSRF_COOKIE_NAME"),WS=new r.q("XSRF_HEADER_NAME");class $S{}let GS=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=I(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(o),r.Rb(r.B),r.Rb(HS))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),KS=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb($S),r.Rb(WS))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),QS=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(FS,[]);this.chain=t.reduceRight((t,e)=>new MS(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(wS),r.Rb(r.r))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),YS=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:KS,useClass:VS}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:HS,useValue:e.cookieName}:[],e.headerName?{provide:WS,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[KS,{provide:FS,useExisting:KS,multi:!0},{provide:$S,useClass:GS},{provide:HS,useValue:"XSRF-TOKEN"},{provide:WS,useValue:"X-XSRF-TOKEN"}]}),t})(),ZS=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[LS,{provide:_S,useClass:QS},zS,{provide:wS,useExisting:zS},BS,{provide:qS,useExisting:BS}],imports:[[YS.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),XS=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[Zu,Mu],Zu,Mu]}),t})();const JS={apiKey:"AIzaSyAlVFsYEONunoSTwGsTLwZIe5Gpi6zWBjU",authDomain:"portfolio-b7255.firebaseapp.com",databaseURL:"https://portfolio-b7255.firebaseio.com",projectId:"portfolio-b7255",storageBucket:"portfolio-b7255.appspot.com",messagingSenderId:"86797676212",appId:"1:86797676212:web:4538f23b10deedebbf71e1"};let tT=(()=>{class t{}return t.\u0275mod=r.Ib({type:t,bootstrap:[bS]}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[rC],imports:[[vc.a.initializeApp(JS),nC,XS,Xi,ht,vS,dc,Nu,dS,ZS,Yu,pS]]}),t})();Object(r.T)(),ct().bootstrapModule(tT).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);